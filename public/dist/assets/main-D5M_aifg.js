var $g=Object.defineProperty;var Wg=(r,i,a)=>i in r?$g(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a;var xn=(r,i,a)=>Wg(r,typeof i!="symbol"?i+"":i,a);function Hg(r,i){for(var a=0;a<i.length;a++){const c=i[a];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in r)){const f=Object.getOwnPropertyDescriptor(c,h);f&&Object.defineProperty(r,h,f.get?f:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function a(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(h){if(h.ep)return;h.ep=!0;const f=a(h);fetch(h.href,f)}})();function vp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rd={exports:{}},jo={},zd={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Vg(){if(xm)return Oe;xm=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),C=Symbol.iterator;function O(A){return A===null||typeof A!="object"?null:(A=C&&A[C]||A["@@iterator"],typeof A=="function"?A:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,T={};function k(A,Q,ce){this.props=A,this.context=Q,this.refs=T,this.updater=ce||$}k.prototype.isReactComponent={},k.prototype.setState=function(A,Q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Q,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function P(){}P.prototype=k.prototype;function R(A,Q,ce){this.props=A,this.context=Q,this.refs=T,this.updater=ce||$}var F=R.prototype=new P;F.constructor=R,z(F,k.prototype),F.isPureReactComponent=!0;var B=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function te(A,Q,ce){var le,he={},ue=null,we=null;if(Q!=null)for(le in Q.ref!==void 0&&(we=Q.ref),Q.key!==void 0&&(ue=""+Q.key),Q)J.call(Q,le)&&!ae.hasOwnProperty(le)&&(he[le]=Q[le]);var Te=arguments.length-2;if(Te===1)he.children=ce;else if(1<Te){for(var Ve=Array(Te),ct=0;ct<Te;ct++)Ve[ct]=arguments[ct+2];he.children=Ve}if(A&&A.defaultProps)for(le in Te=A.defaultProps,Te)he[le]===void 0&&(he[le]=Te[le]);return{$$typeof:r,type:A,key:ue,ref:we,props:he,_owner:se.current}}function q(A,Q){return{$$typeof:r,type:A.type,key:Q,ref:A.ref,props:A.props,_owner:A._owner}}function Re(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function Fe(A){var Q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ce){return Q[ce]})}var De=/\/+/g;function Je(A,Q){return typeof A=="object"&&A!==null&&A.key!=null?Fe(""+A.key):Q.toString(36)}function Ye(A,Q,ce,le,he){var ue=typeof A;(ue==="undefined"||ue==="boolean")&&(A=null);var we=!1;if(A===null)we=!0;else switch(ue){case"string":case"number":we=!0;break;case"object":switch(A.$$typeof){case r:case i:we=!0}}if(we)return we=A,he=he(we),A=le===""?"."+Je(we,0):le,B(he)?(ce="",A!=null&&(ce=A.replace(De,"$&/")+"/"),Ye(he,Q,ce,"",function(ct){return ct})):he!=null&&(Re(he)&&(he=q(he,ce+(!he.key||we&&we.key===he.key?"":(""+he.key).replace(De,"$&/")+"/")+A)),Q.push(he)),1;if(we=0,le=le===""?".":le+":",B(A))for(var Te=0;Te<A.length;Te++){ue=A[Te];var Ve=le+Je(ue,Te);we+=Ye(ue,Q,ce,Ve,he)}else if(Ve=O(A),typeof Ve=="function")for(A=Ve.call(A),Te=0;!(ue=A.next()).done;)ue=ue.value,Ve=le+Je(ue,Te++),we+=Ye(ue,Q,ce,Ve,he);else if(ue==="object")throw Q=String(A),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return we}function yt(A,Q,ce){if(A==null)return A;var le=[],he=0;return Ye(A,le,"","",function(ue){return Q.call(ce,ue,he++)}),le}function Ae(A){if(A._status===-1){var Q=A._result;Q=Q(),Q.then(function(ce){(A._status===0||A._status===-1)&&(A._status=1,A._result=ce)},function(ce){(A._status===0||A._status===-1)&&(A._status=2,A._result=ce)}),A._status===-1&&(A._status=0,A._result=Q)}if(A._status===1)return A._result.default;throw A._result}var Ue={current:null},H={transition:null},_e={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:H,ReactCurrentOwner:se};function X(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:yt,forEach:function(A,Q,ce){yt(A,function(){Q.apply(this,arguments)},ce)},count:function(A){var Q=0;return yt(A,function(){Q++}),Q},toArray:function(A){return yt(A,function(Q){return Q})||[]},only:function(A){if(!Re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Oe.Component=k,Oe.Fragment=a,Oe.Profiler=h,Oe.PureComponent=R,Oe.StrictMode=c,Oe.Suspense=y,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Oe.act=X,Oe.cloneElement=function(A,Q,ce){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var le=z({},A.props),he=A.key,ue=A.ref,we=A._owner;if(Q!=null){if(Q.ref!==void 0&&(ue=Q.ref,we=se.current),Q.key!==void 0&&(he=""+Q.key),A.type&&A.type.defaultProps)var Te=A.type.defaultProps;for(Ve in Q)J.call(Q,Ve)&&!ae.hasOwnProperty(Ve)&&(le[Ve]=Q[Ve]===void 0&&Te!==void 0?Te[Ve]:Q[Ve])}var Ve=arguments.length-2;if(Ve===1)le.children=ce;else if(1<Ve){Te=Array(Ve);for(var ct=0;ct<Ve;ct++)Te[ct]=arguments[ct+2];le.children=Te}return{$$typeof:r,type:A.type,key:he,ref:ue,props:le,_owner:we}},Oe.createContext=function(A){return A={$$typeof:g,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:f,_context:A},A.Consumer=A},Oe.createElement=te,Oe.createFactory=function(A){var Q=te.bind(null,A);return Q.type=A,Q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(A){return{$$typeof:w,render:A}},Oe.isValidElement=Re,Oe.lazy=function(A){return{$$typeof:j,_payload:{_status:-1,_result:A},_init:Ae}},Oe.memo=function(A,Q){return{$$typeof:_,type:A,compare:Q===void 0?null:Q}},Oe.startTransition=function(A){var Q=H.transition;H.transition={};try{A()}finally{H.transition=Q}},Oe.unstable_act=X,Oe.useCallback=function(A,Q){return Ue.current.useCallback(A,Q)},Oe.useContext=function(A){return Ue.current.useContext(A)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(A){return Ue.current.useDeferredValue(A)},Oe.useEffect=function(A,Q){return Ue.current.useEffect(A,Q)},Oe.useId=function(){return Ue.current.useId()},Oe.useImperativeHandle=function(A,Q,ce){return Ue.current.useImperativeHandle(A,Q,ce)},Oe.useInsertionEffect=function(A,Q){return Ue.current.useInsertionEffect(A,Q)},Oe.useLayoutEffect=function(A,Q){return Ue.current.useLayoutEffect(A,Q)},Oe.useMemo=function(A,Q){return Ue.current.useMemo(A,Q)},Oe.useReducer=function(A,Q,ce){return Ue.current.useReducer(A,Q,ce)},Oe.useRef=function(A){return Ue.current.useRef(A)},Oe.useState=function(A){return Ue.current.useState(A)},Oe.useSyncExternalStore=function(A,Q,ce){return Ue.current.useSyncExternalStore(A,Q,ce)},Oe.useTransition=function(){return Ue.current.useTransition()},Oe.version="18.3.1",Oe}var vm;function Jc(){return vm||(vm=1,zd.exports=Vg()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Zg(){if(ym)return jo;ym=1;var r=Jc(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function g(w,y,_){var j,C={},O=null,$=null;_!==void 0&&(O=""+_),y.key!==void 0&&(O=""+y.key),y.ref!==void 0&&($=y.ref);for(j in y)c.call(y,j)&&!f.hasOwnProperty(j)&&(C[j]=y[j]);if(w&&w.defaultProps)for(j in y=w.defaultProps,y)C[j]===void 0&&(C[j]=y[j]);return{$$typeof:i,type:w,key:O,ref:$,props:C,_owner:h.current}}return jo.Fragment=a,jo.jsx=g,jo.jsxs=g,jo}var _m;function qg(){return _m||(_m=1,Rd.exports=Zg()),Rd.exports}var s=qg(),D=Jc();const Bc=vp(D),Gg=Hg({__proto__:null,default:Bc},[D]);var pc={},Ad={exports:{}},Yt={},Od={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Kg(){return wm||(wm=1,(function(r){function i(H,_e){var X=H.length;H.push(_e);e:for(;0<X;){var A=X-1>>>1,Q=H[A];if(0<h(Q,_e))H[A]=_e,H[X]=Q,X=A;else break e}}function a(H){return H.length===0?null:H[0]}function c(H){if(H.length===0)return null;var _e=H[0],X=H.pop();if(X!==_e){H[0]=X;e:for(var A=0,Q=H.length,ce=Q>>>1;A<ce;){var le=2*(A+1)-1,he=H[le],ue=le+1,we=H[ue];if(0>h(he,X))ue<Q&&0>h(we,he)?(H[A]=we,H[ue]=X,A=ue):(H[A]=he,H[le]=X,A=le);else if(ue<Q&&0>h(we,X))H[A]=we,H[ue]=X,A=ue;else break e}}return _e}function h(H,_e){var X=H.sortIndex-_e.sortIndex;return X!==0?X:H.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var g=Date,w=g.now();r.unstable_now=function(){return g.now()-w}}var y=[],_=[],j=1,C=null,O=3,$=!1,z=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(H){for(var _e=a(_);_e!==null;){if(_e.callback===null)c(_);else if(_e.startTime<=H)c(_),_e.sortIndex=_e.expirationTime,i(y,_e);else break;_e=a(_)}}function B(H){if(T=!1,F(H),!z)if(a(y)!==null)z=!0,Ae(J);else{var _e=a(_);_e!==null&&Ue(B,_e.startTime-H)}}function J(H,_e){z=!1,T&&(T=!1,P(te),te=-1),$=!0;var X=O;try{for(F(_e),C=a(y);C!==null&&(!(C.expirationTime>_e)||H&&!Fe());){var A=C.callback;if(typeof A=="function"){C.callback=null,O=C.priorityLevel;var Q=A(C.expirationTime<=_e);_e=r.unstable_now(),typeof Q=="function"?C.callback=Q:C===a(y)&&c(y),F(_e)}else c(y);C=a(y)}if(C!==null)var ce=!0;else{var le=a(_);le!==null&&Ue(B,le.startTime-_e),ce=!1}return ce}finally{C=null,O=X,$=!1}}var se=!1,ae=null,te=-1,q=5,Re=-1;function Fe(){return!(r.unstable_now()-Re<q)}function De(){if(ae!==null){var H=r.unstable_now();Re=H;var _e=!0;try{_e=ae(!0,H)}finally{_e?Je():(se=!1,ae=null)}}else se=!1}var Je;if(typeof R=="function")Je=function(){R(De)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,yt=Ye.port2;Ye.port1.onmessage=De,Je=function(){yt.postMessage(null)}}else Je=function(){k(De,0)};function Ae(H){ae=H,se||(se=!0,Je())}function Ue(H,_e){te=k(function(){H(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){z||$||(z=!0,Ae(J))},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return a(y)},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var _e=3;break;default:_e=O}var X=O;O=_e;try{return H()}finally{O=X}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,_e){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=O;O=H;try{return _e()}finally{O=X}},r.unstable_scheduleCallback=function(H,_e,X){var A=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?A+X:A):X=A,H){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,H={id:j++,callback:_e,priorityLevel:H,startTime:X,expirationTime:Q,sortIndex:-1},X>A?(H.sortIndex=X,i(_,H),a(y)===null&&H===a(_)&&(T?(P(te),te=-1):T=!0,Ue(B,X-A))):(H.sortIndex=Q,i(y,H),z||$||(z=!0,Ae(J))),H},r.unstable_shouldYield=Fe,r.unstable_wrapCallback=function(H){var _e=O;return function(){var X=O;O=_e;try{return H.apply(this,arguments)}finally{O=X}}}})(Id)),Id}var bm;function Jg(){return bm||(bm=1,Od.exports=Kg()),Od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function Qg(){if(jm)return Yt;jm=1;var r=Jc(),i=Jg();function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function f(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(h[e]=n,e=0;e<n.length;e++)c.add(n[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j={},C={};function O(e){return y.call(C,e)?!0:y.call(j,e)?!1:_.test(e)?C[e]=!0:(j[e]=!0,!1)}function $(e,n,l,d){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z(e,n,l,d){if(n===null||typeof n>"u"||$(e,n,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(e,n,l,d,p,x,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=x,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];k[n]=new T(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(P,R);k[n]=new T(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(P,R);k[n]=new T(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(P,R);k[n]=new T(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,n,l,d){var p=k.hasOwnProperty(n)?k[n]:null;(p!==null?p.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(z(n,l,p,d)&&(l=null),d||p===null?O(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):p.mustUseProperty?e[p.propertyName]=l===null?p.type===3?!1:"":l:(n=p.attributeName,d=p.attributeNamespace,l===null?e.removeAttribute(n):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?e.setAttributeNS(d,n,l):e.setAttribute(n,l))))}var B=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),Fe=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),H=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,A;function Q(e){if(A===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var ce=!1;function le(e,n){if(!e||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(G){var d=G}Reflect.construct(e,[],n)}else{try{n.call()}catch(G){d=G}e.call(n.prototype)}else{try{throw Error()}catch(G){d=G}e()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),x=d.stack.split(`
`),b=p.length-1,S=x.length-1;1<=b&&0<=S&&p[b]!==x[S];)S--;for(;1<=b&&0<=S;b--,S--)if(p[b]!==x[S]){if(b!==1||S!==1)do if(b--,S--,0>S||p[b]!==x[S]){var M=`
`+p[b].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=b&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?Q(e):""}function he(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case se:return"Portal";case q:return"Profiler";case te:return"StrictMode";case Je:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fe:return(e.displayName||"Context")+".Consumer";case Re:return(e._context.displayName||"Context")+".Provider";case De:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case Ae:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function we(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ve(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(e){var n=Ve(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,x=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,x.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wn(e){e._valueTracker||(e._valueTracker=ct(e))}function sn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),d="";return e&&(d=Ve(e)?e.checked?"true":"false":e.value),e=d,e!==l?(n.setValue(e),!0):!1}function Dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ba(e,n){var l=n.checked;return X({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function ja(e,n){var l=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;l=Te(n.value!=null?n.value:l),e._wrapperState={initialChecked:d,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Na(e,n){n=n.checked,n!=null&&F(e,"checked",n,!1)}function Li(e,n){Na(e,n);var l=Te(n.value),d=n.type;if(l!=null)d==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ka(e,n.type,l):n.hasOwnProperty("defaultValue")&&ka(e,n.type,Te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ti(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function ka(e,n,l){(n!=="number"||Dr(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var Br=Array.isArray;function Gn(e,n,l,d){if(e=e.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=n.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&d&&(e[l].defaultSelected=!0)}else{for(l=""+Te(l),n=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,d&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function ys(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return X({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ca(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(a(92));if(Br(l)){if(1<l.length)throw Error(a(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:Te(l)}}function qo(e,n){var l=Te(n.value),d=Te(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),d!=null&&(e.defaultValue=""+d)}function Go(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _s(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ws(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_s(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mi,Ko=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,d,p){MSApp.execUnsafeLocalFunction(function(){return e(n,l,d,p)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Mi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Fr(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cu=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){cu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ur[n]=Ur[e]})});function Sa(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+n).trim():n+"px"}function bs(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Sa(l,n[l],d);l==="float"&&(l="cssFloat"),d?e.setProperty(l,p):e[l]=p}}var Jo=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,n){if(n){if(Jo[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function dr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=null;function La(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var js=null,hr=null,fr=null;function Qo(e){if(e=kr(e)){if(typeof js!="function")throw Error(a(280));var n=e.stateNode;n&&(n=Js(n),js(e.stateNode,e.type,n))}}function Xo(e){hr?fr?fr.push(e):fr=[e]:hr=e}function Yo(){if(hr){var e=hr,n=fr;if(fr=hr=null,Qo(e),n)for(e=0;e<n.length;e++)Qo(n[e])}}function el(e,n){return e(n)}function tl(){}var Ta=!1;function Ns(e,n,l){if(Ta)return e(n,l);Ta=!0;try{return el(e,n,l)}finally{Ta=!1,(hr!==null||fr!==null)&&(tl(),Yo())}}function Ri(e,n){var l=e.stateNode;if(l===null)return null;var d=Js(l);if(d===null)return null;l=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var Ma=!1;if(w)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Ma=!1}function uu(e,n,l,d,p,x,b,S,M){var G=Array.prototype.slice.call(arguments,3);try{n.apply(l,G)}catch(ne){this.onError(ne)}}var Tt=!1,ve=null,Ai=!1,ks=null,nl={onError:function(e){Tt=!0,ve=e}};function rl(e,n,l,d,p,x,b,S,M){Tt=!1,ve=null,uu.apply(nl,arguments)}function Ra(e,n,l,d,p,x,b,S,M){if(rl.apply(this,arguments),Tt){if(Tt){var G=ve;Tt=!1,ve=null}else throw Error(a(198));Ai||(Ai=!0,ks=G)}}function Kn(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function mr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function za(e){if(Kn(e)!==e)throw Error(a(188))}function du(e){var n=e.alternate;if(!n){if(n=Kn(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,d=n;;){var p=l.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===l)return za(p),e;if(x===d)return za(p),n;x=x.sibling}throw Error(a(188))}if(l.return!==d.return)l=p,d=x;else{for(var b=!1,S=p.child;S;){if(S===l){b=!0,l=p,d=x;break}if(S===d){b=!0,d=p,l=x;break}S=S.sibling}if(!b){for(S=x.child;S;){if(S===l){b=!0,l=x,d=p;break}if(S===d){b=!0,d=x,l=p;break}S=S.sibling}if(!b)throw Error(a(189))}}if(l.alternate!==d)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function il(e){return e=du(e),e!==null?sl(e):null}function sl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=sl(e);if(n!==null)return n;e=e.sibling}return null}var al=i.unstable_scheduleCallback,Aa=i.unstable_cancelCallback,hu=i.unstable_shouldYield,Cs=i.unstable_requestPaint,it=i.unstable_now,fu=i.unstable_getCurrentPriorityLevel,Oa=i.unstable_ImmediatePriority,ol=i.unstable_UserBlockingPriority,Ss=i.unstable_NormalPriority,Ia=i.unstable_LowPriority,$r=i.unstable_IdlePriority,Oi=null,an=null;function Ii(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Oi,e,void 0,(e.current.flags&128)===128)}catch{}}var Pe=Math.clz32?Math.clz32:Wr,et=Math.log,Ps=Math.LN2;function Wr(e){return e>>>=0,e===0?32:31-(et(e)/Ps|0)|0}var zn=64,Hr=4194304;function Se(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qe(e,n){var l=e.pendingLanes;if(l===0)return 0;var d=0,p=e.suspendedLanes,x=e.pingedLanes,b=l&268435455;if(b!==0){var S=b&~p;S!==0?d=Se(S):(x&=b,x!==0&&(d=Se(x)))}else b=l&~p,b!==0?d=Se(b):x!==0&&(d=Se(x));if(d===0)return 0;if(n!==0&&n!==d&&(n&p)===0&&(p=d&-d,x=n&-n,p>=x||p===16&&(x&4194240)!==0))return n;if((d&4)!==0&&(d|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)l=31-Pe(n),p=1<<l,d|=e[l],n&=~p;return d}function Da(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(e,n){for(var l=e.suspendedLanes,d=e.pingedLanes,p=e.expirationTimes,x=e.pendingLanes;0<x;){var b=31-Pe(x),S=1<<b,M=p[b];M===-1?((S&l)===0||(S&d)!==0)&&(p[b]=Da(S,n)):M<=n&&(e.expiredLanes|=S),x&=~S}}function Mt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ll(){var e=zn;return zn<<=1,(zn&4194240)===0&&(zn=64),e}function Vr(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function on(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pe(n),e[n]=l}function ut(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<l;){var p=31-Pe(l),x=1<<p;n[p]=0,d[p]=-1,e[p]=-1,l&=~x}}function An(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var d=31-Pe(l),p=1<<d;p&n|e[d]&n&&(e[d]|=n),l&=~p}}var $e=0;function Zr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ls,pr,Ts,Ms,Di,Bi=!1,qr=[],ln=null,On=null,bn=null,Fi=new Map,ke=new Map,_t=[],Ge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(e,n){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Fi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ke.delete(n.pointerId)}}function gr(e,n,l,d,p,x){return e===null||e.nativeEvent!==x?(e={blockedOn:n,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},n!==null&&(n=kr(n),n!==null&&pr(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function Fa(e,n,l,d,p){switch(n){case"focusin":return ln=gr(ln,e,n,l,d,p),!0;case"dragenter":return On=gr(On,e,n,l,d,p),!0;case"mouseover":return bn=gr(bn,e,n,l,d,p),!0;case"pointerover":var x=p.pointerId;return Fi.set(x,gr(Fi.get(x)||null,e,n,l,d,p)),!0;case"gotpointercapture":return x=p.pointerId,ke.set(x,gr(ke.get(x)||null,e,n,l,d,p)),!0}return!1}function Rs(e){var n=Nr(e.target);if(n!==null){var l=Kn(n);if(l!==null){if(n=l.tag,n===13){if(n=mr(l),n!==null){e.blockedOn=n,Di(e.priority,function(){Ts(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Os(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var d=new l.constructor(l.type,l);Ea=d,l.target.dispatchEvent(d),Ea=null}else return n=kr(l),n!==null&&pr(n),e.blockedOn=l,!1;n.shift()}return!0}function zs(e,n,l){jn(e)&&l.delete(n)}function Ui(){Bi=!1,ln!==null&&jn(ln)&&(ln=null),On!==null&&jn(On)&&(On=null),bn!==null&&jn(bn)&&(bn=null),Fi.forEach(zs),ke.forEach(zs)}function st(e,n){e.blockedOn===n&&(e.blockedOn=null,Bi||(Bi=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ui)))}function cn(e){function n(p){return st(p,e)}if(0<qr.length){st(qr[0],e);for(var l=1;l<qr.length;l++){var d=qr[l];d.blockedOn===e&&(d.blockedOn=null)}}for(ln!==null&&st(ln,e),On!==null&&st(On,e),bn!==null&&st(bn,e),Fi.forEach(n),ke.forEach(n),l=0;l<_t.length;l++)d=_t[l],d.blockedOn===e&&(d.blockedOn=null);for(;0<_t.length&&(l=_t[0],l.blockedOn===null);)Rs(l),l.blockedOn===null&&_t.shift()}var xr=B.ReactCurrentBatchConfig,$i=!0;function mu(e,n,l,d){var p=$e,x=xr.transition;xr.transition=null;try{$e=1,Wi(e,n,l,d)}finally{$e=p,xr.transition=x}}function cl(e,n,l,d){var p=$e,x=xr.transition;xr.transition=null;try{$e=4,Wi(e,n,l,d)}finally{$e=p,xr.transition=x}}function Wi(e,n,l,d){if($i){var p=Os(e,n,l,d);if(p===null)t(e,n,d,As,l),Ba(e,d);else if(Fa(p,e,n,l,d))d.stopPropagation();else if(Ba(e,d),n&4&&-1<Ge.indexOf(e)){for(;p!==null;){var x=kr(p);if(x!==null&&Ls(x),x=Os(e,n,l,d),x===null&&t(e,n,d,As,l),x===p)break;p=x}p!==null&&d.stopPropagation()}else t(e,n,d,null,l)}}var As=null;function Os(e,n,l,d){if(As=null,e=La(d),e=Nr(e),e!==null)if(n=Kn(e),n===null)e=null;else if(l=n.tag,l===13){if(e=mr(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return As=e,null}function Be(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fu()){case Oa:return 1;case ol:return 4;case Ss:case Ia:return 16;case $r:return 536870912;default:return 16}default:return 16}}var Jn=null,Ut=null,Qn=null;function Ua(){if(Qn)return Qn;var e,n=Ut,l=n.length,d,p="value"in Jn?Jn.value:Jn.textContent,x=p.length;for(e=0;e<l&&n[e]===p[e];e++);var b=l-e;for(d=1;d<=b&&n[l-d]===p[x-d];d++);return Qn=p.slice(e,1<d?1-d:void 0)}function Is(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function ul(){return!1}function Rt(e){function n(l,d,p,x,b){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(x):x[S]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Gr:ul,this.isPropagationStopped=ul,this}return X(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),n}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Rt(Kr),vr=X({},Kr,{view:0,detail:0}),pu=Rt(vr),Zt,Wa,Jr,un=X({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(Zt=e.screenX-Jr.screenX,Wa=e.screenY-Jr.screenY):Wa=Zt=0,Jr=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),Ha=Rt(un),dl=X({},un,{dataTransfer:0}),Va=Rt(dl),gu=X({},vr,{relatedTarget:0}),Ds=Rt(gu),hl=X({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Rt(hl),vu=X({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Za=Rt(vu),yu=X({},Kr,{data:0}),qa=Rt(yu),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yr[e])?!!n[e]:!1}function _r(){return _u}var qt=X({},vr,{key:function(e){if(e.key){var n=fl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ml=Rt(qt),pl=X({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Rt(pl),Ga=X({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),Ka=Rt(Ga),wu=X({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Rt(wu),xl=X({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ju=Rt(xl),dn=[9,13,27,32],Xn=w&&"CompositionEvent"in window,Hi=null;w&&"documentMode"in document&&(Hi=document.documentMode);var In=w&&"TextEvent"in window&&!Hi,vl=w&&(!Xn||Hi&&8<Hi&&11>=Hi),wr=" ",yl=!1;function Qr(e,n){switch(e){case"keyup":return dn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Nu(e,n){switch(e){case"compositionend":return Ja(n);case"keypress":return n.which!==32?null:(yl=!0,wr);case"textInput":return e=n.data,e===wr&&yl?null:e;default:return null}}function Yn(e,n){if(Dn)return e==="compositionend"||!Xn&&Qr(e,n)?(e=Ua(),Qn=Ut=Jn=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vl&&n.locale!=="ko"?null:n.data;default:return null}}var Fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _l(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fs[e.type]:n==="textarea"}function Us(e,n,l,d){Xo(d),n=u(n,"onChange"),0<n.length&&(l=new $a("onChange","change",null,l,d),e.push({event:l,listeners:n}))}var Vi=null,$t=null;function ku(e){so(e,0)}function Bn(e){var n=Cr(e);if(sn(n))return e}function Cu(e,n){if(e==="change")return n}var Nn=!1;if(w){var Xr;if(w){var $s="oninput"in document;if(!$s){var Ws=document.createElement("div");Ws.setAttribute("oninput","return;"),$s=typeof Ws.oninput=="function"}Xr=$s}else Xr=!1;Nn=Xr&&(!document.documentMode||9<document.documentMode)}function Zi(){Vi&&(Vi.detachEvent("onpropertychange",Hs),$t=Vi=null)}function Hs(e){if(e.propertyName==="value"&&Bn($t)){var n=[];Us(n,$t,e,La(e)),Ns(ku,n)}}function Vs(e,n,l){e==="focusin"?(Zi(),Vi=n,$t=l,Vi.attachEvent("onpropertychange",Hs)):e==="focusout"&&Zi()}function Yr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bn($t)}function Zs(e,n){if(e==="click")return Bn(n)}function Qa(e,n){if(e==="input"||e==="change")return Bn(n)}function wl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:wl;function er(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),d=Object.keys(n);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!y.call(n,p)||!hn(e[p],n[p]))return!1}return!0}function bl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xa(e,n){var l=bl(e);e=0;for(var d;l;){if(l.nodeType===3){if(d=e+l.textContent.length,e<=n&&d>=n)return{node:l,offset:n-e};e=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bl(l)}}function jl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ya(){for(var e=window,n=Dr();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Dr(e.document)}return n}function eo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function kn(e){var n=Ya(),l=e.focusedElem,d=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&jl(l.ownerDocument.documentElement,l)){if(d!==null&&eo(l)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var p=l.textContent.length,x=Math.min(d.start,p);d=d.end===void 0?x:Math.min(d.end,p),!e.extend&&x>d&&(p=d,d=x,x=p),p=Xa(l,x);var b=Xa(l,d);p&&b&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),e.removeAllRanges(),x>d?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qs=w&&"documentMode"in document&&11>=document.documentMode,ei=null,ti=null,qi=null,Gs=!1;function Nl(e,n,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gs||ei==null||ei!==Dr(d)||(d=ei,"selectionStart"in d&&eo(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qi&&er(qi,d)||(qi=d,d=u(ti,"onSelect"),0<d.length&&(n=new $a("onSelect","select",null,n,l),e.push({event:n,listeners:d}),n.target=ei)))}function tr(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ni={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},nr={},to={};w&&(to=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Gi(e){if(nr[e])return nr[e];if(!ni[e])return e;var n=ni[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in to)return nr[e]=n[l];return e}var kl=Gi("animationend"),Cn=Gi("animationiteration"),no=Gi("animationstart"),ro=Gi("transitionend"),ri=new Map,Cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,n){ri.set(e,n),f(n,[e])}for(var br=0;br<Cl.length;br++){var Ks=Cl[br],Sl=Ks.toLowerCase(),Su=Ks[0].toUpperCase()+Ks.slice(1);fn(Sl,"on"+Su)}fn(kl,"onAnimationEnd"),fn(Cn,"onAnimationIteration"),fn(no,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(ro,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function io(e,n,l){var d=e.type||"unknown-event";e.currentTarget=l,Ra(d,n,void 0,e),e.currentTarget=null}function so(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var d=e[l],p=d.event;d=d.listeners;e:{var x=void 0;if(n)for(var b=d.length-1;0<=b;b--){var S=d[b],M=S.instance,G=S.currentTarget;if(S=S.listener,M!==x&&p.isPropagationStopped())break e;io(p,S,G),x=M}else for(b=0;b<d.length;b++){if(S=d[b],M=S.instance,G=S.currentTarget,S=S.listener,M!==x&&p.isPropagationStopped())break e;io(p,S,G),x=M}}}if(Ai)throw e=ks,Ai=!1,ks=null,e}function Ke(e,n){var l=n[li];l===void 0&&(l=n[li]=new Set);var d=e+"__bubble";l.has(d)||(El(n,e,2,!1),l.add(d))}function ao(e,n,l){var d=0;n&&(d|=4),El(l,e,d,n)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function si(e){if(!e[Ki]){e[Ki]=!0,c.forEach(function(l){l!=="selectionchange"&&(Pl.has(l)||ao(l,!1,e),ao(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ki]||(n[Ki]=!0,ao("selectionchange",!1,n))}}function El(e,n,l,d){switch(Be(n)){case 1:var p=mu;break;case 4:p=cl;break;default:p=Wi}l=p.bind(null,n,l,e),p=void 0,!Ma||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),d?p!==void 0?e.addEventListener(n,l,{capture:!0,passive:p}):e.addEventListener(n,l,!0):p!==void 0?e.addEventListener(n,l,{passive:p}):e.addEventListener(n,l,!1)}function t(e,n,l,d,p){var x=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var S=d.stateNode.containerInfo;if(S===p||S.nodeType===8&&S.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var M=b.tag;if((M===3||M===4)&&(M=b.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;b=b.return}for(;S!==null;){if(b=Nr(S),b===null)return;if(M=b.tag,M===5||M===6){d=x=b;continue e}S=S.parentNode}}d=d.return}Ns(function(){var G=x,ne=La(l),re=[];e:{var ee=ri.get(e);if(ee!==void 0){var de=$a,me=e;switch(e){case"keypress":if(Is(l)===0)break e;case"keydown":case"keyup":de=ml;break;case"focusin":me="focus",de=Ds;break;case"focusout":me="blur",de=Ds;break;case"beforeblur":case"afterblur":de=Ds;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Va;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Ka;break;case kl:case Cn:case no:de=xu;break;case ro:de=bu;break;case"scroll":de=pu;break;case"wheel":de=ju;break;case"copy":case"cut":case"paste":de=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=gl}var xe=(n&4)!==0,ft=!xe&&e==="scroll",W=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var I=G,V;I!==null;){V=I;var ie=V.stateNode;if(V.tag===5&&ie!==null&&(V=ie,W!==null&&(ie=Ri(I,W),ie!=null&&xe.push(o(I,ie,V)))),ft)break;I=I.return}0<xe.length&&(ee=new de(ee,me,null,l,ne),re.push({event:ee,listeners:xe}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",ee&&l!==Ea&&(me=l.relatedTarget||l.fromElement)&&(Nr(me)||me[qe]))break e;if((de||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=l.relatedTarget||l.toElement,de=G,me=me?Nr(me):null,me!==null&&(ft=Kn(me),me!==ft||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=G),de!==me)){if(xe=Ha,ie="onMouseLeave",W="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(xe=gl,ie="onPointerLeave",W="onPointerEnter",I="pointer"),ft=de==null?ee:Cr(de),V=me==null?ee:Cr(me),ee=new xe(ie,I+"leave",de,l,ne),ee.target=ft,ee.relatedTarget=V,ie=null,Nr(ne)===G&&(xe=new xe(W,I+"enter",me,l,ne),xe.target=V,xe.relatedTarget=ft,ie=xe),ft=ie,de&&me)t:{for(xe=de,W=me,I=0,V=xe;V;V=m(V))I++;for(V=0,ie=W;ie;ie=m(ie))V++;for(;0<I-V;)xe=m(xe),I--;for(;0<V-I;)W=m(W),V--;for(;I--;){if(xe===W||W!==null&&xe===W.alternate)break t;xe=m(xe),W=m(W)}xe=null}else xe=null;de!==null&&v(re,ee,de,xe,!1),me!==null&&ft!==null&&v(re,ft,me,xe,!0)}}e:{if(ee=G?Cr(G):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=Cu;else if(_l(ee))if(Nn)ye=Qa;else{ye=Yr;var je=Vs}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=Zs);if(ye&&(ye=ye(e,G))){Us(re,ye,l,ne);break e}je&&je(e,ee,G),e==="focusout"&&(je=ee._wrapperState)&&je.controlled&&ee.type==="number"&&ka(ee,"number",ee.value)}switch(je=G?Cr(G):window,e){case"focusin":(_l(je)||je.contentEditable==="true")&&(ei=je,ti=G,qi=null);break;case"focusout":qi=ti=ei=null;break;case"mousedown":Gs=!0;break;case"contextmenu":case"mouseup":case"dragend":Gs=!1,Nl(re,l,ne);break;case"selectionchange":if(qs)break;case"keydown":case"keyup":Nl(re,l,ne)}var Ne;if(Xn)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Dn?Qr(e,l)&&(Ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(vl&&l.locale!=="ko"&&(Dn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Dn&&(Ne=Ua()):(Jn=ne,Ut="value"in Jn?Jn.value:Jn.textContent,Dn=!0)),je=u(G,Ce),0<je.length&&(Ce=new qa(Ce,e,null,l,ne),re.push({event:Ce,listeners:je}),Ne?Ce.data=Ne:(Ne=Ja(l),Ne!==null&&(Ce.data=Ne)))),(Ne=In?Nu(e,l):Yn(e,l))&&(G=u(G,"onBeforeInput"),0<G.length&&(ne=new qa("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:G}),ne.data=Ne))}so(re,n)})}function o(e,n,l){return{instance:e,listener:n,currentTarget:l}}function u(e,n){for(var l=n+"Capture",d=[];e!==null;){var p=e,x=p.stateNode;p.tag===5&&x!==null&&(p=x,x=Ri(e,l),x!=null&&d.unshift(o(e,x,p)),x=Ri(e,n),x!=null&&d.push(o(e,x,p))),e=e.return}return d}function m(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v(e,n,l,d,p){for(var x=n._reactName,b=[];l!==null&&l!==d;){var S=l,M=S.alternate,G=S.stateNode;if(M!==null&&M===d)break;S.tag===5&&G!==null&&(S=G,p?(M=Ri(l,x),M!=null&&b.unshift(o(l,M,S))):p||(M=Ri(l,x),M!=null&&b.push(o(l,M,S)))),l=l.return}b.length!==0&&e.push({event:n,listeners:b})}var N=/\r\n?/g,E=/\u0000|\uFFFD/g;function U(e){return(typeof e=="string"?e:""+e).replace(N,`
`).replace(E,"")}function Z(e,n,l){if(n=U(n),U(e)!==n&&l)throw Error(a(425))}function Y(){}var oe=null,be=null;function Ee(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wt=typeof setTimeout=="function"?setTimeout:void 0,gt=typeof clearTimeout=="function"?clearTimeout:void 0,Wt=typeof Promise=="function"?Promise:void 0,zt=typeof queueMicrotask=="function"?queueMicrotask:typeof Wt<"u"?function(e){return Wt.resolve(null).then(e).catch(ai)}:wt;function ai(e){setTimeout(function(){throw e})}function oo(e,n){var l=n,d=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){e.removeChild(p),cn(n);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);cn(n)}function rr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ll(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Sn="__reactFiber$"+jr,oi="__reactProps$"+jr,qe="__reactContainer$"+jr,li="__reactEvents$"+jr,Pu="__reactListeners$"+jr,Eu="__reactHandles$"+jr;function Nr(e){var n=e[Sn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[qe]||l[Sn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ll(e);e!==null;){if(l=e[Sn])return l;e=Ll(e)}return n}e=l,l=e.parentNode}return null}function kr(e){return e=e[Sn]||e[qe],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Js(e){return e[oi]||null}var Lu=[],Qs=-1;function ci(e){return{current:e}}function tt(e){0>Qs||(e.current=Lu[Qs],Lu[Qs]=null,Qs--)}function Xe(e,n){Qs++,Lu[Qs]=e.current,e.current=n}var ui={},At=ci(ui),Gt=ci(!1),Ji=ui;function Xs(e,n){var l=e.type.contextTypes;if(!l)return ui;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in l)p[x]=n[x];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=p),p}function Kt(e){return e=e.childContextTypes,e!=null}function Tl(){tt(Gt),tt(At)}function Dh(e,n,l){if(At.current!==ui)throw Error(a(168));Xe(At,n),Xe(Gt,l)}function Bh(e,n,l){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in n))throw Error(a(108,we(e)||"Unknown",p));return X({},l,d)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Ji=At.current,Xe(At,e),Xe(Gt,Gt.current),!0}function Fh(e,n,l){var d=e.stateNode;if(!d)throw Error(a(169));l?(e=Bh(e,n,Ji),d.__reactInternalMemoizedMergedChildContext=e,tt(Gt),tt(At),Xe(At,e)):tt(Gt),Xe(Gt,l)}var Sr=null,Rl=!1,Tu=!1;function Uh(e){Sr===null?Sr=[e]:Sr.push(e)}function og(e){Rl=!0,Uh(e)}function di(){if(!Tu&&Sr!==null){Tu=!0;var e=0,n=$e;try{var l=Sr;for($e=1;e<l.length;e++){var d=l[e];do d=d(!0);while(d!==null)}Sr=null,Rl=!1}catch(p){throw Sr!==null&&(Sr=Sr.slice(e+1)),al(Oa,di),p}finally{$e=n,Tu=!1}}return null}var Ys=[],ea=0,zl=null,Al=0,Pn=[],En=0,Qi=null,Pr=1,Er="";function Xi(e,n){Ys[ea++]=Al,Ys[ea++]=zl,zl=e,Al=n}function $h(e,n,l){Pn[En++]=Pr,Pn[En++]=Er,Pn[En++]=Qi,Qi=e;var d=Pr;e=Er;var p=32-Pe(d)-1;d&=~(1<<p),l+=1;var x=32-Pe(n)+p;if(30<x){var b=p-p%5;x=(d&(1<<b)-1).toString(32),d>>=b,p-=b,Pr=1<<32-Pe(n)+p|l<<p|d,Er=x+e}else Pr=1<<x|l<<p|d,Er=e}function Mu(e){e.return!==null&&(Xi(e,1),$h(e,1,0))}function Ru(e){for(;e===zl;)zl=Ys[--ea],Ys[ea]=null,Al=Ys[--ea],Ys[ea]=null;for(;e===Qi;)Qi=Pn[--En],Pn[En]=null,Er=Pn[--En],Pn[En]=null,Pr=Pn[--En],Pn[En]=null}var mn=null,pn=null,rt=!1,Fn=null;function Wh(e,n){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function Hh(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,mn=e,pn=rr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,mn=e,pn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Qi!==null?{id:Pr,overflow:Er}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,mn=e,pn=null,!0):!1;default:return!1}}function zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Au(e){if(rt){var n=pn;if(n){var l=n;if(!Hh(e,n)){if(zu(e))throw Error(a(418));n=rr(l.nextSibling);var d=mn;n&&Hh(e,n)?Wh(d,l):(e.flags=e.flags&-4097|2,rt=!1,mn=e)}}else{if(zu(e))throw Error(a(418));e.flags=e.flags&-4097|2,rt=!1,mn=e}}}function Vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function Ol(e){if(e!==mn)return!1;if(!rt)return Vh(e),rt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ee(e.type,e.memoizedProps)),n&&(n=pn)){if(zu(e))throw Zh(),Error(a(418));for(;n;)Wh(e,n),n=rr(n.nextSibling)}if(Vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){pn=rr(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}pn=null}}else pn=mn?rr(e.stateNode.nextSibling):null;return!0}function Zh(){for(var e=pn;e;)e=rr(e.nextSibling)}function ta(){pn=mn=null,rt=!1}function Ou(e){Fn===null?Fn=[e]:Fn.push(e)}var lg=B.ReactCurrentBatchConfig;function lo(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(a(309));var d=l.stateNode}if(!d)throw Error(a(147,e));var p=d,x=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===x?n.ref:(n=function(b){var S=p.refs;b===null?delete S[x]:S[x]=b},n._stringRef=x,n)}if(typeof e!="string")throw Error(a(284));if(!l._owner)throw Error(a(290,e))}return e}function Il(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qh(e){var n=e._init;return n(e._payload)}function Gh(e){function n(W,I){if(e){var V=W.deletions;V===null?(W.deletions=[I],W.flags|=16):V.push(I)}}function l(W,I){if(!e)return null;for(;I!==null;)n(W,I),I=I.sibling;return null}function d(W,I){for(W=new Map;I!==null;)I.key!==null?W.set(I.key,I):W.set(I.index,I),I=I.sibling;return W}function p(W,I){return W=yi(W,I),W.index=0,W.sibling=null,W}function x(W,I,V){return W.index=V,e?(V=W.alternate,V!==null?(V=V.index,V<I?(W.flags|=2,I):V):(W.flags|=2,I)):(W.flags|=1048576,I)}function b(W){return e&&W.alternate===null&&(W.flags|=2),W}function S(W,I,V,ie){return I===null||I.tag!==6?(I=Sd(V,W.mode,ie),I.return=W,I):(I=p(I,V),I.return=W,I)}function M(W,I,V,ie){var ye=V.type;return ye===ae?ne(W,I,V.props.children,ie,V.key):I!==null&&(I.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ae&&qh(ye)===I.type)?(ie=p(I,V.props),ie.ref=lo(W,I,V),ie.return=W,ie):(ie=oc(V.type,V.key,V.props,null,W.mode,ie),ie.ref=lo(W,I,V),ie.return=W,ie)}function G(W,I,V,ie){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=Pd(V,W.mode,ie),I.return=W,I):(I=p(I,V.children||[]),I.return=W,I)}function ne(W,I,V,ie,ye){return I===null||I.tag!==7?(I=as(V,W.mode,ie,ye),I.return=W,I):(I=p(I,V),I.return=W,I)}function re(W,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Sd(""+I,W.mode,V),I.return=W,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case J:return V=oc(I.type,I.key,I.props,null,W.mode,V),V.ref=lo(W,null,I),V.return=W,V;case se:return I=Pd(I,W.mode,V),I.return=W,I;case Ae:var ie=I._init;return re(W,ie(I._payload),V)}if(Br(I)||_e(I))return I=as(I,W.mode,V,null),I.return=W,I;Il(W,I)}return null}function ee(W,I,V,ie){var ye=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ye!==null?null:S(W,I,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case J:return V.key===ye?M(W,I,V,ie):null;case se:return V.key===ye?G(W,I,V,ie):null;case Ae:return ye=V._init,ee(W,I,ye(V._payload),ie)}if(Br(V)||_e(V))return ye!==null?null:ne(W,I,V,ie,null);Il(W,V)}return null}function de(W,I,V,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(V)||null,S(I,W,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return W=W.get(ie.key===null?V:ie.key)||null,M(I,W,ie,ye);case se:return W=W.get(ie.key===null?V:ie.key)||null,G(I,W,ie,ye);case Ae:var je=ie._init;return de(W,I,V,je(ie._payload),ye)}if(Br(ie)||_e(ie))return W=W.get(V)||null,ne(I,W,ie,ye,null);Il(I,ie)}return null}function me(W,I,V,ie){for(var ye=null,je=null,Ne=I,Ce=I=0,St=null;Ne!==null&&Ce<V.length;Ce++){Ne.index>Ce?(St=Ne,Ne=null):St=Ne.sibling;var Ze=ee(W,Ne,V[Ce],ie);if(Ze===null){Ne===null&&(Ne=St);break}e&&Ne&&Ze.alternate===null&&n(W,Ne),I=x(Ze,I,Ce),je===null?ye=Ze:je.sibling=Ze,je=Ze,Ne=St}if(Ce===V.length)return l(W,Ne),rt&&Xi(W,Ce),ye;if(Ne===null){for(;Ce<V.length;Ce++)Ne=re(W,V[Ce],ie),Ne!==null&&(I=x(Ne,I,Ce),je===null?ye=Ne:je.sibling=Ne,je=Ne);return rt&&Xi(W,Ce),ye}for(Ne=d(W,Ne);Ce<V.length;Ce++)St=de(Ne,W,Ce,V[Ce],ie),St!==null&&(e&&St.alternate!==null&&Ne.delete(St.key===null?Ce:St.key),I=x(St,I,Ce),je===null?ye=St:je.sibling=St,je=St);return e&&Ne.forEach(function(_i){return n(W,_i)}),rt&&Xi(W,Ce),ye}function xe(W,I,V,ie){var ye=_e(V);if(typeof ye!="function")throw Error(a(150));if(V=ye.call(V),V==null)throw Error(a(151));for(var je=ye=null,Ne=I,Ce=I=0,St=null,Ze=V.next();Ne!==null&&!Ze.done;Ce++,Ze=V.next()){Ne.index>Ce?(St=Ne,Ne=null):St=Ne.sibling;var _i=ee(W,Ne,Ze.value,ie);if(_i===null){Ne===null&&(Ne=St);break}e&&Ne&&_i.alternate===null&&n(W,Ne),I=x(_i,I,Ce),je===null?ye=_i:je.sibling=_i,je=_i,Ne=St}if(Ze.done)return l(W,Ne),rt&&Xi(W,Ce),ye;if(Ne===null){for(;!Ze.done;Ce++,Ze=V.next())Ze=re(W,Ze.value,ie),Ze!==null&&(I=x(Ze,I,Ce),je===null?ye=Ze:je.sibling=Ze,je=Ze);return rt&&Xi(W,Ce),ye}for(Ne=d(W,Ne);!Ze.done;Ce++,Ze=V.next())Ze=de(Ne,W,Ce,Ze.value,ie),Ze!==null&&(e&&Ze.alternate!==null&&Ne.delete(Ze.key===null?Ce:Ze.key),I=x(Ze,I,Ce),je===null?ye=Ze:je.sibling=Ze,je=Ze);return e&&Ne.forEach(function(Ug){return n(W,Ug)}),rt&&Xi(W,Ce),ye}function ft(W,I,V,ie){if(typeof V=="object"&&V!==null&&V.type===ae&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case J:e:{for(var ye=V.key,je=I;je!==null;){if(je.key===ye){if(ye=V.type,ye===ae){if(je.tag===7){l(W,je.sibling),I=p(je,V.props.children),I.return=W,W=I;break e}}else if(je.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ae&&qh(ye)===je.type){l(W,je.sibling),I=p(je,V.props),I.ref=lo(W,je,V),I.return=W,W=I;break e}l(W,je);break}else n(W,je);je=je.sibling}V.type===ae?(I=as(V.props.children,W.mode,ie,V.key),I.return=W,W=I):(ie=oc(V.type,V.key,V.props,null,W.mode,ie),ie.ref=lo(W,I,V),ie.return=W,W=ie)}return b(W);case se:e:{for(je=V.key;I!==null;){if(I.key===je)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){l(W,I.sibling),I=p(I,V.children||[]),I.return=W,W=I;break e}else{l(W,I);break}else n(W,I);I=I.sibling}I=Pd(V,W.mode,ie),I.return=W,W=I}return b(W);case Ae:return je=V._init,ft(W,I,je(V._payload),ie)}if(Br(V))return me(W,I,V,ie);if(_e(V))return xe(W,I,V,ie);Il(W,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(l(W,I.sibling),I=p(I,V),I.return=W,W=I):(l(W,I),I=Sd(V,W.mode,ie),I.return=W,W=I),b(W)):l(W,I)}return ft}var na=Gh(!0),Kh=Gh(!1),Dl=ci(null),Bl=null,ra=null,Iu=null;function Du(){Iu=ra=Bl=null}function Bu(e){var n=Dl.current;tt(Dl),e._currentValue=n}function Fu(e,n,l){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===l)break;e=e.return}}function ia(e,n){Bl=e,Iu=ra=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Jt=!0),e.firstContext=null)}function Ln(e){var n=e._currentValue;if(Iu!==e)if(e={context:e,memoizedValue:n,next:null},ra===null){if(Bl===null)throw Error(a(308));ra=e,Bl.dependencies={lanes:0,firstContext:e}}else ra=ra.next=e;return n}var Yi=null;function Uu(e){Yi===null?Yi=[e]:Yi.push(e)}function Jh(e,n,l,d){var p=n.interleaved;return p===null?(l.next=l,Uu(n)):(l.next=p.next,p.next=l),n.interleaved=l,Lr(e,d)}function Lr(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var hi=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function fi(e,n,l){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(He&2)!==0){var p=d.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),d.pending=n,Lr(e,l)}return p=d.interleaved,p===null?(n.next=n,Uu(d)):(n.next=p.next,p.next=n),d.interleaved=n,Lr(e,l)}function Fl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,l|=d,n.lanes=l,An(e,l)}}function Xh(e,n){var l=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?p=x=b:x=x.next=b,l=l.next}while(l!==null);x===null?p=x=n:x=x.next=n}else p=x=n;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,effects:d.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function Ul(e,n,l,d){var p=e.updateQueue;hi=!1;var x=p.firstBaseUpdate,b=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var M=S,G=M.next;M.next=null,b===null?x=G:b.next=G,b=M;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==b&&(S===null?ne.firstBaseUpdate=G:S.next=G,ne.lastBaseUpdate=M))}if(x!==null){var re=p.baseState;b=0,ne=G=M=null,S=x;do{var ee=S.lane,de=S.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var me=e,xe=S;switch(ee=n,de=l,xe.tag){case 1:if(me=xe.payload,typeof me=="function"){re=me.call(de,re,ee);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,ee=typeof me=="function"?me.call(de,re,ee):me,ee==null)break e;re=X({},re,ee);break e;case 2:hi=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,ee=p.effects,ee===null?p.effects=[S]:ee.push(S))}else de={eventTime:de,lane:ee,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(G=ne=de,M=re):ne=ne.next=de,b|=ee;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(ne===null&&(M=re),p.baseState=M,p.firstBaseUpdate=G,p.lastBaseUpdate=ne,n=p.shared.interleaved,n!==null){p=n;do b|=p.lane,p=p.next;while(p!==n)}else x===null&&(p.shared.lanes=0);ns|=b,e.lanes=b,e.memoizedState=re}}function Yh(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(a(191,p));p.call(d)}}}var co={},ir=ci(co),uo=ci(co),ho=ci(co);function es(e){if(e===co)throw Error(a(174));return e}function Wu(e,n){switch(Xe(ho,n),Xe(uo,e),Xe(ir,co),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ws(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ws(n,e)}tt(ir),Xe(ir,n)}function sa(){tt(ir),tt(uo),tt(ho)}function ef(e){es(ho.current);var n=es(ir.current),l=ws(n,e.type);n!==l&&(Xe(uo,e),Xe(ir,l))}function Hu(e){uo.current===e&&(tt(ir),tt(uo))}var at=ci(0);function $l(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vu=[];function Zu(){for(var e=0;e<Vu.length;e++)Vu[e]._workInProgressVersionPrimary=null;Vu.length=0}var Wl=B.ReactCurrentDispatcher,qu=B.ReactCurrentBatchConfig,ts=0,ot=null,bt=null,kt=null,Hl=!1,fo=!1,mo=0,cg=0;function Ot(){throw Error(a(321))}function Gu(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!hn(e[l],n[l]))return!1;return!0}function Ku(e,n,l,d,p,x){if(ts=x,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Wl.current=e===null||e.memoizedState===null?fg:mg,e=l(d,p),fo){x=0;do{if(fo=!1,mo=0,25<=x)throw Error(a(301));x+=1,kt=bt=null,n.updateQueue=null,Wl.current=pg,e=l(d,p)}while(fo)}if(Wl.current=ql,n=bt!==null&&bt.next!==null,ts=0,kt=bt=ot=null,Hl=!1,n)throw Error(a(300));return e}function Ju(){var e=mo!==0;return mo=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=e:kt=kt.next=e,kt}function Tn(){if(bt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=kt===null?ot.memoizedState:kt.next;if(n!==null)kt=n,bt=e;else{if(e===null)throw Error(a(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},kt===null?ot.memoizedState=kt=e:kt=kt.next=e}return kt}function po(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Tn(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var d=bt,p=d.baseQueue,x=l.pending;if(x!==null){if(p!==null){var b=p.next;p.next=x.next,x.next=b}d.baseQueue=p=x,l.pending=null}if(p!==null){x=p.next,d=d.baseState;var S=b=null,M=null,G=x;do{var ne=G.lane;if((ts&ne)===ne)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:e(d,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(S=M=re,b=d):M=M.next=re,ot.lanes|=ne,ns|=ne}G=G.next}while(G!==null&&G!==x);M===null?b=d:M.next=S,hn(d,n.memoizedState)||(Jt=!0),n.memoizedState=d,n.baseState=b,n.baseQueue=M,l.lastRenderedState=d}if(e=l.interleaved,e!==null){p=e;do x=p.lane,ot.lanes|=x,ns|=x,p=p.next;while(p!==e)}else p===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function Xu(e){var n=Tn(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var d=l.dispatch,p=l.pending,x=n.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do x=e(x,b.action),b=b.next;while(b!==p);hn(x,n.memoizedState)||(Jt=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),l.lastRenderedState=x}return[x,d]}function tf(){}function nf(e,n){var l=ot,d=Tn(),p=n(),x=!hn(d.memoizedState,p);if(x&&(d.memoizedState=p,Jt=!0),d=d.queue,Yu(af.bind(null,l,d,e),[e]),d.getSnapshot!==n||x||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,go(9,sf.bind(null,l,d,p,n),void 0,null),Ct===null)throw Error(a(349));(ts&30)!==0||rf(l,n,p)}return p}function rf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function sf(e,n,l,d){n.value=l,n.getSnapshot=d,of(n)&&lf(e)}function af(e,n,l){return l(function(){of(n)&&lf(e)})}function of(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!hn(e,l)}catch{return!0}}function lf(e){var n=Lr(e,1);n!==null&&Hn(n,e,1,-1)}function cf(e){var n=sr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},n.queue=e,e=e.dispatch=hg.bind(null,ot,e),[n.memoizedState,e]}function go(e,n,l,d){return e={tag:e,create:n,destroy:l,deps:d,next:null},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(d=l.next,l.next=e,e.next=d,n.lastEffect=e)),e}function uf(){return Tn().memoizedState}function Vl(e,n,l,d){var p=sr();ot.flags|=e,p.memoizedState=go(1|n,l,void 0,d===void 0?null:d)}function Zl(e,n,l,d){var p=Tn();d=d===void 0?null:d;var x=void 0;if(bt!==null){var b=bt.memoizedState;if(x=b.destroy,d!==null&&Gu(d,b.deps)){p.memoizedState=go(n,l,x,d);return}}ot.flags|=e,p.memoizedState=go(1|n,l,x,d)}function df(e,n){return Vl(8390656,8,e,n)}function Yu(e,n){return Zl(2048,8,e,n)}function hf(e,n){return Zl(4,2,e,n)}function ff(e,n){return Zl(4,4,e,n)}function mf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pf(e,n,l){return l=l!=null?l.concat([e]):null,Zl(4,4,mf.bind(null,n,e),l)}function ed(){}function gf(e,n){var l=Tn();n=n===void 0?null:n;var d=l.memoizedState;return d!==null&&n!==null&&Gu(n,d[1])?d[0]:(l.memoizedState=[e,n],e)}function xf(e,n){var l=Tn();n=n===void 0?null:n;var d=l.memoizedState;return d!==null&&n!==null&&Gu(n,d[1])?d[0]:(e=e(),l.memoizedState=[e,n],e)}function vf(e,n,l){return(ts&21)===0?(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=l):(hn(l,n)||(l=ll(),ot.lanes|=l,ns|=l,e.baseState=!0),n)}function ug(e,n){var l=$e;$e=l!==0&&4>l?l:4,e(!0);var d=qu.transition;qu.transition={};try{e(!1),n()}finally{$e=l,qu.transition=d}}function yf(){return Tn().memoizedState}function dg(e,n,l){var d=xi(e);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},_f(e))wf(n,l);else if(l=Jh(e,n,l,d),l!==null){var p=Vt();Hn(l,e,d,p),bf(l,n,d)}}function hg(e,n,l){var d=xi(e),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(_f(e))wf(n,p);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var b=n.lastRenderedState,S=x(b,l);if(p.hasEagerState=!0,p.eagerState=S,hn(S,b)){var M=n.interleaved;M===null?(p.next=p,Uu(n)):(p.next=M.next,M.next=p),n.interleaved=p;return}}catch{}finally{}l=Jh(e,n,p,d),l!==null&&(p=Vt(),Hn(l,e,d,p),bf(l,n,d))}}function _f(e){var n=e.alternate;return e===ot||n!==null&&n===ot}function wf(e,n){fo=Hl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function bf(e,n,l){if((l&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,l|=d,n.lanes=l,An(e,l)}}var ql={readContext:Ln,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},fg={readContext:Ln,useCallback:function(e,n){return sr().memoizedState=[e,n===void 0?null:n],e},useContext:Ln,useEffect:df,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,Vl(4194308,4,mf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Vl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Vl(4,2,e,n)},useMemo:function(e,n){var l=sr();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var d=sr();return n=l!==void 0?l(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=dg.bind(null,ot,e),[d.memoizedState,e]},useRef:function(e){var n=sr();return e={current:e},n.memoizedState=e},useState:cf,useDebugValue:ed,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=cf(!1),n=e[0];return e=ug.bind(null,e[1]),sr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var d=ot,p=sr();if(rt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ct===null)throw Error(a(349));(ts&30)!==0||rf(d,n,l)}p.memoizedState=l;var x={value:l,getSnapshot:n};return p.queue=x,df(af.bind(null,d,x,e),[e]),d.flags|=2048,go(9,sf.bind(null,d,x,l,n),void 0,null),l},useId:function(){var e=sr(),n=Ct.identifierPrefix;if(rt){var l=Er,d=Pr;l=(d&~(1<<32-Pe(d)-1)).toString(32)+l,n=":"+n+"R"+l,l=mo++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=cg++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},mg={readContext:Ln,useCallback:gf,useContext:Ln,useEffect:Yu,useImperativeHandle:pf,useInsertionEffect:hf,useLayoutEffect:ff,useMemo:xf,useReducer:Qu,useRef:uf,useState:function(){return Qu(po)},useDebugValue:ed,useDeferredValue:function(e){var n=Tn();return vf(n,bt.memoizedState,e)},useTransition:function(){var e=Qu(po)[0],n=Tn().memoizedState;return[e,n]},useMutableSource:tf,useSyncExternalStore:nf,useId:yf,unstable_isNewReconciler:!1},pg={readContext:Ln,useCallback:gf,useContext:Ln,useEffect:Yu,useImperativeHandle:pf,useInsertionEffect:hf,useLayoutEffect:ff,useMemo:xf,useReducer:Xu,useRef:uf,useState:function(){return Xu(po)},useDebugValue:ed,useDeferredValue:function(e){var n=Tn();return bt===null?n.memoizedState=e:vf(n,bt.memoizedState,e)},useTransition:function(){var e=Xu(po)[0],n=Tn().memoizedState;return[e,n]},useMutableSource:tf,useSyncExternalStore:nf,useId:yf,unstable_isNewReconciler:!1};function Un(e,n){if(e&&e.defaultProps){n=X({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function td(e,n,l,d){n=e.memoizedState,l=l(d,n),l=l==null?n:X({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Gl={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var d=Vt(),p=xi(e),x=Tr(d,p);x.payload=n,l!=null&&(x.callback=l),n=fi(e,x,p),n!==null&&(Hn(n,e,p,d),Fl(n,e,p))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var d=Vt(),p=xi(e),x=Tr(d,p);x.tag=1,x.payload=n,l!=null&&(x.callback=l),n=fi(e,x,p),n!==null&&(Hn(n,e,p,d),Fl(n,e,p))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Vt(),d=xi(e),p=Tr(l,d);p.tag=2,n!=null&&(p.callback=n),n=fi(e,p,d),n!==null&&(Hn(n,e,d,l),Fl(n,e,d))}};function jf(e,n,l,d,p,x,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,x,b):n.prototype&&n.prototype.isPureReactComponent?!er(l,d)||!er(p,x):!0}function Nf(e,n,l){var d=!1,p=ui,x=n.contextType;return typeof x=="object"&&x!==null?x=Ln(x):(p=Kt(n)?Ji:At.current,d=n.contextTypes,x=(d=d!=null)?Xs(e,p):ui),n=new n(l,x),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Gl,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=x),n}function kf(e,n,l,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,d),n.state!==e&&Gl.enqueueReplaceState(n,n.state,null)}function nd(e,n,l,d){var p=e.stateNode;p.props=l,p.state=e.memoizedState,p.refs={},$u(e);var x=n.contextType;typeof x=="object"&&x!==null?p.context=Ln(x):(x=Kt(n)?Ji:At.current,p.context=Xs(e,x)),p.state=e.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(td(e,n,x,l),p.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(n=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),n!==p.state&&Gl.enqueueReplaceState(p,p.state,null),Ul(e,l,p,d),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function aa(e,n){try{var l="",d=n;do l+=he(d),d=d.return;while(d);var p=l}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:e,source:n,stack:p,digest:null}}function rd(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function id(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var gg=typeof WeakMap=="function"?WeakMap:Map;function Cf(e,n,l){l=Tr(-1,l),l.tag=3,l.payload={element:null};var d=n.value;return l.callback=function(){tc||(tc=!0,yd=d),id(e,n)},l}function Sf(e,n,l){l=Tr(-1,l),l.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var p=n.value;l.payload=function(){return d(p)},l.callback=function(){id(e,n)}}var x=e.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){id(e,n),typeof d!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),l}function Pf(e,n,l){var d=e.pingCache;if(d===null){d=e.pingCache=new gg;var p=new Set;d.set(n,p)}else p=d.get(n),p===void 0&&(p=new Set,d.set(n,p));p.has(l)||(p.add(l),e=Lg.bind(null,e,n,l),n.then(e,e))}function Ef(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Lf(e,n,l,d,p){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=Tr(-1,1),n.tag=2,fi(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=p,e)}var xg=B.ReactCurrentOwner,Jt=!1;function Ht(e,n,l,d){n.child=e===null?Kh(n,null,l,d):na(n,e.child,l,d)}function Tf(e,n,l,d,p){l=l.render;var x=n.ref;return ia(n,p),d=Ku(e,n,l,d,x,p),l=Ju(),e!==null&&!Jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,Mr(e,n,p)):(rt&&l&&Mu(n),n.flags|=1,Ht(e,n,d,p),n.child)}function Mf(e,n,l,d,p){if(e===null){var x=l.type;return typeof x=="function"&&!Cd(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=x,Rf(e,n,x,d,p)):(e=oc(l.type,null,d,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(x=e.child,(e.lanes&p)===0){var b=x.memoizedProps;if(l=l.compare,l=l!==null?l:er,l(b,d)&&e.ref===n.ref)return Mr(e,n,p)}return n.flags|=1,e=yi(x,d),e.ref=n.ref,e.return=n,n.child=e}function Rf(e,n,l,d,p){if(e!==null){var x=e.memoizedProps;if(er(x,d)&&e.ref===n.ref)if(Jt=!1,n.pendingProps=d=x,(e.lanes&p)!==0)(e.flags&131072)!==0&&(Jt=!0);else return n.lanes=e.lanes,Mr(e,n,p)}return sd(e,n,l,d,p)}function zf(e,n,l){var d=n.pendingProps,p=d.children,x=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(la,gn),gn|=l;else{if((l&1073741824)===0)return e=x!==null?x.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Xe(la,gn),gn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Xe(la,gn),gn|=d}else x!==null?(d=x.baseLanes|l,n.memoizedState=null):d=l,Xe(la,gn),gn|=d;return Ht(e,n,p,l),n.child}function Af(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function sd(e,n,l,d,p){var x=Kt(l)?Ji:At.current;return x=Xs(n,x),ia(n,p),l=Ku(e,n,l,d,x,p),d=Ju(),e!==null&&!Jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,Mr(e,n,p)):(rt&&d&&Mu(n),n.flags|=1,Ht(e,n,l,p),n.child)}function Of(e,n,l,d,p){if(Kt(l)){var x=!0;Ml(n)}else x=!1;if(ia(n,p),n.stateNode===null)Jl(e,n),Nf(n,l,d),nd(n,l,d,p),d=!0;else if(e===null){var b=n.stateNode,S=n.memoizedProps;b.props=S;var M=b.context,G=l.contextType;typeof G=="object"&&G!==null?G=Ln(G):(G=Kt(l)?Ji:At.current,G=Xs(n,G));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof b.getSnapshotBeforeUpdate=="function";re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==d||M!==G)&&kf(n,b,d,G),hi=!1;var ee=n.memoizedState;b.state=ee,Ul(n,d,b,p),M=n.memoizedState,S!==d||ee!==M||Gt.current||hi?(typeof ne=="function"&&(td(n,l,ne,d),M=n.memoizedState),(S=hi||jf(n,l,S,d,ee,M,G))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=M),b.props=d,b.state=M,b.context=G,d=S):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{b=n.stateNode,Qh(e,n),S=n.memoizedProps,G=n.type===n.elementType?S:Un(n.type,S),b.props=G,re=n.pendingProps,ee=b.context,M=l.contextType,typeof M=="object"&&M!==null?M=Ln(M):(M=Kt(l)?Ji:At.current,M=Xs(n,M));var de=l.getDerivedStateFromProps;(ne=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==re||ee!==M)&&kf(n,b,d,M),hi=!1,ee=n.memoizedState,b.state=ee,Ul(n,d,b,p);var me=n.memoizedState;S!==re||ee!==me||Gt.current||hi?(typeof de=="function"&&(td(n,l,de,d),me=n.memoizedState),(G=hi||jf(n,l,G,d,ee,me,M)||!1)?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,me,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,me,M)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=me),b.props=d,b.state=me,b.context=M,d=G):(typeof b.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),d=!1)}return ad(e,n,l,d,x,p)}function ad(e,n,l,d,p,x){Af(e,n);var b=(n.flags&128)!==0;if(!d&&!b)return p&&Fh(n,l,!1),Mr(e,n,x);d=n.stateNode,xg.current=n;var S=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&b?(n.child=na(n,e.child,null,x),n.child=na(n,null,S,x)):Ht(e,n,S,x),n.memoizedState=d.state,p&&Fh(n,l,!0),n.child}function If(e){var n=e.stateNode;n.pendingContext?Dh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Dh(e,n.context,!1),Wu(e,n.containerInfo)}function Df(e,n,l,d,p){return ta(),Ou(p),n.flags|=256,Ht(e,n,l,d),n.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bf(e,n,l){var d=n.pendingProps,p=at.current,x=!1,b=(n.flags&128)!==0,S;if((S=b)||(S=e!==null&&e.memoizedState===null?!1:(p&2)!==0),S?(x=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),Xe(at,p&1),e===null)return Au(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=d.children,e=d.fallback,x?(d=n.mode,x=n.child,b={mode:"hidden",children:b},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=b):x=lc(b,d,0,null),e=as(e,d,l,null),x.return=n,e.return=n,x.sibling=e,n.child=x,n.child.memoizedState=ld(l),n.memoizedState=od,e):cd(n,b));if(p=e.memoizedState,p!==null&&(S=p.dehydrated,S!==null))return vg(e,n,b,d,S,p,l);if(x){x=d.fallback,b=n.mode,p=e.child,S=p.sibling;var M={mode:"hidden",children:d.children};return(b&1)===0&&n.child!==p?(d=n.child,d.childLanes=0,d.pendingProps=M,n.deletions=null):(d=yi(p,M),d.subtreeFlags=p.subtreeFlags&14680064),S!==null?x=yi(S,x):(x=as(x,b,l,null),x.flags|=2),x.return=n,d.return=n,d.sibling=x,n.child=d,d=x,x=n.child,b=e.child.memoizedState,b=b===null?ld(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},x.memoizedState=b,x.childLanes=e.childLanes&~l,n.memoizedState=od,d}return x=e.child,e=x.sibling,d=yi(x,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=l),d.return=n,d.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=d,n.memoizedState=null,d}function cd(e,n){return n=lc({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Kl(e,n,l,d){return d!==null&&Ou(d),na(n,e.child,null,l),e=cd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vg(e,n,l,d,p,x,b){if(l)return n.flags&256?(n.flags&=-257,d=rd(Error(a(422))),Kl(e,n,b,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(x=d.fallback,p=n.mode,d=lc({mode:"visible",children:d.children},p,0,null),x=as(x,p,b,null),x.flags|=2,d.return=n,x.return=n,d.sibling=x,n.child=d,(n.mode&1)!==0&&na(n,e.child,null,b),n.child.memoizedState=ld(b),n.memoizedState=od,x);if((n.mode&1)===0)return Kl(e,n,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var S=d.dgst;return d=S,x=Error(a(419)),d=rd(x,d,void 0),Kl(e,n,b,d)}if(S=(b&e.childLanes)!==0,Jt||S){if(d=Ct,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,Lr(e,p),Hn(d,e,p,-1))}return kd(),d=rd(Error(a(421))),Kl(e,n,b,d)}return p.data==="$?"?(n.flags|=128,n.child=e.child,n=Tg.bind(null,e),p._reactRetry=n,null):(e=x.treeContext,pn=rr(p.nextSibling),mn=n,rt=!0,Fn=null,e!==null&&(Pn[En++]=Pr,Pn[En++]=Er,Pn[En++]=Qi,Pr=e.id,Er=e.overflow,Qi=n),n=cd(n,d.children),n.flags|=4096,n)}function Ff(e,n,l){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),Fu(e.return,n,l)}function ud(e,n,l,d,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=p)}function Uf(e,n,l){var d=n.pendingProps,p=d.revealOrder,x=d.tail;if(Ht(e,n,d.children,l),d=at.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,l,n);else if(e.tag===19)Ff(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(Xe(at,d),(n.mode&1)===0)n.memoizedState=null;else switch(p){case"forwards":for(l=n.child,p=null;l!==null;)e=l.alternate,e!==null&&$l(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),ud(n,!1,p,l,x);break;case"backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&$l(e)===null){n.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}ud(n,!0,l,null,x);break;case"together":ud(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Jl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Mr(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ns|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=yi(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=yi(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function yg(e,n,l){switch(n.tag){case 3:If(n),ta();break;case 5:ef(n);break;case 1:Kt(n.type)&&Ml(n);break;case 4:Wu(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,p=n.memoizedProps.value;Xe(Dl,d._currentValue),d._currentValue=p;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(Xe(at,at.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?Bf(e,n,l):(Xe(at,at.current&1),e=Mr(e,n,l),e!==null?e.sibling:null);Xe(at,at.current&1);break;case 19:if(d=(l&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Uf(e,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Xe(at,at.current),d)break;return null;case 22:case 23:return n.lanes=0,zf(e,n,l)}return Mr(e,n,l)}var $f,dd,Wf,Hf;$f=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},dd=function(){},Wf=function(e,n,l,d){var p=e.memoizedProps;if(p!==d){e=n.stateNode,es(ir.current);var x=null;switch(l){case"input":p=ba(e,p),d=ba(e,d),x=[];break;case"select":p=X({},p,{value:void 0}),d=X({},d,{value:void 0}),x=[];break;case"textarea":p=ys(e,p),d=ys(e,d),x=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Y)}Pa(l,d);var b;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var S=p[G];for(b in S)S.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(h.hasOwnProperty(G)?x||(x=[]):(x=x||[]).push(G,null));for(G in d){var M=d[G];if(S=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&M!==S&&(M!=null||S!=null))if(G==="style")if(S){for(b in S)!S.hasOwnProperty(b)||M&&M.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in M)M.hasOwnProperty(b)&&S[b]!==M[b]&&(l||(l={}),l[b]=M[b])}else l||(x||(x=[]),x.push(G,l)),l=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,S=S?S.__html:void 0,M!=null&&S!==M&&(x=x||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(x=x||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(h.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&Ke("scroll",e),x||S===M||(x=[])):(x=x||[]).push(G,M))}l&&(x=x||[]).push("style",l);var G=x;(n.updateQueue=G)&&(n.flags|=4)}},Hf=function(e,n,l,d){l!==d&&(n.flags|=4)};function xo(e,n){if(!rt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function It(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,d=0;if(n)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=d,e.childLanes=l,n}function _g(e,n,l){var d=n.pendingProps;switch(Ru(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(n),null;case 1:return Kt(n.type)&&Tl(),It(n),null;case 3:return d=n.stateNode,sa(),tt(Gt),tt(At),Zu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Ol(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fn!==null&&(bd(Fn),Fn=null))),dd(e,n),It(n),null;case 5:Hu(n);var p=es(ho.current);if(l=n.type,e!==null&&n.stateNode!=null)Wf(e,n,l,d,p),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(a(166));return It(n),null}if(e=es(ir.current),Ol(n)){d=n.stateNode,l=n.type;var x=n.memoizedProps;switch(d[Sn]=n,d[oi]=x,e=(n.mode&1)!==0,l){case"dialog":Ke("cancel",d),Ke("close",d);break;case"iframe":case"object":case"embed":Ke("load",d);break;case"video":case"audio":for(p=0;p<ii.length;p++)Ke(ii[p],d);break;case"source":Ke("error",d);break;case"img":case"image":case"link":Ke("error",d),Ke("load",d);break;case"details":Ke("toggle",d);break;case"input":ja(d,x),Ke("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Ke("invalid",d);break;case"textarea":Ca(d,x),Ke("invalid",d)}Pa(l,x),p=null;for(var b in x)if(x.hasOwnProperty(b)){var S=x[b];b==="children"?typeof S=="string"?d.textContent!==S&&(x.suppressHydrationWarning!==!0&&Z(d.textContent,S,e),p=["children",S]):typeof S=="number"&&d.textContent!==""+S&&(x.suppressHydrationWarning!==!0&&Z(d.textContent,S,e),p=["children",""+S]):h.hasOwnProperty(b)&&S!=null&&b==="onScroll"&&Ke("scroll",d)}switch(l){case"input":wn(d),Ti(d,x,!0);break;case"textarea":wn(d),Go(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Y)}d=p,n.updateQueue=d,d!==null&&(n.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_s(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=b.createElement(l,{is:d.is}):(e=b.createElement(l),l==="select"&&(b=e,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):e=b.createElementNS(e,l),e[Sn]=n,e[oi]=d,$f(e,n,!1,!1),n.stateNode=e;e:{switch(b=dr(l,d),l){case"dialog":Ke("cancel",e),Ke("close",e),p=d;break;case"iframe":case"object":case"embed":Ke("load",e),p=d;break;case"video":case"audio":for(p=0;p<ii.length;p++)Ke(ii[p],e);p=d;break;case"source":Ke("error",e),p=d;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),p=d;break;case"details":Ke("toggle",e),p=d;break;case"input":ja(e,d),p=ba(e,d),Ke("invalid",e);break;case"option":p=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},p=X({},d,{value:void 0}),Ke("invalid",e);break;case"textarea":Ca(e,d),p=ys(e,d),Ke("invalid",e);break;default:p=d}Pa(l,p),S=p;for(x in S)if(S.hasOwnProperty(x)){var M=S[x];x==="style"?bs(e,M):x==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ko(e,M)):x==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Fr(e,M):typeof M=="number"&&Fr(e,""+M):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(h.hasOwnProperty(x)?M!=null&&x==="onScroll"&&Ke("scroll",e):M!=null&&F(e,x,M,b))}switch(l){case"input":wn(e),Ti(e,d,!1);break;case"textarea":wn(e),Go(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Te(d.value));break;case"select":e.multiple=!!d.multiple,x=d.value,x!=null?Gn(e,!!d.multiple,x,!1):d.defaultValue!=null&&Gn(e,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=Y)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return It(n),null;case 6:if(e&&n.stateNode!=null)Hf(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(a(166));if(l=es(ho.current),es(ir.current),Ol(n)){if(d=n.stateNode,l=n.memoizedProps,d[Sn]=n,(x=d.nodeValue!==l)&&(e=mn,e!==null))switch(e.tag){case 3:Z(d.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Z(d.nodeValue,l,(e.mode&1)!==0)}x&&(n.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Sn]=n,n.stateNode=d}return It(n),null;case 13:if(tt(at),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&pn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Zh(),ta(),n.flags|=98560,x=!1;else if(x=Ol(n),d!==null&&d.dehydrated!==null){if(e===null){if(!x)throw Error(a(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));x[Sn]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;It(n),x=!1}else Fn!==null&&(bd(Fn),Fn=null),x=!0;if(!x)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(at.current&1)!==0?jt===0&&(jt=3):kd())),n.updateQueue!==null&&(n.flags|=4),It(n),null);case 4:return sa(),dd(e,n),e===null&&si(n.stateNode.containerInfo),It(n),null;case 10:return Bu(n.type._context),It(n),null;case 17:return Kt(n.type)&&Tl(),It(n),null;case 19:if(tt(at),x=n.memoizedState,x===null)return It(n),null;if(d=(n.flags&128)!==0,b=x.rendering,b===null)if(d)xo(x,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=$l(e),b!==null){for(n.flags|=128,xo(x,!1),d=b.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=l,l=n.child;l!==null;)x=l,e=d,x.flags&=14680066,b=x.alternate,b===null?(x.childLanes=0,x.lanes=e,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=b.childLanes,x.lanes=b.lanes,x.child=b.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=b.memoizedProps,x.memoizedState=b.memoizedState,x.updateQueue=b.updateQueue,x.type=b.type,e=b.dependencies,x.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Xe(at,at.current&1|2),n.child}e=e.sibling}x.tail!==null&&it()>ca&&(n.flags|=128,d=!0,xo(x,!1),n.lanes=4194304)}else{if(!d)if(e=$l(b),e!==null){if(n.flags|=128,d=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),xo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!rt)return It(n),null}else 2*it()-x.renderingStartTime>ca&&l!==1073741824&&(n.flags|=128,d=!0,xo(x,!1),n.lanes=4194304);x.isBackwards?(b.sibling=n.child,n.child=b):(l=x.last,l!==null?l.sibling=b:n.child=b,x.last=b)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=it(),n.sibling=null,l=at.current,Xe(at,d?l&1|2:l&1),n):(It(n),null);case 22:case 23:return Nd(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(gn&1073741824)!==0&&(It(n),n.subtreeFlags&6&&(n.flags|=8192)):It(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function wg(e,n){switch(Ru(n),n.tag){case 1:return Kt(n.type)&&Tl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return sa(),tt(Gt),tt(At),Zu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Hu(n),null;case 13:if(tt(at),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return tt(at),null;case 4:return sa(),null;case 10:return Bu(n.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var Ql=!1,Dt=!1,bg=typeof WeakSet=="function"?WeakSet:Set,fe=null;function oa(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){dt(e,n,d)}else l.current=null}function hd(e,n,l){try{l()}catch(d){dt(e,n,d)}}var Vf=!1;function jg(e,n){if(oe=$i,e=Ya(),eo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var b=0,S=-1,M=-1,G=0,ne=0,re=e,ee=null;t:for(;;){for(var de;re!==l||p!==0&&re.nodeType!==3||(S=b+p),re!==x||d!==0&&re.nodeType!==3||(M=b+d),re.nodeType===3&&(b+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===e)break t;if(ee===l&&++G===p&&(S=b),ee===x&&++ne===d&&(M=b),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}l=S===-1||M===-1?null:{start:S,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(be={focusedElem:e,selectionRange:l},$i=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var xe=me.memoizedProps,ft=me.memoizedState,W=n.stateNode,I=W.getSnapshotBeforeUpdate(n.elementType===n.type?xe:Un(n.type,xe),ft);W.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=n.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ie){dt(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return me=Vf,Vf=!1,me}function vo(e,n,l){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&e)===e){var x=p.destroy;p.destroy=void 0,x!==void 0&&hd(n,l,x)}p=p.next}while(p!==d)}}function Xl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var d=l.create;l.destroy=d()}l=l.next}while(l!==n)}}function fd(e){var n=e.ref;if(n!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof n=="function"?n(e):n.current=e}}function Zf(e){var n=e.alternate;n!==null&&(e.alternate=null,Zf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Sn],delete n[oi],delete n[li],delete n[Pu],delete n[Eu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qf(e){return e.tag===5||e.tag===3||e.tag===4}function Gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,n,l){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Y));else if(d!==4&&(e=e.child,e!==null))for(md(e,n,l),e=e.sibling;e!==null;)md(e,n,l),e=e.sibling}function pd(e,n,l){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(pd(e,n,l),e=e.sibling;e!==null;)pd(e,n,l),e=e.sibling}var Pt=null,$n=!1;function mi(e,n,l){for(l=l.child;l!==null;)Kf(e,n,l),l=l.sibling}function Kf(e,n,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Oi,l)}catch{}switch(l.tag){case 5:Dt||oa(l,n);case 6:var d=Pt,p=$n;Pt=null,mi(e,n,l),Pt=d,$n=p,Pt!==null&&($n?(e=Pt,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&($n?(e=Pt,l=l.stateNode,e.nodeType===8?oo(e.parentNode,l):e.nodeType===1&&oo(e,l),cn(e)):oo(Pt,l.stateNode));break;case 4:d=Pt,p=$n,Pt=l.stateNode.containerInfo,$n=!0,mi(e,n,l),Pt=d,$n=p;break;case 0:case 11:case 14:case 15:if(!Dt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var x=p,b=x.destroy;x=x.tag,b!==void 0&&((x&2)!==0||(x&4)!==0)&&hd(l,n,b),p=p.next}while(p!==d)}mi(e,n,l);break;case 1:if(!Dt&&(oa(l,n),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(S){dt(l,n,S)}mi(e,n,l);break;case 21:mi(e,n,l);break;case 22:l.mode&1?(Dt=(d=Dt)||l.memoizedState!==null,mi(e,n,l),Dt=d):mi(e,n,l);break;default:mi(e,n,l)}}function Jf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new bg),n.forEach(function(d){var p=Mg.bind(null,e,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Wn(e,n){var l=n.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var x=e,b=n,S=b;e:for(;S!==null;){switch(S.tag){case 5:Pt=S.stateNode,$n=!1;break e;case 3:Pt=S.stateNode.containerInfo,$n=!0;break e;case 4:Pt=S.stateNode.containerInfo,$n=!0;break e}S=S.return}if(Pt===null)throw Error(a(160));Kf(x,b,p),Pt=null,$n=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(G){dt(p,n,G)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qf(n,e),n=n.sibling}function Qf(e,n){var l=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(n,e),ar(e),d&4){try{vo(3,e,e.return),Xl(3,e)}catch(xe){dt(e,e.return,xe)}try{vo(5,e,e.return)}catch(xe){dt(e,e.return,xe)}}break;case 1:Wn(n,e),ar(e),d&512&&l!==null&&oa(l,l.return);break;case 5:if(Wn(n,e),ar(e),d&512&&l!==null&&oa(l,l.return),e.flags&32){var p=e.stateNode;try{Fr(p,"")}catch(xe){dt(e,e.return,xe)}}if(d&4&&(p=e.stateNode,p!=null)){var x=e.memoizedProps,b=l!==null?l.memoizedProps:x,S=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{S==="input"&&x.type==="radio"&&x.name!=null&&Na(p,x),dr(S,b);var G=dr(S,x);for(b=0;b<M.length;b+=2){var ne=M[b],re=M[b+1];ne==="style"?bs(p,re):ne==="dangerouslySetInnerHTML"?Ko(p,re):ne==="children"?Fr(p,re):F(p,ne,re,G)}switch(S){case"input":Li(p,x);break;case"textarea":qo(p,x);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!x.multiple;var de=x.value;de!=null?Gn(p,!!x.multiple,de,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Gn(p,!!x.multiple,x.defaultValue,!0):Gn(p,!!x.multiple,x.multiple?[]:"",!1))}p[oi]=x}catch(xe){dt(e,e.return,xe)}}break;case 6:if(Wn(n,e),ar(e),d&4){if(e.stateNode===null)throw Error(a(162));p=e.stateNode,x=e.memoizedProps;try{p.nodeValue=x}catch(xe){dt(e,e.return,xe)}}break;case 3:if(Wn(n,e),ar(e),d&4&&l!==null&&l.memoizedState.isDehydrated)try{cn(n.containerInfo)}catch(xe){dt(e,e.return,xe)}break;case 4:Wn(n,e),ar(e);break;case 13:Wn(n,e),ar(e),p=e.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(vd=it())),d&4&&Jf(e);break;case 22:if(ne=l!==null&&l.memoizedState!==null,e.mode&1?(Dt=(G=Dt)||ne,Wn(n,e),Dt=G):Wn(n,e),ar(e),d&8192){if(G=e.memoizedState!==null,(e.stateNode.isHidden=G)&&!ne&&(e.mode&1)!==0)for(fe=e,ne=e.child;ne!==null;){for(re=fe=ne;fe!==null;){switch(ee=fe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:vo(4,ee,ee.return);break;case 1:oa(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){d=ee,l=ee.return;try{n=d,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(xe){dt(d,l,xe)}}break;case 5:oa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){em(re);continue}}de!==null?(de.return=ee,fe=de):em(re)}ne=ne.sibling}e:for(ne=null,re=e;;){if(re.tag===5){if(ne===null){ne=re;try{p=re.stateNode,G?(x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(S=re.stateNode,M=re.memoizedProps.style,b=M!=null&&M.hasOwnProperty("display")?M.display:null,S.style.display=Sa("display",b))}catch(xe){dt(e,e.return,xe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(xe){dt(e,e.return,xe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Wn(n,e),ar(e),d&4&&Jf(e);break;case 21:break;default:Wn(n,e),ar(e)}}function ar(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(qf(l)){var d=l;break e}l=l.return}throw Error(a(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Fr(p,""),d.flags&=-33);var x=Gf(e);pd(e,x,p);break;case 3:case 4:var b=d.stateNode.containerInfo,S=Gf(e);md(e,S,b);break;default:throw Error(a(161))}}catch(M){dt(e,e.return,M)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ng(e,n,l){fe=e,Xf(e)}function Xf(e,n,l){for(var d=(e.mode&1)!==0;fe!==null;){var p=fe,x=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Ql;if(!b){var S=p.alternate,M=S!==null&&S.memoizedState!==null||Dt;S=Ql;var G=Dt;if(Ql=b,(Dt=M)&&!G)for(fe=p;fe!==null;)b=fe,M=b.child,b.tag===22&&b.memoizedState!==null?tm(p):M!==null?(M.return=b,fe=M):tm(p);for(;x!==null;)fe=x,Xf(x),x=x.sibling;fe=p,Ql=S,Dt=G}Yf(e)}else(p.subtreeFlags&8772)!==0&&x!==null?(x.return=p,fe=x):Yf(e)}}function Yf(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||Xl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Dt)if(l===null)d.componentDidMount();else{var p=n.elementType===n.type?l.memoizedProps:Un(n.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=n.updateQueue;x!==null&&Yh(n,x,d);break;case 3:var b=n.updateQueue;if(b!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}Yh(n,b,l)}break;case 5:var S=n.stateNode;if(l===null&&n.flags&4){l=S;var M=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var G=n.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&cn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Dt||n.flags&512&&fd(n)}catch(ee){dt(n,n.return,ee)}}if(n===e){fe=null;break}if(l=n.sibling,l!==null){l.return=n.return,fe=l;break}fe=n.return}}function em(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var l=n.sibling;if(l!==null){l.return=n.return,fe=l;break}fe=n.return}}function tm(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Xl(4,n)}catch(M){dt(n,l,M)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var p=n.return;try{d.componentDidMount()}catch(M){dt(n,p,M)}}var x=n.return;try{fd(n)}catch(M){dt(n,x,M)}break;case 5:var b=n.return;try{fd(n)}catch(M){dt(n,b,M)}}}catch(M){dt(n,n.return,M)}if(n===e){fe=null;break}var S=n.sibling;if(S!==null){S.return=n.return,fe=S;break}fe=n.return}}var kg=Math.ceil,Yl=B.ReactCurrentDispatcher,gd=B.ReactCurrentOwner,Mn=B.ReactCurrentBatchConfig,He=0,Ct=null,xt=null,Et=0,gn=0,la=ci(0),jt=0,yo=null,ns=0,ec=0,xd=0,_o=null,Qt=null,vd=0,ca=1/0,Rr=null,tc=!1,yd=null,pi=null,nc=!1,gi=null,rc=0,wo=0,_d=null,ic=-1,sc=0;function Vt(){return(He&6)!==0?it():ic!==-1?ic:ic=it()}function xi(e){return(e.mode&1)===0?1:(He&2)!==0&&Et!==0?Et&-Et:lg.transition!==null?(sc===0&&(sc=ll()),sc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Be(e.type)),e)}function Hn(e,n,l,d){if(50<wo)throw wo=0,_d=null,Error(a(185));on(e,l,d),((He&2)===0||e!==Ct)&&(e===Ct&&((He&2)===0&&(ec|=l),jt===4&&vi(e,Et)),Xt(e,d),l===1&&He===0&&(n.mode&1)===0&&(ca=it()+500,Rl&&di()))}function Xt(e,n){var l=e.callbackNode;Es(e,n);var d=Qe(e,e===Ct?Et:0);if(d===0)l!==null&&Aa(l),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(l!=null&&Aa(l),n===1)e.tag===0?og(rm.bind(null,e)):Uh(rm.bind(null,e)),zt(function(){(He&6)===0&&di()}),l=null;else{switch(Zr(d)){case 1:l=Oa;break;case 4:l=ol;break;case 16:l=Ss;break;case 536870912:l=$r;break;default:l=Ss}l=dm(l,nm.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function nm(e,n){if(ic=-1,sc=0,(He&6)!==0)throw Error(a(327));var l=e.callbackNode;if(ua()&&e.callbackNode!==l)return null;var d=Qe(e,e===Ct?Et:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=ac(e,d);else{n=d;var p=He;He|=2;var x=sm();(Ct!==e||Et!==n)&&(Rr=null,ca=it()+500,is(e,n));do try{Pg();break}catch(S){im(e,S)}while(!0);Du(),Yl.current=x,He=p,xt!==null?n=0:(Ct=null,Et=0,n=jt)}if(n!==0){if(n===2&&(p=Mt(e),p!==0&&(d=p,n=wd(e,p))),n===1)throw l=yo,is(e,0),vi(e,d),Xt(e,it()),l;if(n===6)vi(e,d);else{if(p=e.current.alternate,(d&30)===0&&!Cg(p)&&(n=ac(e,d),n===2&&(x=Mt(e),x!==0&&(d=x,n=wd(e,x))),n===1))throw l=yo,is(e,0),vi(e,d),Xt(e,it()),l;switch(e.finishedWork=p,e.finishedLanes=d,n){case 0:case 1:throw Error(a(345));case 2:ss(e,Qt,Rr);break;case 3:if(vi(e,d),(d&130023424)===d&&(n=vd+500-it(),10<n)){if(Qe(e,0)!==0)break;if(p=e.suspendedLanes,(p&d)!==d){Vt(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=wt(ss.bind(null,e,Qt,Rr),n);break}ss(e,Qt,Rr);break;case 4:if(vi(e,d),(d&4194240)===d)break;for(n=e.eventTimes,p=-1;0<d;){var b=31-Pe(d);x=1<<b,b=n[b],b>p&&(p=b),d&=~x}if(d=p,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*kg(d/1960))-d,10<d){e.timeoutHandle=wt(ss.bind(null,e,Qt,Rr),d);break}ss(e,Qt,Rr);break;case 5:ss(e,Qt,Rr);break;default:throw Error(a(329))}}}return Xt(e,it()),e.callbackNode===l?nm.bind(null,e):null}function wd(e,n){var l=_o;return e.current.memoizedState.isDehydrated&&(is(e,n).flags|=256),e=ac(e,n),e!==2&&(n=Qt,Qt=l,n!==null&&bd(n)),e}function bd(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Cg(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],x=p.getSnapshot;p=p.value;try{if(!hn(x(),p))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vi(e,n){for(n&=~xd,n&=~ec,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-Pe(n),d=1<<l;e[l]=-1,n&=~d}}function rm(e){if((He&6)!==0)throw Error(a(327));ua();var n=Qe(e,0);if((n&1)===0)return Xt(e,it()),null;var l=ac(e,n);if(e.tag!==0&&l===2){var d=Mt(e);d!==0&&(n=d,l=wd(e,d))}if(l===1)throw l=yo,is(e,0),vi(e,n),Xt(e,it()),l;if(l===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ss(e,Qt,Rr),Xt(e,it()),null}function jd(e,n){var l=He;He|=1;try{return e(n)}finally{He=l,He===0&&(ca=it()+500,Rl&&di())}}function rs(e){gi!==null&&gi.tag===0&&(He&6)===0&&ua();var n=He;He|=1;var l=Mn.transition,d=$e;try{if(Mn.transition=null,$e=1,e)return e()}finally{$e=d,Mn.transition=l,He=n,(He&6)===0&&di()}}function Nd(){gn=la.current,tt(la)}function is(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,gt(l)),xt!==null)for(l=xt.return;l!==null;){var d=l;switch(Ru(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tl();break;case 3:sa(),tt(Gt),tt(At),Zu();break;case 5:Hu(d);break;case 4:sa();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Bu(d.type._context);break;case 22:case 23:Nd()}l=l.return}if(Ct=e,xt=e=yi(e.current,null),Et=gn=n,jt=0,yo=null,xd=ec=ns=0,Qt=_o=null,Yi!==null){for(n=0;n<Yi.length;n++)if(l=Yi[n],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,x=l.pending;if(x!==null){var b=x.next;x.next=p,d.next=b}l.pending=d}Yi=null}return e}function im(e,n){do{var l=xt;try{if(Du(),Wl.current=ql,Hl){for(var d=ot.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Hl=!1}if(ts=0,kt=bt=ot=null,fo=!1,mo=0,gd.current=null,l===null||l.return===null){jt=1,yo=n,xt=null;break}e:{var x=e,b=l.return,S=l,M=n;if(n=Et,S.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,ne=S,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Ef(b);if(de!==null){de.flags&=-257,Lf(de,b,S,x,n),de.mode&1&&Pf(x,G,n),n=de,M=G;var me=n.updateQueue;if(me===null){var xe=new Set;xe.add(M),n.updateQueue=xe}else me.add(M);break e}else{if((n&1)===0){Pf(x,G,n),kd();break e}M=Error(a(426))}}else if(rt&&S.mode&1){var ft=Ef(b);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Lf(ft,b,S,x,n),Ou(aa(M,S));break e}}x=M=aa(M,S),jt!==4&&(jt=2),_o===null?_o=[x]:_o.push(x),x=b;do{switch(x.tag){case 3:x.flags|=65536,n&=-n,x.lanes|=n;var W=Cf(x,M,n);Xh(x,W);break e;case 1:S=M;var I=x.type,V=x.stateNode;if((x.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(pi===null||!pi.has(V)))){x.flags|=65536,n&=-n,x.lanes|=n;var ie=Sf(x,S,n);Xh(x,ie);break e}}x=x.return}while(x!==null)}om(l)}catch(ye){n=ye,xt===l&&l!==null&&(xt=l=l.return);continue}break}while(!0)}function sm(){var e=Yl.current;return Yl.current=ql,e===null?ql:e}function kd(){(jt===0||jt===3||jt===2)&&(jt=4),Ct===null||(ns&268435455)===0&&(ec&268435455)===0||vi(Ct,Et)}function ac(e,n){var l=He;He|=2;var d=sm();(Ct!==e||Et!==n)&&(Rr=null,is(e,n));do try{Sg();break}catch(p){im(e,p)}while(!0);if(Du(),He=l,Yl.current=d,xt!==null)throw Error(a(261));return Ct=null,Et=0,jt}function Sg(){for(;xt!==null;)am(xt)}function Pg(){for(;xt!==null&&!hu();)am(xt)}function am(e){var n=um(e.alternate,e,gn);e.memoizedProps=e.pendingProps,n===null?om(e):xt=n,gd.current=null}function om(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=_g(l,n,gn),l!==null){xt=l;return}}else{if(l=wg(l,n),l!==null){l.flags&=32767,xt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,xt=null;return}}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);jt===0&&(jt=5)}function ss(e,n,l){var d=$e,p=Mn.transition;try{Mn.transition=null,$e=1,Eg(e,n,l,d)}finally{Mn.transition=p,$e=d}return null}function Eg(e,n,l,d){do ua();while(gi!==null);if((He&6)!==0)throw Error(a(327));l=e.finishedWork;var p=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var x=l.lanes|l.childLanes;if(ut(e,x),e===Ct&&(xt=Ct=null,Et=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||nc||(nc=!0,dm(Ss,function(){return ua(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Mn.transition,Mn.transition=null;var b=$e;$e=1;var S=He;He|=4,gd.current=null,jg(e,l),Qf(l,e),kn(be),$i=!!oe,be=oe=null,e.current=l,Ng(l),Cs(),He=S,$e=b,Mn.transition=x}else e.current=l;if(nc&&(nc=!1,gi=e,rc=p),x=e.pendingLanes,x===0&&(pi=null),Ii(l.stateNode),Xt(e,it()),n!==null)for(d=e.onRecoverableError,l=0;l<n.length;l++)p=n[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(tc)throw tc=!1,e=yd,yd=null,e;return(rc&1)!==0&&e.tag!==0&&ua(),x=e.pendingLanes,(x&1)!==0?e===_d?wo++:(wo=0,_d=e):wo=0,di(),null}function ua(){if(gi!==null){var e=Zr(rc),n=Mn.transition,l=$e;try{if(Mn.transition=null,$e=16>e?16:e,gi===null)var d=!1;else{if(e=gi,gi=null,rc=0,(He&6)!==0)throw Error(a(331));var p=He;for(He|=4,fe=e.current;fe!==null;){var x=fe,b=x.child;if((fe.flags&16)!==0){var S=x.deletions;if(S!==null){for(var M=0;M<S.length;M++){var G=S[M];for(fe=G;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:vo(8,ne,x)}var re=ne.child;if(re!==null)re.return=ne,fe=re;else for(;fe!==null;){ne=fe;var ee=ne.sibling,de=ne.return;if(Zf(ne),ne===G){fe=null;break}if(ee!==null){ee.return=de,fe=ee;break}fe=de}}}var me=x.alternate;if(me!==null){var xe=me.child;if(xe!==null){me.child=null;do{var ft=xe.sibling;xe.sibling=null,xe=ft}while(xe!==null)}}fe=x}}if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,fe=b;else e:for(;fe!==null;){if(x=fe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:vo(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,fe=W;break e}fe=x.return}}var I=e.current;for(fe=I;fe!==null;){b=fe;var V=b.child;if((b.subtreeFlags&2064)!==0&&V!==null)V.return=b,fe=V;else e:for(b=I;fe!==null;){if(S=fe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Xl(9,S)}}catch(ye){dt(S,S.return,ye)}if(S===b){fe=null;break e}var ie=S.sibling;if(ie!==null){ie.return=S.return,fe=ie;break e}fe=S.return}}if(He=p,di(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Oi,e)}catch{}d=!0}return d}finally{$e=l,Mn.transition=n}}return!1}function lm(e,n,l){n=aa(l,n),n=Cf(e,n,1),e=fi(e,n,1),n=Vt(),e!==null&&(on(e,1,n),Xt(e,n))}function dt(e,n,l){if(e.tag===3)lm(e,e,l);else for(;n!==null;){if(n.tag===3){lm(n,e,l);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(pi===null||!pi.has(d))){e=aa(l,e),e=Sf(n,e,1),n=fi(n,e,1),e=Vt(),n!==null&&(on(n,1,e),Xt(n,e));break}}n=n.return}}function Lg(e,n,l){var d=e.pingCache;d!==null&&d.delete(n),n=Vt(),e.pingedLanes|=e.suspendedLanes&l,Ct===e&&(Et&l)===l&&(jt===4||jt===3&&(Et&130023424)===Et&&500>it()-vd?is(e,0):xd|=l),Xt(e,n)}function cm(e,n){n===0&&((e.mode&1)===0?n=1:(n=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var l=Vt();e=Lr(e,n),e!==null&&(on(e,n,l),Xt(e,l))}function Tg(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),cm(e,l)}function Mg(e,n){var l=0;switch(e.tag){case 13:var d=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(a(314))}d!==null&&d.delete(n),cm(e,l)}var um;um=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||Gt.current)Jt=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return Jt=!1,yg(e,n,l);Jt=(e.flags&131072)!==0}else Jt=!1,rt&&(n.flags&1048576)!==0&&$h(n,Al,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;Jl(e,n),e=n.pendingProps;var p=Xs(n,At.current);ia(n,l),p=Ku(null,n,d,e,p,l);var x=Ju();return n.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(d)?(x=!0,Ml(n)):x=!1,n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,$u(n),p.updater=Gl,n.stateNode=p,p._reactInternals=n,nd(n,d,e,l),n=ad(null,n,d,!0,x,l)):(n.tag=0,rt&&x&&Mu(n),Ht(null,n,p,l),n=n.child),n;case 16:d=n.elementType;e:{switch(Jl(e,n),e=n.pendingProps,p=d._init,d=p(d._payload),n.type=d,p=n.tag=zg(d),e=Un(d,e),p){case 0:n=sd(null,n,d,e,l);break e;case 1:n=Of(null,n,d,e,l);break e;case 11:n=Tf(null,n,d,e,l);break e;case 14:n=Mf(null,n,d,Un(d.type,e),l);break e}throw Error(a(306,d,""))}return n;case 0:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:Un(d,p),sd(e,n,d,p,l);case 1:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:Un(d,p),Of(e,n,d,p,l);case 3:e:{if(If(n),e===null)throw Error(a(387));d=n.pendingProps,x=n.memoizedState,p=x.element,Qh(e,n),Ul(n,d,null,l);var b=n.memoizedState;if(d=b.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){p=aa(Error(a(423)),n),n=Df(e,n,d,l,p);break e}else if(d!==p){p=aa(Error(a(424)),n),n=Df(e,n,d,l,p);break e}else for(pn=rr(n.stateNode.containerInfo.firstChild),mn=n,rt=!0,Fn=null,l=Kh(n,null,d,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ta(),d===p){n=Mr(e,n,l);break e}Ht(e,n,d,l)}n=n.child}return n;case 5:return ef(n),e===null&&Au(n),d=n.type,p=n.pendingProps,x=e!==null?e.memoizedProps:null,b=p.children,Ee(d,p)?b=null:x!==null&&Ee(d,x)&&(n.flags|=32),Af(e,n),Ht(e,n,b,l),n.child;case 6:return e===null&&Au(n),null;case 13:return Bf(e,n,l);case 4:return Wu(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=na(n,null,d,l):Ht(e,n,d,l),n.child;case 11:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:Un(d,p),Tf(e,n,d,p,l);case 7:return Ht(e,n,n.pendingProps,l),n.child;case 8:return Ht(e,n,n.pendingProps.children,l),n.child;case 12:return Ht(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(d=n.type._context,p=n.pendingProps,x=n.memoizedProps,b=p.value,Xe(Dl,d._currentValue),d._currentValue=b,x!==null)if(hn(x.value,b)){if(x.children===p.children&&!Gt.current){n=Mr(e,n,l);break e}}else for(x=n.child,x!==null&&(x.return=n);x!==null;){var S=x.dependencies;if(S!==null){b=x.child;for(var M=S.firstContext;M!==null;){if(M.context===d){if(x.tag===1){M=Tr(-1,l&-l),M.tag=2;var G=x.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),G.pending=M}}x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),Fu(x.return,l,n),S.lanes|=l;break}M=M.next}}else if(x.tag===10)b=x.type===n.type?null:x.child;else if(x.tag===18){if(b=x.return,b===null)throw Error(a(341));b.lanes|=l,S=b.alternate,S!==null&&(S.lanes|=l),Fu(b,l,n),b=x.sibling}else b=x.child;if(b!==null)b.return=x;else for(b=x;b!==null;){if(b===n){b=null;break}if(x=b.sibling,x!==null){x.return=b.return,b=x;break}b=b.return}x=b}Ht(e,n,p.children,l),n=n.child}return n;case 9:return p=n.type,d=n.pendingProps.children,ia(n,l),p=Ln(p),d=d(p),n.flags|=1,Ht(e,n,d,l),n.child;case 14:return d=n.type,p=Un(d,n.pendingProps),p=Un(d.type,p),Mf(e,n,d,p,l);case 15:return Rf(e,n,n.type,n.pendingProps,l);case 17:return d=n.type,p=n.pendingProps,p=n.elementType===d?p:Un(d,p),Jl(e,n),n.tag=1,Kt(d)?(e=!0,Ml(n)):e=!1,ia(n,l),Nf(n,d,p),nd(n,d,p,l),ad(null,n,d,!0,e,l);case 19:return Uf(e,n,l);case 22:return zf(e,n,l)}throw Error(a(156,n.tag))};function dm(e,n){return al(e,n)}function Rg(e,n,l,d){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,l,d){return new Rg(e,n,l,d)}function Cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zg(e){if(typeof e=="function")return Cd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===De)return 11;if(e===yt)return 14}return 2}function yi(e,n){var l=e.alternate;return l===null?(l=Rn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function oc(e,n,l,d,p,x){var b=2;if(d=e,typeof e=="function")Cd(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case ae:return as(l.children,p,x,n);case te:b=8,p|=8;break;case q:return e=Rn(12,l,n,p|2),e.elementType=q,e.lanes=x,e;case Je:return e=Rn(13,l,n,p),e.elementType=Je,e.lanes=x,e;case Ye:return e=Rn(19,l,n,p),e.elementType=Ye,e.lanes=x,e;case Ue:return lc(l,p,x,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Re:b=10;break e;case Fe:b=9;break e;case De:b=11;break e;case yt:b=14;break e;case Ae:b=16,d=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return n=Rn(b,l,n,p),n.elementType=e,n.type=d,n.lanes=x,n}function as(e,n,l,d){return e=Rn(7,e,d,n),e.lanes=l,e}function lc(e,n,l,d){return e=Rn(22,e,d,n),e.elementType=Ue,e.lanes=l,e.stateNode={isHidden:!1},e}function Sd(e,n,l){return e=Rn(6,e,null,n),e.lanes=l,e}function Pd(e,n,l){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ag(e,n,l,d,p){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Ed(e,n,l,d,p,x,b,S,M){return e=new Ag(e,n,l,S,M),n===1?(n=1,x===!0&&(n|=8)):n=0,x=Rn(3,null,null,n),e.current=x,x.stateNode=e,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(x),e}function Og(e,n,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:e,containerInfo:n,implementation:l}}function hm(e){if(!e)return ui;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(e.tag===1){var l=e.type;if(Kt(l))return Bh(e,l,n)}return n}function fm(e,n,l,d,p,x,b,S,M){return e=Ed(l,d,!0,e,p,x,b,S,M),e.context=hm(null),l=e.current,d=Vt(),p=xi(l),x=Tr(d,p),x.callback=n??null,fi(l,x,p),e.current.lanes=p,on(e,p,d),Xt(e,d),e}function cc(e,n,l,d){var p=n.current,x=Vt(),b=xi(p);return l=hm(l),n.context===null?n.context=l:n.pendingContext=l,n=Tr(x,b),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=fi(p,n,b),e!==null&&(Hn(e,p,b,x),Fl(e,p,b)),b}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Ld(e,n){mm(e,n),(e=e.alternate)&&mm(e,n)}function Ig(){return null}var pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Td(e){this._internalRoot=e}dc.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));cc(e,n,null,null)},dc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;rs(function(){cc(null,e,null,null)}),n[qe]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ms();e={blockedOn:null,target:e,priority:n};for(var l=0;l<_t.length&&n!==0&&n<_t[l].priority;l++);_t.splice(l,0,e),l===0&&Rs(e)}};function Md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gm(){}function Dg(e,n,l,d,p){if(p){if(typeof d=="function"){var x=d;d=function(){var G=uc(b);x.call(G)}}var b=fm(n,d,e,0,null,!1,!1,"",gm);return e._reactRootContainer=b,e[qe]=b.current,si(e.nodeType===8?e.parentNode:e),rs(),b}for(;p=e.lastChild;)e.removeChild(p);if(typeof d=="function"){var S=d;d=function(){var G=uc(M);S.call(G)}}var M=Ed(e,0,!1,null,null,!1,!1,"",gm);return e._reactRootContainer=M,e[qe]=M.current,si(e.nodeType===8?e.parentNode:e),rs(function(){cc(n,M,l,d)}),M}function fc(e,n,l,d,p){var x=l._reactRootContainer;if(x){var b=x;if(typeof p=="function"){var S=p;p=function(){var M=uc(b);S.call(M)}}cc(n,b,e,p)}else b=Dg(l,n,e,p,d);return uc(b)}Ls=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=Se(n.pendingLanes);l!==0&&(An(n,l|1),Xt(n,it()),(He&6)===0&&(ca=it()+500,di()))}break;case 13:rs(function(){var d=Lr(e,1);if(d!==null){var p=Vt();Hn(d,e,1,p)}}),Ld(e,1)}},pr=function(e){if(e.tag===13){var n=Lr(e,134217728);if(n!==null){var l=Vt();Hn(n,e,134217728,l)}Ld(e,134217728)}},Ts=function(e){if(e.tag===13){var n=xi(e),l=Lr(e,n);if(l!==null){var d=Vt();Hn(l,e,n,d)}Ld(e,n)}},Ms=function(){return $e},Di=function(e,n){var l=$e;try{return $e=e,n()}finally{$e=l}},js=function(e,n,l){switch(n){case"input":if(Li(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var d=l[n];if(d!==e&&d.form===e.form){var p=Js(d);if(!p)throw Error(a(90));sn(d),Li(d,p)}}}break;case"textarea":qo(e,l);break;case"select":n=l.value,n!=null&&Gn(e,!!l.multiple,n,!1)}},el=jd,tl=rs;var Bg={usingClientEntryPoint:!1,Events:[kr,Cr,Js,Xo,Yo,jd]},bo={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fg={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=il(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||Ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Oi=mc.inject(Fg),an=mc}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg,Yt.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(n))throw Error(a(200));return Og(e,n,null,l)},Yt.createRoot=function(e,n){if(!Md(e))throw Error(a(299));var l=!1,d="",p=pm;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Ed(e,1,!1,null,null,l,!1,d,p),e[qe]=n.current,si(e.nodeType===8?e.parentNode:e),new Td(n)},Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=il(n),e=e===null?null:e.stateNode,e},Yt.flushSync=function(e){return rs(e)},Yt.hydrate=function(e,n,l){if(!hc(n))throw Error(a(200));return fc(null,e,n,!0,l)},Yt.hydrateRoot=function(e,n,l){if(!Md(e))throw Error(a(405));var d=l!=null&&l.hydratedSources||null,p=!1,x="",b=pm;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),n=fm(n,null,e,1,l??null,p,!1,x,b),e[qe]=n.current,si(e),d)for(e=0;e<d.length;e++)l=d[e],p=l._getVersion,p=p(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,p]:n.mutableSourceEagerHydrationData.push(l,p);return new dc(n)},Yt.render=function(e,n,l){if(!hc(n))throw Error(a(200));return fc(null,e,n,!1,l)},Yt.unmountComponentAtNode=function(e){if(!hc(e))throw Error(a(40));return e._reactRootContainer?(rs(function(){fc(null,null,e,!1,function(){e._reactRootContainer=null,e[qe]=null})}),!0):!1},Yt.unstable_batchedUpdates=jd,Yt.unstable_renderSubtreeIntoContainer=function(e,n,l,d){if(!hc(l))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return fc(e,n,l,!1,d)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Nm;function yp(){if(Nm)return Ad.exports;Nm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Ad.exports=Qg(),Ad.exports}var km;function Xg(){if(km)return pc;km=1;var r=yp();return pc.createRoot=r.createRoot,pc.hydrateRoot=r.hydrateRoot,pc}var Yg=Xg(),Dd={exports:{}},Bd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function ex(){if(Cm)return Bd;Cm=1;var r=Jc();function i(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var a=typeof Object.is=="function"?Object.is:i,c=r.useSyncExternalStore,h=r.useRef,f=r.useEffect,g=r.useMemo,w=r.useDebugValue;return Bd.useSyncExternalStoreWithSelector=function(y,_,j,C,O){var $=h(null);if($.current===null){var z={hasValue:!1,value:null};$.current=z}else z=$.current;$=g(function(){function k(J){if(!P){if(P=!0,R=J,J=C(J),O!==void 0&&z.hasValue){var se=z.value;if(O(se,J))return F=se}return F=J}if(se=F,a(R,J))return se;var ae=C(J);return O!==void 0&&O(se,ae)?(R=J,se):(R=J,F=ae)}var P=!1,R,F,B=j===void 0?null:j;return[function(){return k(_())},B===null?void 0:function(){return k(B())}]},[_,j,C,O]);var T=c(y,$[0],$[1]);return f(function(){z.hasValue=!0,z.value=T},[T]),w(T),T},Bd}var Sm;function tx(){return Sm||(Sm=1,Dd.exports=ex()),Dd.exports}var nx=tx();function rx(r){r()}function ix(){let r=null,i=null;return{clear(){r=null,i=null},notify(){rx(()=>{let a=r;for(;a;)a.callback(),a=a.next})},get(){const a=[];let c=r;for(;c;)a.push(c),c=c.next;return a},subscribe(a){let c=!0;const h=i={callback:a,next:null,prev:i};return h.prev?h.prev.next=h:r=h,function(){!c||r===null||(c=!1,h.next?h.next.prev=h.prev:i=h.prev,h.prev?h.prev.next=h.next:r=h.next)}}}}var Pm={notify(){},get:()=>[]};function sx(r,i){let a,c=Pm,h=0,f=!1;function g(T){j();const k=c.subscribe(T);let P=!1;return()=>{P||(P=!0,k(),C())}}function w(){c.notify()}function y(){z.onStateChange&&z.onStateChange()}function _(){return f}function j(){h++,a||(a=r.subscribe(y),c=ix())}function C(){h--,a&&h===0&&(a(),a=void 0,c.clear(),c=Pm)}function O(){f||(f=!0,j())}function $(){f&&(f=!1,C())}const z={addNestedSub:g,notifyNestedSubs:w,handleChangeWrapper:y,isSubscribed:_,trySubscribe:O,tryUnsubscribe:$,getListeners:()=>c};return z}var ax=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ox=ax(),lx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cx=lx(),ux=()=>ox||cx?D.useLayoutEffect:D.useEffect,dx=ux(),Fd=Symbol.for("react-redux-context"),Ud=typeof globalThis<"u"?globalThis:{};function hx(){if(!D.createContext)return{};const r=Ud[Fd]??(Ud[Fd]=new Map);let i=r.get(D.createContext);return i||(i=D.createContext(null),r.set(D.createContext,i)),i}var Si=hx();function fx(r){const{children:i,context:a,serverState:c,store:h}=r,f=D.useMemo(()=>{const y=sx(h);return{store:h,subscription:y,getServerState:c?()=>c:void 0}},[h,c]),g=D.useMemo(()=>h.getState(),[h]);dx(()=>{const{subscription:y}=f;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),g!==h.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[f,g]);const w=a||Si;return D.createElement(w.Provider,{value:f},i)}var mx=fx;function bh(r=Si){return function(){return D.useContext(r)}}var _p=bh();function wp(r=Si){const i=r===Si?_p:bh(r),a=()=>{const{store:c}=i();return c};return Object.assign(a,{withTypes:()=>a}),a}var px=wp();function gx(r=Si){const i=r===Si?px:wp(r),a=()=>i().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var xx=gx(),vx=(r,i)=>r===i;function yx(r=Si){const i=r===Si?_p:bh(r),a=(c,h={})=>{const{equalityFn:f=vx}=typeof h=="function"?{equalityFn:h}:h,g=i(),{store:w,subscription:y,getServerState:_}=g;D.useRef(!0);const j=D.useCallback({[c.name](O){return c(O)}}[c.name],[c]),C=nx.useSyncExternalStoreWithSelector(y.addNestedSub,w.getState,_||w.getState,j,f);return D.useDebugValue(C),C};return Object.assign(a,{withTypes:()=>a}),a}var _x=yx(),wx=yp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},Mo.apply(this,arguments)}var bi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(bi||(bi={}));const Em="popstate";function bx(r){r===void 0&&(r={});function i(c,h){let{pathname:f,search:g,hash:w}=c.location;return nh("",{pathname:f,search:g,hash:w},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function a(c,h){return typeof h=="string"?h:Fc(h)}return Nx(i,a,null,r)}function vt(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function bp(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function jx(){return Math.random().toString(36).substr(2,8)}function Lm(r,i){return{usr:r.state,key:r.key,idx:i}}function nh(r,i,a,c){return a===void 0&&(a=null),Mo({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof i=="string"?ga(i):i,{state:a,key:i&&i.key||c||jx()})}function Fc(r){let{pathname:i="/",search:a="",hash:c=""}=r;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(i+=c.charAt(0)==="#"?c:"#"+c),i}function ga(r){let i={};if(r){let a=r.indexOf("#");a>=0&&(i.hash=r.substr(a),r=r.substr(0,a));let c=r.indexOf("?");c>=0&&(i.search=r.substr(c),r=r.substr(0,c)),r&&(i.pathname=r)}return i}function Nx(r,i,a,c){c===void 0&&(c={});let{window:h=document.defaultView,v5Compat:f=!1}=c,g=h.history,w=bi.Pop,y=null,_=j();_==null&&(_=0,g.replaceState(Mo({},g.state,{idx:_}),""));function j(){return(g.state||{idx:null}).idx}function C(){w=bi.Pop;let k=j(),P=k==null?null:k-_;_=k,y&&y({action:w,location:T.location,delta:P})}function O(k,P){w=bi.Push;let R=nh(T.location,k,P);_=j()+1;let F=Lm(R,_),B=T.createHref(R);try{g.pushState(F,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;h.location.assign(B)}f&&y&&y({action:w,location:T.location,delta:1})}function $(k,P){w=bi.Replace;let R=nh(T.location,k,P);_=j();let F=Lm(R,_),B=T.createHref(R);g.replaceState(F,"",B),f&&y&&y({action:w,location:T.location,delta:0})}function z(k){let P=h.location.origin!=="null"?h.location.origin:h.location.href,R=typeof k=="string"?k:Fc(k);return R=R.replace(/ $/,"%20"),vt(P,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,P)}let T={get action(){return w},get location(){return r(h,g)},listen(k){if(y)throw new Error("A history only accepts one active listener");return h.addEventListener(Em,C),y=k,()=>{h.removeEventListener(Em,C),y=null}},createHref(k){return i(h,k)},createURL:z,encodeLocation(k){let P=z(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:O,replace:$,go(k){return g.go(k)}};return T}var Tm;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Tm||(Tm={}));function kx(r,i,a){return a===void 0&&(a="/"),Cx(r,i,a)}function Cx(r,i,a,c){let h=typeof i=="string"?ga(i):i,f=jh(h.pathname||"/",a);if(f==null)return null;let g=jp(r);Sx(g);let w=null;for(let y=0;w==null&&y<g.length;++y){let _=Bx(f);w=Ox(g[y],_)}return w}function jp(r,i,a,c){i===void 0&&(i=[]),a===void 0&&(a=[]),c===void 0&&(c="");let h=(f,g,w)=>{let y={relativePath:w===void 0?f.path||"":w,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};y.relativePath.startsWith("/")&&(vt(y.relativePath.startsWith(c),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(c.length));let _=ki([c,y.relativePath]),j=a.concat(y);f.children&&f.children.length>0&&(vt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),jp(f.children,i,j,_)),!(f.path==null&&!f.index)&&i.push({path:_,score:zx(_,f.index),routesMeta:j})};return r.forEach((f,g)=>{var w;if(f.path===""||!((w=f.path)!=null&&w.includes("?")))h(f,g);else for(let y of Np(f.path))h(f,g,y)}),i}function Np(r){let i=r.split("/");if(i.length===0)return[];let[a,...c]=i,h=a.endsWith("?"),f=a.replace(/\?$/,"");if(c.length===0)return h?[f,""]:[f];let g=Np(c.join("/")),w=[];return w.push(...g.map(y=>y===""?f:[f,y].join("/"))),h&&w.push(...g),w.map(y=>r.startsWith("/")&&y===""?"/":y)}function Sx(r){r.sort((i,a)=>i.score!==a.score?a.score-i.score:Ax(i.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const Px=/^:[\w-]+$/,Ex=3,Lx=2,Tx=1,Mx=10,Rx=-2,Mm=r=>r==="*";function zx(r,i){let a=r.split("/"),c=a.length;return a.some(Mm)&&(c+=Rx),i&&(c+=Lx),a.filter(h=>!Mm(h)).reduce((h,f)=>h+(Px.test(f)?Ex:f===""?Tx:Mx),c)}function Ax(r,i){return r.length===i.length&&r.slice(0,-1).every((c,h)=>c===i[h])?r[r.length-1]-i[i.length-1]:0}function Ox(r,i,a){let{routesMeta:c}=r,h={},f="/",g=[];for(let w=0;w<c.length;++w){let y=c[w],_=w===c.length-1,j=f==="/"?i:i.slice(f.length)||"/",C=Ix({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},j),O=y.route;if(!C)return null;Object.assign(h,C.params),g.push({params:h,pathname:ki([f,C.pathname]),pathnameBase:Wx(ki([f,C.pathnameBase])),route:O}),C.pathnameBase!=="/"&&(f=ki([f,C.pathnameBase]))}return g}function Ix(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,c]=Dx(r.path,r.caseSensitive,r.end),h=i.match(a);if(!h)return null;let f=h[0],g=f.replace(/(.)\/+$/,"$1"),w=h.slice(1);return{params:c.reduce((_,j,C)=>{let{paramName:O,isOptional:$}=j;if(O==="*"){let T=w[C]||"";g=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const z=w[C];return $&&!z?_[O]=void 0:_[O]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:g,pattern:r}}function Dx(r,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),bp(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let c=[],h="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,w,y)=>(c.push({paramName:w,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),h+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?h+="\\/*$":r!==""&&r!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,i?void 0:"i"),c]}function Bx(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return bp(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),r}}function jh(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,c=r.charAt(a);return c&&c!=="/"?null:r.slice(a)||"/"}function Fx(r,i){i===void 0&&(i="/");let{pathname:a,search:c="",hash:h=""}=typeof r=="string"?ga(r):r;return{pathname:a?a.startsWith("/")?a:Ux(a,i):i,search:Hx(c),hash:Vx(h)}}function Ux(r,i){let a=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(h=>{h===".."?a.length>1&&a.pop():h!=="."&&a.push(h)}),a.length>1?a.join("/"):"/"}function $d(r,i,a,c){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $x(r){return r.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function kp(r,i){let a=$x(r);return i?a.map((c,h)=>h===a.length-1?c.pathname:c.pathnameBase):a.map(c=>c.pathnameBase)}function Cp(r,i,a,c){c===void 0&&(c=!1);let h;typeof r=="string"?h=ga(r):(h=Mo({},r),vt(!h.pathname||!h.pathname.includes("?"),$d("?","pathname","search",h)),vt(!h.pathname||!h.pathname.includes("#"),$d("#","pathname","hash",h)),vt(!h.search||!h.search.includes("#"),$d("#","search","hash",h)));let f=r===""||h.pathname==="",g=f?"/":h.pathname,w;if(g==null)w=a;else{let C=i.length-1;if(!c&&g.startsWith("..")){let O=g.split("/");for(;O[0]==="..";)O.shift(),C-=1;h.pathname=O.join("/")}w=C>=0?i[C]:"/"}let y=Fx(h,w),_=g&&g!=="/"&&g.endsWith("/"),j=(f||g===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(_||j)&&(y.pathname+="/"),y}const ki=r=>r.join("/").replace(/\/\/+/g,"/"),Wx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Vx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Sp=["post","put","patch","delete"];new Set(Sp);const qx=["get",...Sp];new Set(qx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},Ro.apply(this,arguments)}const Nh=D.createContext(null),Gx=D.createContext(null),gs=D.createContext(null),Qc=D.createContext(null),Ei=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Pp=D.createContext(null);function Kx(r,i){let{relative:a}=i===void 0?{}:i;Do()||vt(!1);let{basename:c,navigator:h}=D.useContext(gs),{hash:f,pathname:g,search:w}=Tp(r,{relative:a}),y=g;return c!=="/"&&(y=g==="/"?c:ki([c,g])),h.createHref({pathname:y,search:w,hash:f})}function Do(){return D.useContext(Qc)!=null}function xa(){return Do()||vt(!1),D.useContext(Qc).location}function Ep(r){D.useContext(gs).static||D.useLayoutEffect(r)}function xs(){let{isDataRoute:r}=D.useContext(Ei);return r?lv():Jx()}function Jx(){Do()||vt(!1);let r=D.useContext(Nh),{basename:i,future:a,navigator:c}=D.useContext(gs),{matches:h}=D.useContext(Ei),{pathname:f}=xa(),g=JSON.stringify(kp(h,a.v7_relativeSplatPath)),w=D.useRef(!1);return Ep(()=>{w.current=!0}),D.useCallback(function(_,j){if(j===void 0&&(j={}),!w.current)return;if(typeof _=="number"){c.go(_);return}let C=Cp(_,JSON.parse(g),f,j.relative==="path");r==null&&i!=="/"&&(C.pathname=C.pathname==="/"?i:ki([i,C.pathname])),(j.replace?c.replace:c.push)(C,j.state,j)},[i,c,g,f,r])}function Lp(){let{matches:r}=D.useContext(Ei),i=r[r.length-1];return i?i.params:{}}function Tp(r,i){let{relative:a}=i===void 0?{}:i,{future:c}=D.useContext(gs),{matches:h}=D.useContext(Ei),{pathname:f}=xa(),g=JSON.stringify(kp(h,c.v7_relativeSplatPath));return D.useMemo(()=>Cp(r,JSON.parse(g),f,a==="path"),[r,g,f,a])}function Qx(r,i){return Xx(r,i)}function Xx(r,i,a,c){Do()||vt(!1);let{navigator:h}=D.useContext(gs),{matches:f}=D.useContext(Ei),g=f[f.length-1],w=g?g.params:{};g&&g.pathname;let y=g?g.pathnameBase:"/";g&&g.route;let _=xa(),j;if(i){var C;let k=typeof i=="string"?ga(i):i;y==="/"||(C=k.pathname)!=null&&C.startsWith(y)||vt(!1),j=k}else j=_;let O=j.pathname||"/",$=O;if(y!=="/"){let k=y.replace(/^\//,"").split("/");$="/"+O.replace(/^\//,"").split("/").slice(k.length).join("/")}let z=kx(r,{pathname:$}),T=rv(z&&z.map(k=>Object.assign({},k,{params:Object.assign({},w,k.params),pathname:ki([y,h.encodeLocation?h.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:ki([y,h.encodeLocation?h.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),f,a,c);return i&&T?D.createElement(Qc.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:bi.Pop}},T):T}function Yx(){let r=ov(),i=Zx(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},i),a?D.createElement("pre",{style:h},a):null,null)}const ev=D.createElement(Yx,null);class tv extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error!==void 0?D.createElement(Ei.Provider,{value:this.props.routeContext},D.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nv(r){let{routeContext:i,match:a,children:c}=r,h=D.useContext(Nh);return h&&h.static&&h.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=a.route.id),D.createElement(Ei.Provider,{value:i},c)}function rv(r,i,a,c){var h;if(i===void 0&&(i=[]),a===void 0&&(a=null),c===void 0&&(c=null),r==null){var f;if(!a)return null;if(a.errors)r=a.matches;else if((f=c)!=null&&f.v7_partialHydration&&i.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let g=r,w=(h=a)==null?void 0:h.errors;if(w!=null){let j=g.findIndex(C=>C.route.id&&(w==null?void 0:w[C.route.id])!==void 0);j>=0||vt(!1),g=g.slice(0,Math.min(g.length,j+1))}let y=!1,_=-1;if(a&&c&&c.v7_partialHydration)for(let j=0;j<g.length;j++){let C=g[j];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(_=j),C.route.id){let{loaderData:O,errors:$}=a,z=C.route.loader&&O[C.route.id]===void 0&&(!$||$[C.route.id]===void 0);if(C.route.lazy||z){y=!0,_>=0?g=g.slice(0,_+1):g=[g[0]];break}}}return g.reduceRight((j,C,O)=>{let $,z=!1,T=null,k=null;a&&($=w&&C.route.id?w[C.route.id]:void 0,T=C.route.errorElement||ev,y&&(_<0&&O===0?(cv("route-fallback"),z=!0,k=null):_===O&&(z=!0,k=C.route.hydrateFallbackElement||null)));let P=i.concat(g.slice(0,O+1)),R=()=>{let F;return $?F=T:z?F=k:C.route.Component?F=D.createElement(C.route.Component,null):C.route.element?F=C.route.element:F=j,D.createElement(nv,{match:C,routeContext:{outlet:j,matches:P,isDataRoute:a!=null},children:F})};return a&&(C.route.ErrorBoundary||C.route.errorElement||O===0)?D.createElement(tv,{location:a.location,revalidation:a.revalidation,component:T,error:$,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}var Mp=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Mp||{}),Rp=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Rp||{});function iv(r){let i=D.useContext(Nh);return i||vt(!1),i}function sv(r){let i=D.useContext(Gx);return i||vt(!1),i}function av(r){let i=D.useContext(Ei);return i||vt(!1),i}function zp(r){let i=av(),a=i.matches[i.matches.length-1];return a.route.id||vt(!1),a.route.id}function ov(){var r;let i=D.useContext(Pp),a=sv(),c=zp();return i!==void 0?i:(r=a.errors)==null?void 0:r[c]}function lv(){let{router:r}=iv(Mp.UseNavigateStable),i=zp(Rp.UseNavigateStable),a=D.useRef(!1);return Ep(()=>{a.current=!0}),D.useCallback(function(h,f){f===void 0&&(f={}),a.current&&(typeof h=="number"?r.navigate(h):r.navigate(h,Ro({fromRouteId:i},f)))},[r,i])}const Rm={};function cv(r,i,a){Rm[r]||(Rm[r]=!0)}function uv(r,i){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function en(r){vt(!1)}function dv(r){let{basename:i="/",children:a=null,location:c,navigationType:h=bi.Pop,navigator:f,static:g=!1,future:w}=r;Do()&&vt(!1);let y=i.replace(/^\/*/,"/"),_=D.useMemo(()=>({basename:y,navigator:f,static:g,future:Ro({v7_relativeSplatPath:!1},w)}),[y,w,f,g]);typeof c=="string"&&(c=ga(c));let{pathname:j="/",search:C="",hash:O="",state:$=null,key:z="default"}=c,T=D.useMemo(()=>{let k=jh(j,y);return k==null?null:{location:{pathname:k,search:C,hash:O,state:$,key:z},navigationType:h}},[y,j,C,O,$,z,h]);return T==null?null:D.createElement(gs.Provider,{value:_},D.createElement(Qc.Provider,{children:a,value:T}))}function hv(r){let{children:i,location:a}=r;return Qx(rh(i),a)}new Promise(()=>{});function rh(r,i){i===void 0&&(i=[]);let a=[];return D.Children.forEach(r,(c,h)=>{if(!D.isValidElement(c))return;let f=[...i,h];if(c.type===D.Fragment){a.push.apply(a,rh(c.props.children,f));return}c.type!==en&&vt(!1),!c.props.index||!c.props.children||vt(!1);let g={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(g.children=rh(c.props.children,f)),a.push(g)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},ih.apply(this,arguments)}function fv(r,i){if(r==null)return{};var a={},c=Object.keys(r),h,f;for(f=0;f<c.length;f++)h=c[f],!(i.indexOf(h)>=0)&&(a[h]=r[h]);return a}function mv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pv(r,i){return r.button===0&&(!i||i==="_self")&&!mv(r)}const gv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xv="6";try{window.__reactRouterVersion=xv}catch{}const vv="startTransition",zm=Gg[vv];function yv(r){let{basename:i,children:a,future:c,window:h}=r,f=D.useRef();f.current==null&&(f.current=bx({window:h,v5Compat:!0}));let g=f.current,[w,y]=D.useState({action:g.action,location:g.location}),{v7_startTransition:_}=c||{},j=D.useCallback(C=>{_&&zm?zm(()=>y(C)):y(C)},[y,_]);return D.useLayoutEffect(()=>g.listen(j),[g,j]),D.useEffect(()=>uv(c),[c]),D.createElement(dv,{basename:i,children:a,location:w.location,navigationType:w.action,navigator:g,future:c})}const _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=D.forwardRef(function(i,a){let{onClick:c,relative:h,reloadDocument:f,replace:g,state:w,target:y,to:_,preventScrollReset:j,viewTransition:C}=i,O=fv(i,gv),{basename:$}=D.useContext(gs),z,T=!1;if(typeof _=="string"&&wv.test(_)&&(z=_,_v))try{let F=new URL(window.location.href),B=_.startsWith("//")?new URL(F.protocol+_):new URL(_),J=jh(B.pathname,$);B.origin===F.origin&&J!=null?_=J+B.search+B.hash:T=!0}catch{}let k=Kx(_,{relative:h}),P=bv(_,{replace:g,state:w,target:y,preventScrollReset:j,relative:h,viewTransition:C});function R(F){c&&c(F),F.defaultPrevented||P(F)}return D.createElement("a",ih({},O,{href:z||k,onClick:T||f?c:R,ref:a,target:y}))});var Am;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Om;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Om||(Om={}));function bv(r,i){let{target:a,replace:c,state:h,preventScrollReset:f,relative:g,viewTransition:w}=i===void 0?{}:i,y=xs(),_=xa(),j=Tp(r,{relative:g});return D.useCallback(C=>{if(pv(C,a)){C.preventDefault();let O=c!==void 0?c:Fc(_)===Fc(j);y(r,{replace:O,state:h,preventScrollReset:f,relative:g,viewTransition:w})}},[_,y,j,c,h,a,r,f,g,w])}function Lt(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var jv=typeof Symbol=="function"&&Symbol.observable||"@@observable",Im=jv,Wd=()=>Math.random().toString(36).substring(7).split("").join("."),Nv={INIT:`@@redux/INIT${Wd()}`,REPLACE:`@@redux/REPLACE${Wd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wd()}`},Uc=Nv;function kh(r){if(typeof r!="object"||r===null)return!1;let i=r;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(r)===i||Object.getPrototypeOf(r)===null}function Ap(r,i,a){if(typeof r!="function")throw new Error(Lt(2));if(typeof i=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof i=="function"&&typeof a>"u"&&(a=i,i=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Lt(1));return a(Ap)(r,i)}let c=r,h=i,f=new Map,g=f,w=0,y=!1;function _(){g===f&&(g=new Map,f.forEach((k,P)=>{g.set(P,k)}))}function j(){if(y)throw new Error(Lt(3));return h}function C(k){if(typeof k!="function")throw new Error(Lt(4));if(y)throw new Error(Lt(5));let P=!0;_();const R=w++;return g.set(R,k),function(){if(P){if(y)throw new Error(Lt(6));P=!1,_(),g.delete(R),f=null}}}function O(k){if(!kh(k))throw new Error(Lt(7));if(typeof k.type>"u")throw new Error(Lt(8));if(typeof k.type!="string")throw new Error(Lt(17));if(y)throw new Error(Lt(9));try{y=!0,h=c(h,k)}finally{y=!1}return(f=g).forEach(R=>{R()}),k}function $(k){if(typeof k!="function")throw new Error(Lt(10));c=k,O({type:Uc.REPLACE})}function z(){const k=C;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Lt(11));function R(){const B=P;B.next&&B.next(j())}return R(),{unsubscribe:k(R)}},[Im](){return this}}}return O({type:Uc.INIT}),{dispatch:O,subscribe:C,getState:j,replaceReducer:$,[Im]:z}}function kv(r){Object.keys(r).forEach(i=>{const a=r[i];if(typeof a(void 0,{type:Uc.INIT})>"u")throw new Error(Lt(12));if(typeof a(void 0,{type:Uc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function Cv(r){const i=Object.keys(r),a={};for(let f=0;f<i.length;f++){const g=i[f];typeof r[g]=="function"&&(a[g]=r[g])}const c=Object.keys(a);let h;try{kv(a)}catch(f){h=f}return function(g={},w){if(h)throw h;let y=!1;const _={};for(let j=0;j<c.length;j++){const C=c[j],O=a[C],$=g[C],z=O($,w);if(typeof z>"u")throw w&&w.type,new Error(Lt(14));_[C]=z,y=y||z!==$}return y=y||c.length!==Object.keys(g).length,y?_:g}}function $c(...r){return r.length===0?i=>i:r.length===1?r[0]:r.reduce((i,a)=>(...c)=>i(a(...c)))}function Sv(...r){return i=>(a,c)=>{const h=i(a,c);let f=()=>{throw new Error(Lt(15))};const g={getState:h.getState,dispatch:(y,..._)=>f(y,..._)},w=r.map(y=>y(g));return f=$c(...w)(h.dispatch),{...h,dispatch:f}}}function Pv(r){return kh(r)&&"type"in r&&typeof r.type=="string"}var Op=Symbol.for("immer-nothing"),Dm=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Vn(r,...i){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var pa=Object.getPrototypeOf;function fs(r){return!!r&&!!r[yn]}function Or(r){var i;return r?Ip(r)||Array.isArray(r)||!!r[Dm]||!!((i=r.constructor)!=null&&i[Dm])||Yc(r)||eu(r):!1}var Ev=Object.prototype.constructor.toString();function Ip(r){if(!r||typeof r!="object")return!1;const i=pa(r);if(i===null)return!0;const a=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===Ev}function Wc(r,i){Xc(r)===0?Reflect.ownKeys(r).forEach(a=>{i(a,r[a],r)}):r.forEach((a,c)=>i(c,a,r))}function Xc(r){const i=r[yn];return i?i.type_:Array.isArray(r)?1:Yc(r)?2:eu(r)?3:0}function sh(r,i){return Xc(r)===2?r.has(i):Object.prototype.hasOwnProperty.call(r,i)}function Dp(r,i,a){const c=Xc(r);c===2?r.set(i,a):c===3?r.add(a):r[i]=a}function Lv(r,i){return r===i?r!==0||1/r===1/i:r!==r&&i!==i}function Yc(r){return r instanceof Map}function eu(r){return r instanceof Set}function ls(r){return r.copy_||r.base_}function ah(r,i){if(Yc(r))return new Map(r);if(eu(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const a=Ip(r);if(i===!0||i==="class_only"&&!a){const c=Object.getOwnPropertyDescriptors(r);delete c[yn];let h=Reflect.ownKeys(c);for(let f=0;f<h.length;f++){const g=h[f],w=c[g];w.writable===!1&&(w.writable=!0,w.configurable=!0),(w.get||w.set)&&(c[g]={configurable:!0,writable:!0,enumerable:w.enumerable,value:r[g]})}return Object.create(pa(r),c)}else{const c=pa(r);if(c!==null&&a)return{...r};const h=Object.create(c);return Object.assign(h,r)}}function Ch(r,i=!1){return tu(r)||fs(r)||!Or(r)||(Xc(r)>1&&(r.set=r.add=r.clear=r.delete=Tv),Object.freeze(r),i&&Object.entries(r).forEach(([a,c])=>Ch(c,!0))),r}function Tv(){Vn(2)}function tu(r){return Object.isFrozen(r)}var Mv={};function ms(r){const i=Mv[r];return i||Vn(0,r),i}var zo;function Bp(){return zo}function Rv(r,i){return{drafts_:[],parent_:r,immer_:i,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bm(r,i){i&&(ms("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=i)}function oh(r){lh(r),r.drafts_.forEach(zv),r.drafts_=null}function lh(r){r===zo&&(zo=r.parent_)}function Fm(r){return zo=Rv(zo,r)}function zv(r){const i=r[yn];i.type_===0||i.type_===1?i.revoke_():i.revoked_=!0}function Um(r,i){i.unfinalizedDrafts_=i.drafts_.length;const a=i.drafts_[0];return r!==void 0&&r!==a?(a[yn].modified_&&(oh(i),Vn(4)),Or(r)&&(r=Hc(i,r),i.parent_||Vc(i,r)),i.patches_&&ms("Patches").generateReplacementPatches_(a[yn].base_,r,i.patches_,i.inversePatches_)):r=Hc(i,a,[]),oh(i),i.patches_&&i.patchListener_(i.patches_,i.inversePatches_),r!==Op?r:void 0}function Hc(r,i,a){if(tu(i))return i;const c=i[yn];if(!c)return Wc(i,(h,f)=>$m(r,c,i,h,f,a)),i;if(c.scope_!==r)return i;if(!c.modified_)return Vc(r,c.base_,!0),c.base_;if(!c.finalized_){c.finalized_=!0,c.scope_.unfinalizedDrafts_--;const h=c.copy_;let f=h,g=!1;c.type_===3&&(f=new Set(h),h.clear(),g=!0),Wc(f,(w,y)=>$m(r,c,h,w,y,a,g)),Vc(r,h,!1),a&&r.patches_&&ms("Patches").generatePatches_(c,a,r.patches_,r.inversePatches_)}return c.copy_}function $m(r,i,a,c,h,f,g){if(fs(h)){const w=f&&i&&i.type_!==3&&!sh(i.assigned_,c)?f.concat(c):void 0,y=Hc(r,h,w);if(Dp(a,c,y),fs(y))r.canAutoFreeze_=!1;else return}else g&&a.add(h);if(Or(h)&&!tu(h)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Hc(r,h),(!i||!i.scope_.parent_)&&typeof c!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,c)&&Vc(r,h)}}function Vc(r,i,a=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Ch(i,a)}function Av(r,i){const a=Array.isArray(r),c={type_:a?1:0,scope_:i?i.scope_:Bp(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let h=c,f=Sh;a&&(h=[c],f=Ao);const{revoke:g,proxy:w}=Proxy.revocable(h,f);return c.draft_=w,c.revoke_=g,w}var Sh={get(r,i){if(i===yn)return r;const a=ls(r);if(!sh(a,i))return Ov(r,a,i);const c=a[i];return r.finalized_||!Or(c)?c:c===Hd(r.base_,i)?(Vd(r),r.copy_[i]=uh(c,r)):c},has(r,i){return i in ls(r)},ownKeys(r){return Reflect.ownKeys(ls(r))},set(r,i,a){const c=Fp(ls(r),i);if(c!=null&&c.set)return c.set.call(r.draft_,a),!0;if(!r.modified_){const h=Hd(ls(r),i),f=h==null?void 0:h[yn];if(f&&f.base_===a)return r.copy_[i]=a,r.assigned_[i]=!1,!0;if(Lv(a,h)&&(a!==void 0||sh(r.base_,i)))return!0;Vd(r),ch(r)}return r.copy_[i]===a&&(a!==void 0||i in r.copy_)||Number.isNaN(a)&&Number.isNaN(r.copy_[i])||(r.copy_[i]=a,r.assigned_[i]=!0),!0},deleteProperty(r,i){return Hd(r.base_,i)!==void 0||i in r.base_?(r.assigned_[i]=!1,Vd(r),ch(r)):delete r.assigned_[i],r.copy_&&delete r.copy_[i],!0},getOwnPropertyDescriptor(r,i){const a=ls(r),c=Reflect.getOwnPropertyDescriptor(a,i);return c&&{writable:!0,configurable:r.type_!==1||i!=="length",enumerable:c.enumerable,value:a[i]}},defineProperty(){Vn(11)},getPrototypeOf(r){return pa(r.base_)},setPrototypeOf(){Vn(12)}},Ao={};Wc(Sh,(r,i)=>{Ao[r]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}});Ao.deleteProperty=function(r,i){return Ao.set.call(this,r,i,void 0)};Ao.set=function(r,i,a){return Sh.set.call(this,r[0],i,a,r[0])};function Hd(r,i){const a=r[yn];return(a?ls(a):r)[i]}function Ov(r,i,a){var h;const c=Fp(i,a);return c?"value"in c?c.value:(h=c.get)==null?void 0:h.call(r.draft_):void 0}function Fp(r,i){if(!(i in r))return;let a=pa(r);for(;a;){const c=Object.getOwnPropertyDescriptor(a,i);if(c)return c;a=pa(a)}}function ch(r){r.modified_||(r.modified_=!0,r.parent_&&ch(r.parent_))}function Vd(r){r.copy_||(r.copy_=ah(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var Iv=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(i,a,c)=>{if(typeof i=="function"&&typeof a!="function"){const f=a;a=i;const g=this;return function(y=f,..._){return g.produce(y,j=>a.call(this,j,..._))}}typeof a!="function"&&Vn(6),c!==void 0&&typeof c!="function"&&Vn(7);let h;if(Or(i)){const f=Fm(this),g=uh(i,void 0);let w=!0;try{h=a(g),w=!1}finally{w?oh(f):lh(f)}return Bm(f,c),Um(h,f)}else if(!i||typeof i!="object"){if(h=a(i),h===void 0&&(h=i),h===Op&&(h=void 0),this.autoFreeze_&&Ch(h,!0),c){const f=[],g=[];ms("Patches").generateReplacementPatches_(i,h,f,g),c(f,g)}return h}else Vn(1,i)},this.produceWithPatches=(i,a)=>{if(typeof i=="function")return(g,...w)=>this.produceWithPatches(g,y=>i(y,...w));let c,h;return[this.produce(i,a,(g,w)=>{c=g,h=w}),c,h]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Or(r)||Vn(8),fs(r)&&(r=Dv(r));const i=Fm(this),a=uh(r,void 0);return a[yn].isManual_=!0,lh(i),a}finishDraft(r,i){const a=r&&r[yn];(!a||!a.isManual_)&&Vn(9);const{scope_:c}=a;return Bm(c,i),Um(void 0,c)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,i){let a;for(a=i.length-1;a>=0;a--){const h=i[a];if(h.path.length===0&&h.op==="replace"){r=h.value;break}}a>-1&&(i=i.slice(a+1));const c=ms("Patches").applyPatches_;return fs(r)?c(r,i):this.produce(r,h=>c(h,i))}};function uh(r,i){const a=Yc(r)?ms("MapSet").proxyMap_(r,i):eu(r)?ms("MapSet").proxySet_(r,i):Av(r,i);return(i?i.scope_:Bp()).drafts_.push(a),a}function Dv(r){return fs(r)||Vn(10,r),Up(r)}function Up(r){if(!Or(r)||tu(r))return r;const i=r[yn];let a;if(i){if(!i.modified_)return i.base_;i.finalized_=!0,a=ah(r,i.scope_.immer_.useStrictShallowCopy_)}else a=ah(r,!0);return Wc(a,(c,h)=>{Dp(a,c,Up(h))}),i&&(i.finalized_=!1),a}var _n=new Iv,$p=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function Wp(r){return({dispatch:a,getState:c})=>h=>f=>typeof f=="function"?f(a,c,r):h(f)}var Bv=Wp(),Fv=Wp,Uv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$c:$c.apply(null,arguments)},$v=r=>r&&typeof r.match=="function";function Po(r,i){function a(...c){if(i){let h=i(...c);if(!h)throw new Error(Ar(0));return{type:r,payload:h.payload,..."meta"in h&&{meta:h.meta},..."error"in h&&{error:h.error}}}return{type:r,payload:c[0]}}return a.toString=()=>`${r}`,a.type=r,a.match=c=>Pv(c)&&c.type===r,a}var Hp=class Co extends Array{constructor(...i){super(...i),Object.setPrototypeOf(this,Co.prototype)}static get[Symbol.species](){return Co}concat(...i){return super.concat.apply(this,i)}prepend(...i){return i.length===1&&Array.isArray(i[0])?new Co(...i[0].concat(this)):new Co(...i.concat(this))}};function Wm(r){return Or(r)?$p(r,()=>{}):r}function gc(r,i,a){return r.has(i)?r.get(i):r.set(i,a(i)).get(i)}function Wv(r){return typeof r=="boolean"}var Hv=()=>function(i){const{thunk:a=!0,immutableCheck:c=!0,serializableCheck:h=!0,actionCreatorCheck:f=!0}=i??{};let g=new Hp;return a&&(Wv(a)?g.push(Bv):g.push(Fv(a.extraArgument))),g},Vv="RTK_autoBatch",Hm=r=>i=>{setTimeout(i,r)},Zv=(r={type:"raf"})=>i=>(...a)=>{const c=i(...a);let h=!0,f=!1,g=!1;const w=new Set,y=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Hm(10):r.type==="callback"?r.queueNotification:Hm(r.timeout),_=()=>{g=!1,f&&(f=!1,w.forEach(j=>j()))};return Object.assign({},c,{subscribe(j){const C=()=>h&&j(),O=c.subscribe(C);return w.add(j),()=>{O(),w.delete(j)}},dispatch(j){var C;try{return h=!((C=j==null?void 0:j.meta)!=null&&C[Vv]),f=!h,f&&(g||(g=!0,y(_))),c.dispatch(j)}finally{h=!0}}})},qv=r=>function(a){const{autoBatch:c=!0}=a??{};let h=new Hp(r);return c&&h.push(Zv(typeof c=="object"?c:void 0)),h};function Gv(r){const i=Hv(),{reducer:a=void 0,middleware:c,devTools:h=!0,preloadedState:f=void 0,enhancers:g=void 0}=r||{};let w;if(typeof a=="function")w=a;else if(kh(a))w=Cv(a);else throw new Error(Ar(1));let y;typeof c=="function"?y=c(i):y=i();let _=$c;h&&(_=Uv({trace:!1,...typeof h=="object"&&h}));const j=Sv(...y),C=qv(j);let O=typeof g=="function"?g(C):C();const $=_(...O);return Ap(w,f,$)}function Vp(r){const i={},a=[];let c;const h={addCase(f,g){const w=typeof f=="string"?f:f.type;if(!w)throw new Error(Ar(28));if(w in i)throw new Error(Ar(29));return i[w]=g,h},addMatcher(f,g){return a.push({matcher:f,reducer:g}),h},addDefaultCase(f){return c=f,h}};return r(h),[i,a,c]}function Kv(r){return typeof r=="function"}function Jv(r,i){let[a,c,h]=Vp(i),f;if(Kv(r))f=()=>Wm(r());else{const w=Wm(r);f=()=>w}function g(w=f(),y){let _=[a[y.type],...c.filter(({matcher:j})=>j(y)).map(({reducer:j})=>j)];return _.filter(j=>!!j).length===0&&(_=[h]),_.reduce((j,C)=>{if(C)if(fs(j)){const $=C(j,y);return $===void 0?j:$}else{if(Or(j))return $p(j,O=>C(O,y));{const O=C(j,y);if(O===void 0){if(j===null)return j;throw Error("A case reducer on a non-draftable value must not return undefined")}return O}}return j},w)}return g.getInitialState=f,g}var Qv=(r,i)=>$v(r)?r.match(i):r(i);function Xv(...r){return i=>r.some(a=>Qv(a,i))}var Yv="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ey=(r=21)=>{let i="",a=r;for(;a--;)i+=Yv[Math.random()*64|0];return i},ty=["name","message","stack","code"],Zd=class{constructor(r,i){xn(this,"_type");this.payload=r,this.meta=i}},Vm=class{constructor(r,i){xn(this,"_type");this.payload=r,this.meta=i}},ny=r=>{if(typeof r=="object"&&r!==null){const i={};for(const a of ty)typeof r[a]=="string"&&(i[a]=r[a]);return i}return{message:String(r)}},Zm="External signal was aborted",We=(()=>{function r(i,a,c){const h=Po(i+"/fulfilled",(y,_,j,C)=>({payload:y,meta:{...C||{},arg:j,requestId:_,requestStatus:"fulfilled"}})),f=Po(i+"/pending",(y,_,j)=>({payload:void 0,meta:{...j||{},arg:_,requestId:y,requestStatus:"pending"}})),g=Po(i+"/rejected",(y,_,j,C,O)=>({payload:C,error:(c&&c.serializeError||ny)(y||"Rejected"),meta:{...O||{},arg:j,requestId:_,rejectedWithValue:!!C,requestStatus:"rejected",aborted:(y==null?void 0:y.name)==="AbortError",condition:(y==null?void 0:y.name)==="ConditionError"}}));function w(y,{signal:_}={}){return(j,C,O)=>{const $=c!=null&&c.idGenerator?c.idGenerator(y):ey(),z=new AbortController;let T,k;function P(F){k=F,z.abort()}_&&(_.aborted?P(Zm):_.addEventListener("abort",()=>P(Zm),{once:!0}));const R=(async function(){var J,se;let F;try{let ae=(J=c==null?void 0:c.condition)==null?void 0:J.call(c,y,{getState:C,extra:O});if(iy(ae)&&(ae=await ae),ae===!1||z.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const te=new Promise((q,Re)=>{T=()=>{Re({name:"AbortError",message:k||"Aborted"})},z.signal.addEventListener("abort",T)});j(f($,y,(se=c==null?void 0:c.getPendingMeta)==null?void 0:se.call(c,{requestId:$,arg:y},{getState:C,extra:O}))),F=await Promise.race([te,Promise.resolve(a(y,{dispatch:j,getState:C,extra:O,requestId:$,signal:z.signal,abort:P,rejectWithValue:(q,Re)=>new Zd(q,Re),fulfillWithValue:(q,Re)=>new Vm(q,Re)})).then(q=>{if(q instanceof Zd)throw q;return q instanceof Vm?h(q.payload,$,y,q.meta):h(q,$,y)})])}catch(ae){F=ae instanceof Zd?g(null,$,y,ae.payload,ae.meta):g(ae,$,y)}finally{T&&z.signal.removeEventListener("abort",T)}return c&&!c.dispatchConditionRejection&&g.match(F)&&F.meta.condition||j(F),F})();return Object.assign(R,{abort:P,requestId:$,arg:y,unwrap(){return R.then(ry)}})}}return Object.assign(w,{pending:f,rejected:g,fulfilled:h,settled:Xv(g,h),typePrefix:i})}return r.withTypes=()=>r,r})();function ry(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function iy(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var sy=Symbol.for("rtk-slice-createasyncthunk");function ay(r,i){return`${r}/${i}`}function oy({creators:r}={}){var a;const i=(a=r==null?void 0:r.asyncThunk)==null?void 0:a[sy];return function(h){const{name:f,reducerPath:g=f}=h;if(!f)throw new Error(Ar(11));const w=(typeof h.reducers=="function"?h.reducers(cy()):h.reducers)||{},y=Object.keys(w),_={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},j={addCase(B,J){const se=typeof B=="string"?B:B.type;if(!se)throw new Error(Ar(12));if(se in _.sliceCaseReducersByType)throw new Error(Ar(13));return _.sliceCaseReducersByType[se]=J,j},addMatcher(B,J){return _.sliceMatchers.push({matcher:B,reducer:J}),j},exposeAction(B,J){return _.actionCreators[B]=J,j},exposeCaseReducer(B,J){return _.sliceCaseReducersByName[B]=J,j}};y.forEach(B=>{const J=w[B],se={reducerName:B,type:ay(f,B),createNotation:typeof h.reducers=="function"};dy(J)?fy(se,J,j,i):uy(se,J,j)});function C(){const[B={},J=[],se=void 0]=typeof h.extraReducers=="function"?Vp(h.extraReducers):[h.extraReducers],ae={...B,..._.sliceCaseReducersByType};return Jv(h.initialState,te=>{for(let q in ae)te.addCase(q,ae[q]);for(let q of _.sliceMatchers)te.addMatcher(q.matcher,q.reducer);for(let q of J)te.addMatcher(q.matcher,q.reducer);se&&te.addDefaultCase(se)})}const O=B=>B,$=new Map,z=new WeakMap;let T;function k(B,J){return T||(T=C()),T(B,J)}function P(){return T||(T=C()),T.getInitialState()}function R(B,J=!1){function se(te){let q=te[B];return typeof q>"u"&&J&&(q=gc(z,se,P)),q}function ae(te=O){const q=gc($,J,()=>new WeakMap);return gc(q,te,()=>{const Re={};for(const[Fe,De]of Object.entries(h.selectors??{}))Re[Fe]=ly(De,te,()=>gc(z,te,P),J);return Re})}return{reducerPath:B,getSelectors:ae,get selectors(){return ae(se)},selectSlice:se}}const F={name:f,reducer:k,actions:_.actionCreators,caseReducers:_.sliceCaseReducersByName,getInitialState:P,...R(g),injectInto(B,{reducerPath:J,...se}={}){const ae=J??g;return B.inject({reducerPath:ae,reducer:k},se),{...F,...R(ae,!0)}}};return F}}function ly(r,i,a,c){function h(f,...g){let w=i(f);return typeof w>"u"&&c&&(w=a()),r(w,...g)}return h.unwrapped=r,h}var Ir=oy();function cy(){function r(i,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:i,...a}}return r.withTypes=()=>r,{reducer(i){return Object.assign({[i.name](...a){return i(...a)}}[i.name],{_reducerDefinitionType:"reducer"})},preparedReducer(i,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:i,reducer:a}},asyncThunk:r}}function uy({type:r,reducerName:i,createNotation:a},c,h){let f,g;if("reducer"in c){if(a&&!hy(c))throw new Error(Ar(17));f=c.reducer,g=c.prepare}else f=c;h.addCase(r,f).exposeCaseReducer(i,f).exposeAction(i,g?Po(r,g):Po(r))}function dy(r){return r._reducerDefinitionType==="asyncThunk"}function hy(r){return r._reducerDefinitionType==="reducerWithPrepare"}function fy({type:r,reducerName:i},a,c,h){if(!h)throw new Error(Ar(18));const{payloadCreator:f,fulfilled:g,pending:w,rejected:y,settled:_,options:j}=a,C=h(r,f,j);c.exposeAction(i,C),g&&c.addCase(C.fulfilled,g),w&&c.addCase(C.pending,w),y&&c.addCase(C.rejected,y),_&&c.addMatcher(C.settled,_),c.exposeCaseReducer(i,{fulfilled:g||xc,pending:w||xc,rejected:y||xc,settled:_||xc})}function xc(){}function Ar(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}function Zp(r,i){return function(){return r.apply(i,arguments)}}const{toString:my}=Object.prototype,{getPrototypeOf:Ph}=Object,{iterator:nu,toStringTag:qp}=Symbol,ru=(r=>i=>{const a=my.call(i);return r[a]||(r[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=r=>(r=r.toLowerCase(),i=>ru(i)===r),iu=r=>i=>typeof i===r,{isArray:va}=Array,Oo=iu("undefined");function Bo(r){return r!==null&&!Oo(r)&&r.constructor!==null&&!Oo(r.constructor)&&nn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Gp=Zn("ArrayBuffer");function py(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Gp(r.buffer),i}const gy=iu("string"),nn=iu("function"),Kp=iu("number"),Fo=r=>r!==null&&typeof r=="object",xy=r=>r===!0||r===!1,_c=r=>{if(ru(r)!=="object")return!1;const i=Ph(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(qp in r)&&!(nu in r)},vy=r=>{if(!Fo(r)||Bo(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},yy=Zn("Date"),_y=Zn("File"),wy=Zn("Blob"),by=Zn("FileList"),jy=r=>Fo(r)&&nn(r.pipe),Ny=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||nn(r.append)&&((i=ru(r))==="formdata"||i==="object"&&nn(r.toString)&&r.toString()==="[object FormData]"))},ky=Zn("URLSearchParams"),[Cy,Sy,Py,Ey]=["ReadableStream","Request","Response","Headers"].map(Zn),Ly=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uo(r,i,{allOwnKeys:a=!1}={}){if(r===null||typeof r>"u")return;let c,h;if(typeof r!="object"&&(r=[r]),va(r))for(c=0,h=r.length;c<h;c++)i.call(null,r[c],c,r);else{if(Bo(r))return;const f=a?Object.getOwnPropertyNames(r):Object.keys(r),g=f.length;let w;for(c=0;c<g;c++)w=f[c],i.call(null,r[w],w,r)}}function Jp(r,i){if(Bo(r))return null;i=i.toLowerCase();const a=Object.keys(r);let c=a.length,h;for(;c-- >0;)if(h=a[c],i===h.toLowerCase())return h;return null}const us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qp=r=>!Oo(r)&&r!==us;function dh(){const{caseless:r}=Qp(this)&&this||{},i={},a=(c,h)=>{const f=r&&Jp(i,h)||h;_c(i[f])&&_c(c)?i[f]=dh(i[f],c):_c(c)?i[f]=dh({},c):va(c)?i[f]=c.slice():i[f]=c};for(let c=0,h=arguments.length;c<h;c++)arguments[c]&&Uo(arguments[c],a);return i}const Ty=(r,i,a,{allOwnKeys:c}={})=>(Uo(i,(h,f)=>{a&&nn(h)?r[f]=Zp(h,a):r[f]=h},{allOwnKeys:c}),r),My=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ry=(r,i,a,c)=>{r.prototype=Object.create(i.prototype,c),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),a&&Object.assign(r.prototype,a)},zy=(r,i,a,c)=>{let h,f,g;const w={};if(i=i||{},r==null)return i;do{for(h=Object.getOwnPropertyNames(r),f=h.length;f-- >0;)g=h[f],(!c||c(g,r,i))&&!w[g]&&(i[g]=r[g],w[g]=!0);r=a!==!1&&Ph(r)}while(r&&(!a||a(r,i))&&r!==Object.prototype);return i},Ay=(r,i,a)=>{r=String(r),(a===void 0||a>r.length)&&(a=r.length),a-=i.length;const c=r.indexOf(i,a);return c!==-1&&c===a},Oy=r=>{if(!r)return null;if(va(r))return r;let i=r.length;if(!Kp(i))return null;const a=new Array(i);for(;i-- >0;)a[i]=r[i];return a},Iy=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&Ph(Uint8Array)),Dy=(r,i)=>{const c=(r&&r[nu]).call(r);let h;for(;(h=c.next())&&!h.done;){const f=h.value;i.call(r,f[0],f[1])}},By=(r,i)=>{let a;const c=[];for(;(a=r.exec(i))!==null;)c.push(a);return c},Fy=Zn("HTMLFormElement"),Uy=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,c,h){return c.toUpperCase()+h}),qm=(({hasOwnProperty:r})=>(i,a)=>r.call(i,a))(Object.prototype),$y=Zn("RegExp"),Xp=(r,i)=>{const a=Object.getOwnPropertyDescriptors(r),c={};Uo(a,(h,f)=>{let g;(g=i(h,f,r))!==!1&&(c[f]=g||h)}),Object.defineProperties(r,c)},Wy=r=>{Xp(r,(i,a)=>{if(nn(r)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const c=r[a];if(nn(c)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Hy=(r,i)=>{const a={},c=h=>{h.forEach(f=>{a[f]=!0})};return va(r)?c(r):c(String(r).split(i)),a},Vy=()=>{},Zy=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i;function qy(r){return!!(r&&nn(r.append)&&r[qp]==="FormData"&&r[nu])}const Gy=r=>{const i=new Array(10),a=(c,h)=>{if(Fo(c)){if(i.indexOf(c)>=0)return;if(Bo(c))return c;if(!("toJSON"in c)){i[h]=c;const f=va(c)?[]:{};return Uo(c,(g,w)=>{const y=a(g,h+1);!Oo(y)&&(f[w]=y)}),i[h]=void 0,f}}return c};return a(r,0)},Ky=Zn("AsyncFunction"),Jy=r=>r&&(Fo(r)||nn(r))&&nn(r.then)&&nn(r.catch),Yp=((r,i)=>r?setImmediate:i?((a,c)=>(us.addEventListener("message",({source:h,data:f})=>{h===us&&f===a&&c.length&&c.shift()()},!1),h=>{c.push(h),us.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",nn(us.postMessage)),Qy=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||Yp,Xy=r=>r!=null&&nn(r[nu]),K={isArray:va,isArrayBuffer:Gp,isBuffer:Bo,isFormData:Ny,isArrayBufferView:py,isString:gy,isNumber:Kp,isBoolean:xy,isObject:Fo,isPlainObject:_c,isEmptyObject:vy,isReadableStream:Cy,isRequest:Sy,isResponse:Py,isHeaders:Ey,isUndefined:Oo,isDate:yy,isFile:_y,isBlob:wy,isRegExp:$y,isFunction:nn,isStream:jy,isURLSearchParams:ky,isTypedArray:Iy,isFileList:by,forEach:Uo,merge:dh,extend:Ty,trim:Ly,stripBOM:My,inherits:Ry,toFlatObject:zy,kindOf:ru,kindOfTest:Zn,endsWith:Ay,toArray:Oy,forEachEntry:Dy,matchAll:By,isHTMLForm:Fy,hasOwnProperty:qm,hasOwnProp:qm,reduceDescriptors:Xp,freezeMethods:Wy,toObjectSet:Hy,toCamelCase:Uy,noop:Vy,toFiniteNumber:Zy,findKey:Jp,global:us,isContextDefined:Qp,isSpecCompliantForm:qy,toJSONObject:Gy,isAsyncFn:Ky,isThenable:Jy,setImmediate:Yp,asap:Qy,isIterable:Xy};function Le(r,i,a,c,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),a&&(this.config=a),c&&(this.request=c),h&&(this.response=h,this.status=h.status?h.status:null)}K.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const e0=Le.prototype,t0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{t0[r]={value:r}});Object.defineProperties(Le,t0);Object.defineProperty(e0,"isAxiosError",{value:!0});Le.from=(r,i,a,c,h,f)=>{const g=Object.create(e0);return K.toFlatObject(r,g,function(y){return y!==Error.prototype},w=>w!=="isAxiosError"),Le.call(g,r.message,i,a,c,h),g.cause=r,g.name=r.name,f&&Object.assign(g,f),g};const Yy=null;function hh(r){return K.isPlainObject(r)||K.isArray(r)}function n0(r){return K.endsWith(r,"[]")?r.slice(0,-2):r}function Gm(r,i,a){return r?r.concat(i).map(function(h,f){return h=n0(h),!a&&f?"["+h+"]":h}).join(a?".":""):i}function e1(r){return K.isArray(r)&&!r.some(hh)}const t1=K.toFlatObject(K,{},null,function(i){return/^is[A-Z]/.test(i)});function su(r,i,a){if(!K.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,a=K.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,k){return!K.isUndefined(k[T])});const c=a.metaTokens,h=a.visitor||j,f=a.dots,g=a.indexes,y=(a.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(i);if(!K.isFunction(h))throw new TypeError("visitor must be a function");function _(z){if(z===null)return"";if(K.isDate(z))return z.toISOString();if(K.isBoolean(z))return z.toString();if(!y&&K.isBlob(z))throw new Le("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(z)||K.isTypedArray(z)?y&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function j(z,T,k){let P=z;if(z&&!k&&typeof z=="object"){if(K.endsWith(T,"{}"))T=c?T:T.slice(0,-2),z=JSON.stringify(z);else if(K.isArray(z)&&e1(z)||(K.isFileList(z)||K.endsWith(T,"[]"))&&(P=K.toArray(z)))return T=n0(T),P.forEach(function(F,B){!(K.isUndefined(F)||F===null)&&i.append(g===!0?Gm([T],B,f):g===null?T:T+"[]",_(F))}),!1}return hh(z)?!0:(i.append(Gm(k,T,f),_(z)),!1)}const C=[],O=Object.assign(t1,{defaultVisitor:j,convertValue:_,isVisitable:hh});function $(z,T){if(!K.isUndefined(z)){if(C.indexOf(z)!==-1)throw Error("Circular reference detected in "+T.join("."));C.push(z),K.forEach(z,function(P,R){(!(K.isUndefined(P)||P===null)&&h.call(i,P,K.isString(R)?R.trim():R,T,O))===!0&&$(P,T?T.concat(R):[R])}),C.pop()}}if(!K.isObject(r))throw new TypeError("data must be an object");return $(r),i}function Km(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(c){return i[c]})}function Eh(r,i){this._pairs=[],r&&su(r,this,i)}const r0=Eh.prototype;r0.append=function(i,a){this._pairs.push([i,a])};r0.toString=function(i){const a=i?function(c){return i.call(this,c,Km)}:Km;return this._pairs.map(function(h){return a(h[0])+"="+a(h[1])},"").join("&")};function n1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i0(r,i,a){if(!i)return r;const c=a&&a.encode||n1;K.isFunction(a)&&(a={serialize:a});const h=a&&a.serialize;let f;if(h?f=h(i,a):f=K.isURLSearchParams(i)?i.toString():new Eh(i,a).toString(c),f){const g=r.indexOf("#");g!==-1&&(r=r.slice(0,g)),r+=(r.indexOf("?")===-1?"?":"&")+f}return r}class Jm{constructor(){this.handlers=[]}use(i,a,c){return this.handlers.push({fulfilled:i,rejected:a,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){K.forEach(this.handlers,function(c){c!==null&&i(c)})}}const s0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r1=typeof URLSearchParams<"u"?URLSearchParams:Eh,i1=typeof FormData<"u"?FormData:null,s1=typeof Blob<"u"?Blob:null,a1={isBrowser:!0,classes:{URLSearchParams:r1,FormData:i1,Blob:s1},protocols:["http","https","file","blob","url","data"]},Lh=typeof window<"u"&&typeof document<"u",fh=typeof navigator=="object"&&navigator||void 0,o1=Lh&&(!fh||["ReactNative","NativeScript","NS"].indexOf(fh.product)<0),l1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c1=Lh&&window.location.href||"http://localhost",u1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lh,hasStandardBrowserEnv:o1,hasStandardBrowserWebWorkerEnv:l1,navigator:fh,origin:c1},Symbol.toStringTag,{value:"Module"})),Bt={...u1,...a1};function d1(r,i){return su(r,new Bt.classes.URLSearchParams,{visitor:function(a,c,h,f){return Bt.isNode&&K.isBuffer(a)?(this.append(c,a.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...i})}function h1(r){return K.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function f1(r){const i={},a=Object.keys(r);let c;const h=a.length;let f;for(c=0;c<h;c++)f=a[c],i[f]=r[f];return i}function a0(r){function i(a,c,h,f){let g=a[f++];if(g==="__proto__")return!0;const w=Number.isFinite(+g),y=f>=a.length;return g=!g&&K.isArray(h)?h.length:g,y?(K.hasOwnProp(h,g)?h[g]=[h[g],c]:h[g]=c,!w):((!h[g]||!K.isObject(h[g]))&&(h[g]=[]),i(a,c,h[g],f)&&K.isArray(h[g])&&(h[g]=f1(h[g])),!w)}if(K.isFormData(r)&&K.isFunction(r.entries)){const a={};return K.forEachEntry(r,(c,h)=>{i(h1(c),h,a,0)}),a}return null}function m1(r,i,a){if(K.isString(r))try{return(i||JSON.parse)(r),K.trim(r)}catch(c){if(c.name!=="SyntaxError")throw c}return(a||JSON.stringify)(r)}const $o={transitional:s0,adapter:["xhr","http","fetch"],transformRequest:[function(i,a){const c=a.getContentType()||"",h=c.indexOf("application/json")>-1,f=K.isObject(i);if(f&&K.isHTMLForm(i)&&(i=new FormData(i)),K.isFormData(i))return h?JSON.stringify(a0(i)):i;if(K.isArrayBuffer(i)||K.isBuffer(i)||K.isStream(i)||K.isFile(i)||K.isBlob(i)||K.isReadableStream(i))return i;if(K.isArrayBufferView(i))return i.buffer;if(K.isURLSearchParams(i))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let w;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return d1(i,this.formSerializer).toString();if((w=K.isFileList(i))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return su(w?{"files[]":i}:i,y&&new y,this.formSerializer)}}return f||h?(a.setContentType("application/json",!1),m1(i)):i}],transformResponse:[function(i){const a=this.transitional||$o.transitional,c=a&&a.forcedJSONParsing,h=this.responseType==="json";if(K.isResponse(i)||K.isReadableStream(i))return i;if(i&&K.isString(i)&&(c&&!this.responseType||h)){const g=!(a&&a.silentJSONParsing)&&h;try{return JSON.parse(i)}catch(w){if(g)throw w.name==="SyntaxError"?Le.from(w,Le.ERR_BAD_RESPONSE,this,null,this.response):w}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],r=>{$o.headers[r]={}});const p1=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g1=r=>{const i={};let a,c,h;return r&&r.split(`
`).forEach(function(g){h=g.indexOf(":"),a=g.substring(0,h).trim().toLowerCase(),c=g.substring(h+1).trim(),!(!a||i[a]&&p1[a])&&(a==="set-cookie"?i[a]?i[a].push(c):i[a]=[c]:i[a]=i[a]?i[a]+", "+c:c)}),i},Qm=Symbol("internals");function No(r){return r&&String(r).trim().toLowerCase()}function wc(r){return r===!1||r==null?r:K.isArray(r)?r.map(wc):String(r)}function x1(r){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=a.exec(r);)i[c[1]]=c[2];return i}const v1=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function qd(r,i,a,c,h){if(K.isFunction(c))return c.call(this,i,a);if(h&&(i=a),!!K.isString(i)){if(K.isString(c))return i.indexOf(c)!==-1;if(K.isRegExp(c))return c.test(i)}}function y1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,a,c)=>a.toUpperCase()+c)}function _1(r,i){const a=K.toCamelCase(" "+i);["get","set","has"].forEach(c=>{Object.defineProperty(r,c+a,{value:function(h,f,g){return this[c].call(this,i,h,f,g)},configurable:!0})})}let rn=class{constructor(i){i&&this.set(i)}set(i,a,c){const h=this;function f(w,y,_){const j=No(y);if(!j)throw new Error("header name must be a non-empty string");const C=K.findKey(h,j);(!C||h[C]===void 0||_===!0||_===void 0&&h[C]!==!1)&&(h[C||y]=wc(w))}const g=(w,y)=>K.forEach(w,(_,j)=>f(_,j,y));if(K.isPlainObject(i)||i instanceof this.constructor)g(i,a);else if(K.isString(i)&&(i=i.trim())&&!v1(i))g(g1(i),a);else if(K.isObject(i)&&K.isIterable(i)){let w={},y,_;for(const j of i){if(!K.isArray(j))throw TypeError("Object iterator must return a key-value pair");w[_=j[0]]=(y=w[_])?K.isArray(y)?[...y,j[1]]:[y,j[1]]:j[1]}g(w,a)}else i!=null&&f(a,i,c);return this}get(i,a){if(i=No(i),i){const c=K.findKey(this,i);if(c){const h=this[c];if(!a)return h;if(a===!0)return x1(h);if(K.isFunction(a))return a.call(this,h,c);if(K.isRegExp(a))return a.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,a){if(i=No(i),i){const c=K.findKey(this,i);return!!(c&&this[c]!==void 0&&(!a||qd(this,this[c],c,a)))}return!1}delete(i,a){const c=this;let h=!1;function f(g){if(g=No(g),g){const w=K.findKey(c,g);w&&(!a||qd(c,c[w],w,a))&&(delete c[w],h=!0)}}return K.isArray(i)?i.forEach(f):f(i),h}clear(i){const a=Object.keys(this);let c=a.length,h=!1;for(;c--;){const f=a[c];(!i||qd(this,this[f],f,i,!0))&&(delete this[f],h=!0)}return h}normalize(i){const a=this,c={};return K.forEach(this,(h,f)=>{const g=K.findKey(c,f);if(g){a[g]=wc(h),delete a[f];return}const w=i?y1(f):String(f).trim();w!==f&&delete a[f],a[w]=wc(h),c[w]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const a=Object.create(null);return K.forEach(this,(c,h)=>{c!=null&&c!==!1&&(a[h]=i&&K.isArray(c)?c.join(", "):c)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,a])=>i+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...a){const c=new this(i);return a.forEach(h=>c.set(h)),c}static accessor(i){const c=(this[Qm]=this[Qm]={accessors:{}}).accessors,h=this.prototype;function f(g){const w=No(g);c[w]||(_1(h,g),c[w]=!0)}return K.isArray(i)?i.forEach(f):f(i),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(rn.prototype,({value:r},i)=>{let a=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(c){this[a]=c}}});K.freezeMethods(rn);function Gd(r,i){const a=this||$o,c=i||a,h=rn.from(c.headers);let f=c.data;return K.forEach(r,function(w){f=w.call(a,f,h.normalize(),i?i.status:void 0)}),h.normalize(),f}function o0(r){return!!(r&&r.__CANCEL__)}function ya(r,i,a){Le.call(this,r??"canceled",Le.ERR_CANCELED,i,a),this.name="CanceledError"}K.inherits(ya,Le,{__CANCEL__:!0});function l0(r,i,a){const c=a.config.validateStatus;!a.status||!c||c(a.status)?r(a):i(new Le("Request failed with status code "+a.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function w1(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function b1(r,i){r=r||10;const a=new Array(r),c=new Array(r);let h=0,f=0,g;return i=i!==void 0?i:1e3,function(y){const _=Date.now(),j=c[f];g||(g=_),a[h]=y,c[h]=_;let C=f,O=0;for(;C!==h;)O+=a[C++],C=C%r;if(h=(h+1)%r,h===f&&(f=(f+1)%r),_-g<i)return;const $=j&&_-j;return $?Math.round(O*1e3/$):void 0}}function j1(r,i){let a=0,c=1e3/i,h,f;const g=(_,j=Date.now())=>{a=j,h=null,f&&(clearTimeout(f),f=null),r(..._)};return[(..._)=>{const j=Date.now(),C=j-a;C>=c?g(_,j):(h=_,f||(f=setTimeout(()=>{f=null,g(h)},c-C)))},()=>h&&g(h)]}const Zc=(r,i,a=3)=>{let c=0;const h=b1(50,250);return j1(f=>{const g=f.loaded,w=f.lengthComputable?f.total:void 0,y=g-c,_=h(y),j=g<=w;c=g;const C={loaded:g,total:w,progress:w?g/w:void 0,bytes:y,rate:_||void 0,estimated:_&&w&&j?(w-g)/_:void 0,event:f,lengthComputable:w!=null,[i?"download":"upload"]:!0};r(C)},a)},Xm=(r,i)=>{const a=r!=null;return[c=>i[0]({lengthComputable:a,total:r,loaded:c}),i[1]]},Ym=r=>(...i)=>K.asap(()=>r(...i)),N1=Bt.hasStandardBrowserEnv?((r,i)=>a=>(a=new URL(a,Bt.origin),r.protocol===a.protocol&&r.host===a.host&&(i||r.port===a.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,k1=Bt.hasStandardBrowserEnv?{write(r,i,a,c,h,f){const g=[r+"="+encodeURIComponent(i)];K.isNumber(a)&&g.push("expires="+new Date(a).toGMTString()),K.isString(c)&&g.push("path="+c),K.isString(h)&&g.push("domain="+h),f===!0&&g.push("secure"),document.cookie=g.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function C1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function S1(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function c0(r,i,a){let c=!C1(i);return r&&(c||a==!1)?S1(r,i):i}const ep=r=>r instanceof rn?{...r}:r;function ps(r,i){i=i||{};const a={};function c(_,j,C,O){return K.isPlainObject(_)&&K.isPlainObject(j)?K.merge.call({caseless:O},_,j):K.isPlainObject(j)?K.merge({},j):K.isArray(j)?j.slice():j}function h(_,j,C,O){if(K.isUndefined(j)){if(!K.isUndefined(_))return c(void 0,_,C,O)}else return c(_,j,C,O)}function f(_,j){if(!K.isUndefined(j))return c(void 0,j)}function g(_,j){if(K.isUndefined(j)){if(!K.isUndefined(_))return c(void 0,_)}else return c(void 0,j)}function w(_,j,C){if(C in i)return c(_,j);if(C in r)return c(void 0,_)}const y={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:w,headers:(_,j,C)=>h(ep(_),ep(j),C,!0)};return K.forEach(Object.keys({...r,...i}),function(j){const C=y[j]||h,O=C(r[j],i[j],j);K.isUndefined(O)&&C!==w||(a[j]=O)}),a}const u0=r=>{const i=ps({},r);let{data:a,withXSRFToken:c,xsrfHeaderName:h,xsrfCookieName:f,headers:g,auth:w}=i;i.headers=g=rn.from(g),i.url=i0(c0(i.baseURL,i.url,i.allowAbsoluteUrls),r.params,r.paramsSerializer),w&&g.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let y;if(K.isFormData(a)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((y=g.getContentType())!==!1){const[_,...j]=y?y.split(";").map(C=>C.trim()).filter(Boolean):[];g.setContentType([_||"multipart/form-data",...j].join("; "))}}if(Bt.hasStandardBrowserEnv&&(c&&K.isFunction(c)&&(c=c(i)),c||c!==!1&&N1(i.url))){const _=h&&f&&k1.read(f);_&&g.set(h,_)}return i},P1=typeof XMLHttpRequest<"u",E1=P1&&function(r){return new Promise(function(a,c){const h=u0(r);let f=h.data;const g=rn.from(h.headers).normalize();let{responseType:w,onUploadProgress:y,onDownloadProgress:_}=h,j,C,O,$,z;function T(){$&&$(),z&&z(),h.cancelToken&&h.cancelToken.unsubscribe(j),h.signal&&h.signal.removeEventListener("abort",j)}let k=new XMLHttpRequest;k.open(h.method.toUpperCase(),h.url,!0),k.timeout=h.timeout;function P(){if(!k)return;const F=rn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),J={data:!w||w==="text"||w==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:F,config:r,request:k};l0(function(ae){a(ae),T()},function(ae){c(ae),T()},J),k=null}"onloadend"in k?k.onloadend=P:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(P)},k.onabort=function(){k&&(c(new Le("Request aborted",Le.ECONNABORTED,r,k)),k=null)},k.onerror=function(){c(new Le("Network Error",Le.ERR_NETWORK,r,k)),k=null},k.ontimeout=function(){let B=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const J=h.transitional||s0;h.timeoutErrorMessage&&(B=h.timeoutErrorMessage),c(new Le(B,J.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,r,k)),k=null},f===void 0&&g.setContentType(null),"setRequestHeader"in k&&K.forEach(g.toJSON(),function(B,J){k.setRequestHeader(J,B)}),K.isUndefined(h.withCredentials)||(k.withCredentials=!!h.withCredentials),w&&w!=="json"&&(k.responseType=h.responseType),_&&([O,z]=Zc(_,!0),k.addEventListener("progress",O)),y&&k.upload&&([C,$]=Zc(y),k.upload.addEventListener("progress",C),k.upload.addEventListener("loadend",$)),(h.cancelToken||h.signal)&&(j=F=>{k&&(c(!F||F.type?new ya(null,r,k):F),k.abort(),k=null)},h.cancelToken&&h.cancelToken.subscribe(j),h.signal&&(h.signal.aborted?j():h.signal.addEventListener("abort",j)));const R=w1(h.url);if(R&&Bt.protocols.indexOf(R)===-1){c(new Le("Unsupported protocol "+R+":",Le.ERR_BAD_REQUEST,r));return}k.send(f||null)})},L1=(r,i)=>{const{length:a}=r=r?r.filter(Boolean):[];if(i||a){let c=new AbortController,h;const f=function(_){if(!h){h=!0,w();const j=_ instanceof Error?_:this.reason;c.abort(j instanceof Le?j:new ya(j instanceof Error?j.message:j))}};let g=i&&setTimeout(()=>{g=null,f(new Le(`timeout ${i} of ms exceeded`,Le.ETIMEDOUT))},i);const w=()=>{r&&(g&&clearTimeout(g),g=null,r.forEach(_=>{_.unsubscribe?_.unsubscribe(f):_.removeEventListener("abort",f)}),r=null)};r.forEach(_=>_.addEventListener("abort",f));const{signal:y}=c;return y.unsubscribe=()=>K.asap(w),y}},T1=function*(r,i){let a=r.byteLength;if(a<i){yield r;return}let c=0,h;for(;c<a;)h=c+i,yield r.slice(c,h),c=h},M1=async function*(r,i){for await(const a of R1(r))yield*T1(a,i)},R1=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:a,value:c}=await i.read();if(a)break;yield c}}finally{await i.cancel()}},tp=(r,i,a,c)=>{const h=M1(r,i);let f=0,g,w=y=>{g||(g=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:_,value:j}=await h.next();if(_){w(),y.close();return}let C=j.byteLength;if(a){let O=f+=C;a(O)}y.enqueue(new Uint8Array(j))}catch(_){throw w(_),_}},cancel(y){return w(y),h.return()}},{highWaterMark:2})},au=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",d0=au&&typeof ReadableStream=="function",z1=au&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),h0=(r,...i)=>{try{return!!r(...i)}catch{return!1}},A1=d0&&h0(()=>{let r=!1;const i=new Request(Bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),np=64*1024,mh=d0&&h0(()=>K.isReadableStream(new Response("").body)),qc={stream:mh&&(r=>r.body)};au&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!qc[i]&&(qc[i]=K.isFunction(r[i])?a=>a[i]():(a,c)=>{throw new Le(`Response type '${i}' is not supported`,Le.ERR_NOT_SUPPORT,c)})})})(new Response);const O1=async r=>{if(r==null)return 0;if(K.isBlob(r))return r.size;if(K.isSpecCompliantForm(r))return(await new Request(Bt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(K.isArrayBufferView(r)||K.isArrayBuffer(r))return r.byteLength;if(K.isURLSearchParams(r)&&(r=r+""),K.isString(r))return(await z1(r)).byteLength},I1=async(r,i)=>{const a=K.toFiniteNumber(r.getContentLength());return a??O1(i)},D1=au&&(async r=>{let{url:i,method:a,data:c,signal:h,cancelToken:f,timeout:g,onDownloadProgress:w,onUploadProgress:y,responseType:_,headers:j,withCredentials:C="same-origin",fetchOptions:O}=u0(r);_=_?(_+"").toLowerCase():"text";let $=L1([h,f&&f.toAbortSignal()],g),z;const T=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let k;try{if(y&&A1&&a!=="get"&&a!=="head"&&(k=await I1(j,c))!==0){let J=new Request(i,{method:"POST",body:c,duplex:"half"}),se;if(K.isFormData(c)&&(se=J.headers.get("content-type"))&&j.setContentType(se),J.body){const[ae,te]=Xm(k,Zc(Ym(y)));c=tp(J.body,np,ae,te)}}K.isString(C)||(C=C?"include":"omit");const P="credentials"in Request.prototype;z=new Request(i,{...O,signal:$,method:a.toUpperCase(),headers:j.normalize().toJSON(),body:c,duplex:"half",credentials:P?C:void 0});let R=await fetch(z,O);const F=mh&&(_==="stream"||_==="response");if(mh&&(w||F&&T)){const J={};["status","statusText","headers"].forEach(q=>{J[q]=R[q]});const se=K.toFiniteNumber(R.headers.get("content-length")),[ae,te]=w&&Xm(se,Zc(Ym(w),!0))||[];R=new Response(tp(R.body,np,ae,()=>{te&&te(),T&&T()}),J)}_=_||"text";let B=await qc[K.findKey(qc,_)||"text"](R,r);return!F&&T&&T(),await new Promise((J,se)=>{l0(J,se,{data:B,headers:rn.from(R.headers),status:R.status,statusText:R.statusText,config:r,request:z})})}catch(P){throw T&&T(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,r,z),{cause:P.cause||P}):Le.from(P,P&&P.code,r,z)}}),ph={http:Yy,xhr:E1,fetch:D1};K.forEach(ph,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const rp=r=>`- ${r}`,B1=r=>K.isFunction(r)||r===null||r===!1,f0={getAdapter:r=>{r=K.isArray(r)?r:[r];const{length:i}=r;let a,c;const h={};for(let f=0;f<i;f++){a=r[f];let g;if(c=a,!B1(a)&&(c=ph[(g=String(a)).toLowerCase()],c===void 0))throw new Le(`Unknown adapter '${g}'`);if(c)break;h[g||"#"+f]=c}if(!c){const f=Object.entries(h).map(([w,y])=>`adapter ${w} `+(y===!1?"is not supported by the environment":"is not available in the build"));let g=i?f.length>1?`since :
`+f.map(rp).join(`
`):" "+rp(f[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return c},adapters:ph};function Kd(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ya(null,r)}function ip(r){return Kd(r),r.headers=rn.from(r.headers),r.data=Gd.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),f0.getAdapter(r.adapter||$o.adapter)(r).then(function(c){return Kd(r),c.data=Gd.call(r,r.transformResponse,c),c.headers=rn.from(c.headers),c},function(c){return o0(c)||(Kd(r),c&&c.response&&(c.response.data=Gd.call(r,r.transformResponse,c.response),c.response.headers=rn.from(c.response.headers))),Promise.reject(c)})}const m0="1.11.0",ou={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{ou[r]=function(c){return typeof c===r||"a"+(i<1?"n ":" ")+r}});const sp={};ou.transitional=function(i,a,c){function h(f,g){return"[Axios v"+m0+"] Transitional option '"+f+"'"+g+(c?". "+c:"")}return(f,g,w)=>{if(i===!1)throw new Le(h(g," has been removed"+(a?" in "+a:"")),Le.ERR_DEPRECATED);return a&&!sp[g]&&(sp[g]=!0,console.warn(h(g," has been deprecated since v"+a+" and will be removed in the near future"))),i?i(f,g,w):!0}};ou.spelling=function(i){return(a,c)=>(console.warn(`${c} is likely a misspelling of ${i}`),!0)};function F1(r,i,a){if(typeof r!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const c=Object.keys(r);let h=c.length;for(;h-- >0;){const f=c[h],g=i[f];if(g){const w=r[f],y=w===void 0||g(w,f,r);if(y!==!0)throw new Le("option "+f+" must be "+y,Le.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Le("Unknown option "+f,Le.ERR_BAD_OPTION)}}const bc={assertOptions:F1,validators:ou},or=bc.validators;let hs=class{constructor(i){this.defaults=i||{},this.interceptors={request:new Jm,response:new Jm}}async request(i,a){try{return await this._request(i,a)}catch(c){if(c instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const f=h.stack?h.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(i,a){typeof i=="string"?(a=a||{},a.url=i):a=i||{},a=ps(this.defaults,a);const{transitional:c,paramsSerializer:h,headers:f}=a;c!==void 0&&bc.assertOptions(c,{silentJSONParsing:or.transitional(or.boolean),forcedJSONParsing:or.transitional(or.boolean),clarifyTimeoutError:or.transitional(or.boolean)},!1),h!=null&&(K.isFunction(h)?a.paramsSerializer={serialize:h}:bc.assertOptions(h,{encode:or.function,serialize:or.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),bc.assertOptions(a,{baseUrl:or.spelling("baseURL"),withXsrfToken:or.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let g=f&&K.merge(f.common,f[a.method]);f&&K.forEach(["delete","get","head","post","put","patch","common"],z=>{delete f[z]}),a.headers=rn.concat(g,f);const w=[];let y=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(a)===!1||(y=y&&T.synchronous,w.unshift(T.fulfilled,T.rejected))});const _=[];this.interceptors.response.forEach(function(T){_.push(T.fulfilled,T.rejected)});let j,C=0,O;if(!y){const z=[ip.bind(this),void 0];for(z.unshift(...w),z.push(..._),O=z.length,j=Promise.resolve(a);C<O;)j=j.then(z[C++],z[C++]);return j}O=w.length;let $=a;for(C=0;C<O;){const z=w[C++],T=w[C++];try{$=z($)}catch(k){T.call(this,k);break}}try{j=ip.call(this,$)}catch(z){return Promise.reject(z)}for(C=0,O=_.length;C<O;)j=j.then(_[C++],_[C++]);return j}getUri(i){i=ps(this.defaults,i);const a=c0(i.baseURL,i.url,i.allowAbsoluteUrls);return i0(a,i.params,i.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(i){hs.prototype[i]=function(a,c){return this.request(ps(c||{},{method:i,url:a,data:(c||{}).data}))}});K.forEach(["post","put","patch"],function(i){function a(c){return function(f,g,w){return this.request(ps(w||{},{method:i,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:g}))}}hs.prototype[i]=a(),hs.prototype[i+"Form"]=a(!0)});let U1=class p0{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(f){a=f});const c=this;this.promise.then(h=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](h);c._listeners=null}),this.promise.then=h=>{let f;const g=new Promise(w=>{c.subscribe(w),f=w}).then(h);return g.cancel=function(){c.unsubscribe(f)},g},i(function(f,g,w){c.reason||(c.reason=new ya(f,g,w),a(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const a=this._listeners.indexOf(i);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const i=new AbortController,a=c=>{i.abort(c)};return this.subscribe(a),i.signal.unsubscribe=()=>this.unsubscribe(a),i.signal}static source(){let i;return{token:new p0(function(h){i=h}),cancel:i}}};function $1(r){return function(a){return r.apply(null,a)}}function W1(r){return K.isObject(r)&&r.isAxiosError===!0}const gh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gh).forEach(([r,i])=>{gh[i]=r});function g0(r){const i=new hs(r),a=Zp(hs.prototype.request,i);return K.extend(a,hs.prototype,i,{allOwnKeys:!0}),K.extend(a,i,null,{allOwnKeys:!0}),a.create=function(h){return g0(ps(r,h))},a}const pt=g0($o);pt.Axios=hs;pt.CanceledError=ya;pt.CancelToken=U1;pt.isCancel=o0;pt.VERSION=m0;pt.toFormData=su;pt.AxiosError=Le;pt.Cancel=pt.CanceledError;pt.all=function(i){return Promise.all(i)};pt.spread=$1;pt.isAxiosError=W1;pt.mergeConfig=ps;pt.AxiosHeaders=rn;pt.formToJSON=r=>a0(K.isHTMLForm(r)?new FormData(r):r);pt.getAdapter=f0.getAdapter;pt.HttpStatusCode=gh;pt.default=pt;const{Axios:Db,AxiosError:Bb,CanceledError:Fb,isCancel:Ub,CancelToken:$b,VERSION:Wb,all:Hb,Cancel:Vb,isAxiosError:Zb,spread:qb,toFormData:Gb,AxiosHeaders:Kb,HttpStatusCode:Jb,formToJSON:Qb,getAdapter:Xb,mergeConfig:Yb}=pt;class H1{constructor(){xn(this,"prefix","tchop_secure_");xn(this,"encryptionKey","tchop_encrypt_key");xn(this,"memoryStorage",new Map)}setToken(i,a={}){const c={value:i,timestamp:Date.now(),expiry:a.expiryMinutes?Date.now()+a.expiryMinutes*60*1e3:void 0};try{sessionStorage.setItem(`${this.prefix}auth_token`,JSON.stringify(c))}catch(h){console.error("Erreur lors de la sauvegarde du token:",h),this.memoryStorage.set("auth_token",c)}}getToken(){try{const i=this.memoryStorage.get("auth_token");if(i&&this.isItemValid(i))return i.value;const a=sessionStorage.getItem(`${this.prefix}auth_token`);if(!a)return null;const c=JSON.parse(a);return this.isItemValid(c)?c.value:(this.removeToken(),null)}catch(i){return console.error("Erreur lors de la rcupration du token:",i),this.removeToken(),null}}removeToken(){try{sessionStorage.removeItem(`${this.prefix}auth_token`),localStorage.removeItem("auth_token"),this.memoryStorage.delete("auth_token")}catch(i){console.error("Erreur lors de la suppression du token:",i)}}setUser(i){const a={value:i,timestamp:Date.now()};try{localStorage.setItem(`${this.prefix}user_data`,JSON.stringify(a))}catch(c){console.error("Erreur lors de la sauvegarde utilisateur:",c)}}getUser(){try{const i=localStorage.getItem(`${this.prefix}user_data`);if(!i)return null;const a=JSON.parse(i);return this.isItemValid(a)?a.value:(this.removeUser(),null)}catch(i){return console.error("Erreur lors de la rcupration utilisateur:",i),this.removeUser(),null}}removeUser(){try{localStorage.removeItem(`${this.prefix}user_data`),localStorage.removeItem("current_user")}catch(i){console.error("Erreur lors de la suppression utilisateur:",i)}}clearAll(){this.removeToken(),this.removeUser(),this.memoryStorage.clear();try{localStorage.removeItem("auth_token"),localStorage.removeItem("current_user")}catch(i){console.error("Erreur lors du nettoyage:",i)}}isItemValid(i){if(!i||typeof i!="object"||i.expiry&&Date.now()>i.expiry)return!1;const a=1440*60*1e3;return!(Date.now()-i.timestamp>a)}isStorageAvailable(){try{const i="storage_test";return sessionStorage.setItem(i,i),sessionStorage.removeItem(i),!0}catch{return!1}}migrateOldData(){try{const i=localStorage.getItem("auth_token");i&&(this.setToken(i,{expiryMinutes:60}),localStorage.removeItem("auth_token"));const a=localStorage.getItem("current_user");if(a){const c=JSON.parse(a);this.setUser(c),localStorage.removeItem("current_user")}}catch(i){console.error("Erreur lors de la migration:",i)}}}const ht=new H1,V1="http://localhost:3000",Ie=pt.create({baseURL:`${V1}/api/v1`,headers:{"Content-Type":"application/json"},timeout:1e4,withCredentials:!1});Ie.interceptors.request.use(r=>{const i=ht.getToken();return i&&(r.headers.Authorization=`Bearer ${i}`),r});Ie.interceptors.response.use(r=>{const i=r.headers.authorization||r.headers.Authorization||r.headers.authorization;if(i){const a=i.replace("Bearer ","");ht.setToken(a,{expiryMinutes:60}),console.log("Token JWT reu et stock:",a.substring(0,20)+"...")}else console.log("Aucun token JWT trouv dans les headers:",Object.keys(r.headers));return r},r=>{var i,a;return((i=r.response)==null?void 0:i.status)===401?(ht.clearAll(),window.location.pathname.includes("/auth")||(window.location.href="/auth")):((a=r.response)==null?void 0:a.status)===403?window.location.href="/unauthorized":r.code==="ECONNABORTED"&&console.error("Requte timeout - possible attaque DoS"),Promise.reject(r)});const lu={login:async r=>{const i=await Ie.post("/auth/login",r);return i.data.data.user&&ht.setUser(i.data.data.user),i.data.data},register:async r=>{const i=await Ie.post("/auth/register",{user:r});return i.data.data.user&&ht.setUser(i.data.data.user),i.data.data},logout:async()=>{try{await Ie.post("/auth/logout")}finally{ht.clearAll()}},getCurrentUser:async()=>{const i=(await Ie.get("/auth/me")).data.data.user;return ht.setUser(i),i},updateProfile:async r=>{const a=(await Ie.patch("/auth/profile",{user:r})).data.data.user;return ht.setUser(a),a}},Wo={getAll:async()=>(await Ie.get("/commerces")).data,getById:async r=>(await Ie.get(`/commerces/${r}`)).data,getNearby:async(r,i,a=50)=>(await Ie.get("/commerces/nearby",{params:{latitude:r,longitude:i,radius:a}})).data,search:async r=>(await Ie.get("/commerces/search",{params:r})).data,create:async r=>(await Ie.post("/commerces",r)).data,update:async(r,i)=>(await Ie.patch(`/commerces/${r}`,i)).data,delete:async r=>{await Ie.delete(`/commerces/${r}`)}},vs={getAll:async r=>(await Ie.get("/products",{params:r})).data,getById:async r=>(await Ie.get(`/products/${r}`)).data,getByCommerce:async r=>(await Ie.get(`/commerces/${r}/products`)).data,search:async r=>(await Ie.get("/products/search",{params:r})).data,create:async r=>(await Ie.post("/products",r)).data,update:async(r,i)=>(await Ie.patch(`/products/${r}`,i)).data,delete:async r=>{await Ie.delete(`/products/${r}`)}},Ho={getAll:async()=>(await Ie.get("/orders")).data,getUserOrders:async()=>(await Ie.get("/orders")).data,getById:async r=>(await Ie.get(`/orders/${r}`)).data,create:async r=>(await Ie.post("/orders",r)).data,updateStatus:async(r,i)=>(await Ie.patch(`/orders/${r}/status`,{status:i})).data,cancel:async r=>(await Ie.patch(`/orders/${r}/cancel`)).data},Vo={create:async r=>(await Ie.post("/product_interests",r)).data,getMyInterests:async r=>(await Ie.get("/product_interests",{params:r})).data,delete:async r=>{await Ie.delete(`/product_interests/${r}`)},getMerchantInterests:async r=>(await Ie.get("/product_interests/for_merchant",{params:r})).data,notifyAvailability:async r=>(await Ie.post("/product_interests/notify_availability",r)).data};ht.migrateOldData();const Z1={user:ht.getUser(),token:ht.getToken(),isAuthenticated:!!ht.getToken()&&!!ht.getUser(),loading:!1,error:null},jc=We("auth/login",async(r,{rejectWithValue:i})=>{var a,c,h,f;try{console.log("Tentative de connexion avec:",r.email);const g=await lu.login(r);return console.log("Rponse login:",g),g}catch(g){console.error("Erreur login:",g);const w=((c=(a=g.response)==null?void 0:a.data)==null?void 0:c.error)||((f=(h=g.response)==null?void 0:h.data)==null?void 0:f.message)||"Erreur de connexion";return i(w)}}),Nc=We("auth/register",async(r,{rejectWithValue:i})=>{var a,c,h,f;try{console.log("Tentative d'inscription:",r);const g=await lu.register(r);return console.log("Rponse register:",g),g}catch(g){console.error("Erreur register:",g);const w=((c=(a=g.response)==null?void 0:a.data)==null?void 0:c.error)||((f=(h=g.response)==null?void 0:h.data)==null?void 0:f.message)||"Erreur d'inscription";return i(w)}}),x0=We("auth/logout",async()=>{await lu.logout(),ht.clearAll()}),kc=We("auth/checkStatus",async()=>{const r=ht.getToken();if(!r)throw new Error("No token found");return{user:await lu.getCurrentUser(),token:r}}),v0=Ir({name:"auth",initialState:Z1,reducers:{clearError:r=>{r.error=null},updateUser:(r,i)=>{r.user&&(r.user={...r.user,...i.payload},ht.setUser(r.user))}},extraReducers:r=>{r.addCase(jc.pending,i=>{i.loading=!0,i.error=null}).addCase(jc.fulfilled,(i,a)=>{i.loading=!1,i.user=a.payload.user,i.token=ht.getToken(),i.isAuthenticated=!0,ht.setUser(a.payload.user)}).addCase(jc.rejected,(i,a)=>{i.loading=!1,i.error=a.payload||"Erreur de connexion",i.isAuthenticated=!1,i.user=null,i.token=null}).addCase(Nc.pending,i=>{i.loading=!0,i.error=null}).addCase(Nc.fulfilled,(i,a)=>{i.loading=!1,i.user=a.payload.user,i.token=ht.getToken(),i.isAuthenticated=!0,ht.setUser(a.payload.user)}).addCase(Nc.rejected,(i,a)=>{i.loading=!1,i.error=a.payload||"Erreur d'inscription",i.isAuthenticated=!1,i.user=null,i.token=null}).addCase(x0.fulfilled,i=>{i.user=null,i.token=null,i.isAuthenticated=!1}).addCase(kc.pending,i=>{i.loading=!0}).addCase(kc.fulfilled,(i,a)=>{i.user=a.payload.user,i.token=a.payload.token,i.isAuthenticated=!0,i.loading=!1,ht.setUser(a.payload.user)}).addCase(kc.rejected,i=>{i.user=null,i.token=null,i.isAuthenticated=!1,i.loading=!1,ht.clearAll()})}}),{clearError:ej,updateUser:tj}=v0.actions,q1=v0.reducer,G1={commerces:[],currentCommerce:null,loading:!1,error:null,searchRadius:50,filters:{}},Ci=We("commerce/fetchNearby",async r=>(await Wo.getNearby(r.location.latitude,r.location.longitude,r.radius||50)).data),Eo=We("commerce/fetchById",async r=>(await Wo.getById(r)).data),Cc=We("commerce/search",async r=>(await Wo.search(r)).data),K1=We("commerce/create",async r=>(await Wo.create(r)).data),J1=We("commerce/update",async r=>(await Wo.update(r.id,r.data)).data),y0=Ir({name:"commerce",initialState:G1,reducers:{clearError:r=>{r.error=null},setCurrentCommerce:(r,i)=>{r.currentCommerce=i.payload},setSearchRadius:(r,i)=>{r.searchRadius=i.payload},setFilters:(r,i)=>{r.filters=i.payload},clearCommerces:r=>{r.commerces=[]}},extraReducers:r=>{r.addCase(Ci.pending,i=>{i.loading=!0,i.error=null}).addCase(Ci.fulfilled,(i,a)=>{i.loading=!1,Array.isArray(a.payload)?i.commerces=a.payload:a.payload&&Array.isArray(a.payload.commerces)?i.commerces=a.payload.commerces:a.payload&&Array.isArray(a.payload.data)?i.commerces=a.payload.data:i.commerces=[]}).addCase(Ci.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des commerces"}).addCase(Eo.pending,i=>{i.loading=!0,i.error=null}).addCase(Eo.fulfilled,(i,a)=>{i.loading=!1,i.currentCommerce=a.payload.commerce||a.payload}).addCase(Eo.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Commerce non trouv"}).addCase(Cc.pending,i=>{i.loading=!0,i.error=null}).addCase(Cc.fulfilled,(i,a)=>{i.loading=!1,i.commerces=a.payload.commerces||[]}).addCase(Cc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de recherche"}).addCase(K1.fulfilled,(i,a)=>{const c=a.payload.commerce||a.payload;i.commerces.push(c),i.currentCommerce=c}).addCase(J1.fulfilled,(i,a)=>{var f;const c=a.payload.commerce||a.payload,h=i.commerces.findIndex(g=>g.id===c.id);h!==-1&&(i.commerces[h]=c),((f=i.currentCommerce)==null?void 0:f.id)===c.id&&(i.currentCommerce=c)})}}),{clearError:nj,setCurrentCommerce:rj,setSearchRadius:ij,setFilters:sj,clearCommerces:aj}=y0.actions,Q1=y0.reducer,X1={products:[],currentProduct:null,loading:!1,error:null,filters:{},sortBy:"name"},ds=We("product/fetchProducts",async r=>(await vs.getAll(r)).data),Sc=We("product/fetchById",async r=>(await vs.getById(r)).data),Lo=We("product/fetchByCommerce",async r=>(await vs.getByCommerce(r)).data),Pc=We("product/search",async r=>(await vs.search(r)).data),Y1=We("product/create",async r=>(await vs.create(r)).data),e_=We("product/update",async r=>(await vs.update(r.id,r.data)).data),t_=We("product/delete",async r=>(await vs.delete(r),r)),_0=Ir({name:"product",initialState:X1,reducers:{clearError:r=>{r.error=null},setCurrentProduct:(r,i)=>{r.currentProduct=i.payload},setFilters:(r,i)=>{r.filters=i.payload},setSortBy:(r,i)=>{r.sortBy=i.payload},clearProducts:r=>{r.products=[]},sortProducts:(r,i)=>{r.sortBy=i.payload,r.products.sort((a,c)=>{var h,f,g,w;switch(i.payload){case"name":return a.name.localeCompare(c.name);case"price":return a.price-c.price;case"rating":return(((h=c.commerce)==null?void 0:h.rating)||0)-(((f=a.commerce)==null?void 0:f.rating)||0);case"distance":return(((g=a.commerce)==null?void 0:g.distance)||0)-(((w=c.commerce)==null?void 0:w.distance)||0);default:return 0}})}},extraReducers:r=>{r.addCase(ds.pending,i=>{i.loading=!0,i.error=null}).addCase(ds.fulfilled,(i,a)=>{i.loading=!1,i.products=a.payload}).addCase(ds.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des produits"}).addCase(Sc.pending,i=>{i.loading=!0,i.error=null}).addCase(Sc.fulfilled,(i,a)=>{i.loading=!1,i.currentProduct=a.payload.product||a.payload}).addCase(Sc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Produit non trouv"}).addCase(Lo.pending,i=>{i.loading=!0,i.error=null}).addCase(Lo.fulfilled,(i,a)=>{i.loading=!1,i.products=a.payload.products||a.payload}).addCase(Lo.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des produits"}).addCase(Pc.pending,i=>{i.loading=!0,i.error=null}).addCase(Pc.fulfilled,(i,a)=>{i.loading=!1,i.products=a.payload}).addCase(Pc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de recherche"}).addCase(Y1.fulfilled,(i,a)=>{i.products.push(a.payload),i.currentProduct=a.payload}).addCase(e_.fulfilled,(i,a)=>{var h;const c=i.products.findIndex(f=>f.id===a.payload.id);c!==-1&&(i.products[c]=a.payload),((h=i.currentProduct)==null?void 0:h.id)===a.payload.id&&(i.currentProduct=a.payload)}).addCase(t_.fulfilled,(i,a)=>{var c;i.products=i.products.filter(h=>h.id!==a.payload),((c=i.currentProduct)==null?void 0:c.id)===a.payload&&(i.currentProduct=null)})}}),{clearError:oj,setCurrentProduct:lj,setFilters:cj,setSortBy:n_,clearProducts:uj,sortProducts:dj}=_0.actions,r_=_0.reducer,i_={items:[],totalItems:0,totalPrice:0,deliveryFee:5,isOpen:!1},cs=Ir({name:"cart",initialState:i_,reducers:{addToCart:(r,i)=>{const{product:a,quantity:c}=i.payload,h=r.items.find(f=>f.productId===a.id);if(h)h.quantity+=c,h.totalPrice=h.quantity*h.unitPrice;else{const f={id:`cart_${a.id}_${Date.now()}`,productId:a.id,product:a,quantity:c,unitPrice:a.price,totalPrice:a.price*c};r.items.push(f)}cs.caseReducers.updateTotals(r)},removeFromCart:(r,i)=>{r.items=r.items.filter(a=>a.id!==i.payload),cs.caseReducers.updateTotals(r)},updateQuantity:(r,i)=>{const{itemId:a,quantity:c}=i.payload,h=r.items.find(f=>f.id===a);h&&(c<=0?r.items=r.items.filter(f=>f.id!==a):(h.quantity=c,h.totalPrice=h.quantity*h.unitPrice)),cs.caseReducers.updateTotals(r)},clearCart:r=>{r.items=[],r.totalItems=0,r.totalPrice=0},toggleCart:r=>{r.isOpen=!r.isOpen},setCartOpen:(r,i)=>{r.isOpen=i.payload},setDeliveryFee:(r,i)=>{r.deliveryFee=i.payload,cs.caseReducers.updateTotals(r)},updateTotals:r=>{r.totalItems=r.items.reduce((i,a)=>i+a.quantity,0),r.totalPrice=r.items.reduce((i,a)=>i+a.totalPrice,0)},completeOrder:r=>{r.items=[],r.totalItems=0,r.totalPrice=0,r.isOpen=!1},saveToStorage:r=>{try{localStorage.setItem("cart",JSON.stringify({items:r.items,deliveryFee:r.deliveryFee}))}catch(i){console.error("Erreur sauvegarde panier:",i)}},loadFromStorage:r=>{try{const i=localStorage.getItem("cart");if(i){const a=JSON.parse(i);r.items=a.items||[],r.deliveryFee=a.deliveryFee||5,cs.caseReducers.updateTotals(r)}}catch(i){console.error("Erreur chargement panier:",i)}}}}),{addToCart:Th,removeFromCart:w0,updateQuantity:b0,clearCart:j0,toggleCart:s_,setCartOpen:a_,setDeliveryFee:hj,updateTotals:fj,completeOrder:o_,saveToStorage:mj,loadFromStorage:pj}=cs.actions,l_=cs.reducer,c_={currentLocation:{latitude:4.0511,longitude:9.7679},loading:!1,error:null,permissionGranted:!0},ha=We("location/getCurrentLocation",async(r,{rejectWithValue:i})=>new Promise((a,c)=>{if(!navigator.geolocation){c(i("La golocalisation n'est pas supporte"));return}navigator.geolocation.getCurrentPosition(h=>{a({latitude:h.coords.latitude,longitude:h.coords.longitude})},h=>{let f="Erreur de golocalisation";switch(h.code){case h.PERMISSION_DENIED:f="Permission de golocalisation refuse";break;case h.POSITION_UNAVAILABLE:f="Position indisponible";break;case h.TIMEOUT:f="Timeout de golocalisation";break}c(i(f))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})),ap=We("location/watchLocation",async(r,{dispatch:i,rejectWithValue:a})=>new Promise((c,h)=>{if(!navigator.geolocation){h(a("La golocalisation n'est pas supporte"));return}const f=navigator.geolocation.watchPosition(g=>{i(k0({latitude:g.coords.latitude,longitude:g.coords.longitude}))},()=>{i(Ec("Erreur de surveillance de position"))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4});c(f)})),N0=Ir({name:"location",initialState:c_,reducers:{setCurrentLocation:(r,i)=>{r.currentLocation=i.payload,r.permissionGranted=!0,r.error=null},setError:(r,i)=>{r.error=i.payload,r.loading=!1},clearError:r=>{r.error=null},setPermissionGranted:(r,i)=>{r.permissionGranted=i.payload}},extraReducers:r=>{r.addCase(ha.pending,i=>{i.loading=!0,i.error=null}).addCase(ha.fulfilled,(i,a)=>{i.loading=!1,i.currentLocation=a.payload,i.permissionGranted=!0}).addCase(ha.rejected,(i,a)=>{i.loading=!1,i.error=a.payload,i.permissionGranted=!1}).addCase(ap.fulfilled,i=>{i.loading=!1,i.permissionGranted=!0}).addCase(ap.rejected,(i,a)=>{i.loading=!1,i.error=a.payload})}}),{setCurrentLocation:k0,setError:Ec,clearError:u_,setPermissionGranted:op}=N0.actions,d_=N0.reducer,h_={orders:[],currentOrder:null,loading:!1,error:null},Lc=We("order/create",async r=>(await Ho.create(r)).data),fa=We("order/fetchUserOrders",async()=>(await Ho.getUserOrders()).data),Jd=We("order/fetchById",async r=>(await Ho.getById(r)).data),f_=We("order/updateStatus",async r=>(await Ho.updateStatus(r.orderId,r.status)).data),C0=We("order/cancel",async r=>(await Ho.cancel(r)).data),S0=Ir({name:"order",initialState:h_,reducers:{clearError:r=>{r.error=null},setCurrentOrder:(r,i)=>{r.currentOrder=i.payload},clearOrders:r=>{r.orders=[]}},extraReducers:r=>{r.addCase(Lc.pending,i=>{i.loading=!0,i.error=null}).addCase(Lc.fulfilled,(i,a)=>{i.loading=!1;const c=a.payload.order||a.payload;i.orders.unshift(c),i.currentOrder=c}).addCase(Lc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur lors de la cration de la commande"}).addCase(fa.pending,i=>{i.loading=!0,i.error=null}).addCase(fa.fulfilled,(i,a)=>{i.loading=!1,i.orders=a.payload.orders||a.payload}).addCase(fa.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des commandes"}).addCase(Jd.pending,i=>{i.loading=!0,i.error=null}).addCase(Jd.fulfilled,(i,a)=>{i.loading=!1;const c=a.payload.order||a.payload;i.currentOrder=c;const h=i.orders.findIndex(f=>f.id===c.id);h!==-1?i.orders[h]=c:i.orders.unshift(c)}).addCase(Jd.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Commande non trouve"}).addCase(f_.fulfilled,(i,a)=>{var f;const c=a.payload.order||a.payload,h=i.orders.findIndex(g=>g.id===c.id);h!==-1&&(i.orders[h]=c),((f=i.currentOrder)==null?void 0:f.id)===c.id&&(i.currentOrder=c)}).addCase(C0.fulfilled,(i,a)=>{var f;const c=a.payload.order||a.payload,h=i.orders.findIndex(g=>g.id===c.id);h!==-1&&(i.orders[h]=c),((f=i.currentOrder)==null?void 0:f.id)===c.id&&(i.currentOrder=c)})}}),{clearError:gj,setCurrentOrder:xj,clearOrders:vj}=S0.actions,m_=S0.reducer,p_={notifications:[]},P0=Ir({name:"notification",initialState:p_,reducers:{addNotification:(r,i)=>{const a={...i.payload,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),duration:i.payload.duration||5e3};r.notifications.push(a)},removeNotification:(r,i)=>{r.notifications=r.notifications.filter(a=>a.id!==i.payload)},clearAllNotifications:r=>{r.notifications=[]}}}),{addNotification:ji,removeNotification:lp,clearAllNotifications:yj}=P0.actions,g_=P0.reducer,cp={interests:[],loading:!1,error:null,merchantInterests:[],merchantLoading:!1,merchantError:null,creating:!1,createError:null,currentPage:1,totalPages:1,totalCount:0,merchantCurrentPage:1,merchantTotalPages:1,merchantTotalCount:0},Tc=We("productInterest/fetchProductInterests",async({page:r=1,perPage:i=10}={})=>await Vo.getMyInterests({page:r})),Mc=We("productInterest/createProductInterest",async(r,{rejectWithValue:i})=>{var a,c;try{const h={product_name:r.product_name,message:r.message,search_radius:r.search_radius||25,latitude:r.latitude,longitude:r.longitude};return await Vo.create(h)}catch(h){return i(((c=(a=h.response)==null?void 0:a.data)==null?void 0:c.errors)||["Erreur lors de la cration"])}}),E0=We("productInterest/deleteProductInterest",async r=>(await Vo.delete(r),r)),Rc=We("productInterest/fetchMerchantProductInterests",async({page:r=1,perPage:i=10}={})=>await Vo.getMerchantInterests({page:r})),L0=We("productInterest/notifyProductAvailability",async({productId:r,radius:i=50},{rejectWithValue:a})=>{var c,h;try{return await Vo.notifyAvailability({productId:r,radius:i})}catch(f){return a(((h=(c=f.response)==null?void 0:c.data)==null?void 0:h.error)||"Erreur lors de la notification")}}),T0=Ir({name:"productInterest",initialState:cp,reducers:{clearErrors:r=>{r.error=null,r.createError=null,r.merchantError=null},setCurrentPage:(r,i)=>{r.currentPage=i.payload},setMerchantCurrentPage:(r,i)=>{r.merchantCurrentPage=i.payload},resetState:r=>cp},extraReducers:r=>{r.addCase(Tc.pending,i=>{i.loading=!0,i.error=null}).addCase(Tc.fulfilled,(i,a)=>{i.loading=!1,i.interests=a.payload.product_interests,i.currentPage=a.payload.meta.current_page,i.totalPages=a.payload.meta.total_pages,i.totalCount=a.payload.meta.total_count}).addCase(Tc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur lors du chargement"}).addCase(Mc.pending,i=>{i.creating=!0,i.createError=null}).addCase(Mc.fulfilled,(i,a)=>{i.creating=!1,i.interests.unshift(a.payload.product_interest),i.totalCount+=1}).addCase(Mc.rejected,(i,a)=>{i.creating=!1,i.createError=Array.isArray(a.payload)?a.payload.join(", "):a.payload||"Erreur lors de la cration"}).addCase(E0.fulfilled,(i,a)=>{i.interests=i.interests.filter(c=>c.id!==a.payload),i.totalCount-=1}).addCase(Rc.pending,i=>{i.merchantLoading=!0,i.merchantError=null}).addCase(Rc.fulfilled,(i,a)=>{i.merchantLoading=!1,i.merchantInterests=a.payload.product_interests,i.merchantCurrentPage=a.payload.meta.current_page,i.merchantTotalPages=a.payload.meta.total_pages,i.merchantTotalCount=a.payload.meta.total_count}).addCase(Rc.rejected,(i,a)=>{i.merchantLoading=!1,i.merchantError=a.error.message||"Erreur lors du chargement"}).addCase(L0.fulfilled,(i,a)=>{})}}),{clearErrors:x_,setCurrentPage:v_,setMerchantCurrentPage:y_,resetState:_j}=T0.actions,__=T0.reducer,w_={ratings:[],myRatings:[],currentRatingStats:null,loading:!1,error:null},zc=We("rating/fetchRatings",async({rateableType:r,rateableId:i,page:a=1,verified:c})=>{const h=new URLSearchParams({rateable_type:r,rateable_id:i.toString(),page:a.toString()});return c!==void 0&&h.append("verified",c.toString()),(await Ie.get(`/ratings?${h}`)).data}),Ac=We("rating/createRating",async(r,{rejectWithValue:i})=>{var a,c;try{return(await Ie.post("/ratings",{rating:{rating:r.rating,comment:r.comment,rateable_type:r.rateableType,rateable_id:r.rateableId},order_id:r.orderId})).data}catch(h){return i(((c=(a=h.response)==null?void 0:a.data)==null?void 0:c.message)||"Erreur lors de la cration de l'valuation")}}),Oc=We("rating/updateRating",async({id:r,rating:i,comment:a},{rejectWithValue:c})=>{var h,f;try{return(await Ie.patch(`/ratings/${r}`,{rating:{rating:i,comment:a}})).data}catch(g){return c(((f=(h=g.response)==null?void 0:h.data)==null?void 0:f.message)||"Erreur lors de la mise  jour")}}),Ic=We("rating/deleteRating",async(r,{rejectWithValue:i})=>{var a,c;try{return await Ie.delete(`/ratings/${r}`),r}catch(h){return i(((c=(a=h.response)==null?void 0:a.data)==null?void 0:c.message)||"Erreur lors de la suppression")}}),M0=We("rating/markHelpful",async(r,{rejectWithValue:i})=>{var a,c;try{const h=await Ie.post(`/ratings/${r}/mark_helpful`);return{id:r,helpfulCount:h.data.data.helpful_count}}catch(h){return i(((c=(a=h.response)==null?void 0:a.data)==null?void 0:c.message)||"Erreur")}}),Qd=We("rating/fetchMyRatings",async({page:r=1}={})=>(await Ie.get(`/ratings/my_ratings?page=${r}`)).data),R0=Ir({name:"rating",initialState:w_,reducers:{clearRatings:r=>{r.ratings=[],r.currentRatingStats=null,r.error=null},clearError:r=>{r.error=null}},extraReducers:r=>{r.addCase(zc.pending,i=>{i.loading=!0,i.error=null}).addCase(zc.fulfilled,(i,a)=>{i.loading=!1,i.ratings=a.payload.data.ratings,i.currentRatingStats=a.payload.data.stats}).addCase(zc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur lors du chargement des valuations"}).addCase(Ac.pending,i=>{i.loading=!0,i.error=null}).addCase(Ac.fulfilled,(i,a)=>{i.loading=!1,i.ratings.unshift(a.payload.data.rating),i.currentRatingStats&&(i.currentRatingStats.totalRatings+=1,a.payload.data.rating.verified&&(i.currentRatingStats.verifiedRatings+=1))}).addCase(Ac.rejected,(i,a)=>{i.loading=!1,i.error=a.payload}).addCase(Oc.pending,i=>{i.loading=!0,i.error=null}).addCase(Oc.fulfilled,(i,a)=>{i.loading=!1;const c=a.payload.data.rating,h=i.ratings.findIndex(g=>g.id===c.id);h!==-1&&(i.ratings[h]=c);const f=i.myRatings.findIndex(g=>g.id===c.id);f!==-1&&(i.myRatings[f]=c)}).addCase(Oc.rejected,(i,a)=>{i.loading=!1,i.error=a.payload}).addCase(Ic.pending,i=>{i.loading=!0,i.error=null}).addCase(Ic.fulfilled,(i,a)=>{i.loading=!1;const c=a.payload;i.ratings=i.ratings.filter(h=>h.id!==c),i.myRatings=i.myRatings.filter(h=>h.id!==c),i.currentRatingStats&&(i.currentRatingStats.totalRatings=Math.max(0,i.currentRatingStats.totalRatings-1))}).addCase(Ic.rejected,(i,a)=>{i.loading=!1,i.error=a.payload}).addCase(M0.fulfilled,(i,a)=>{const{id:c,helpfulCount:h}=a.payload,f=i.ratings.find(g=>g.id===c);f&&(f.helpfulCount=h)}).addCase(Qd.pending,i=>{i.loading=!0,i.error=null}).addCase(Qd.fulfilled,(i,a)=>{i.loading=!1,i.myRatings=a.payload.data.ratings}).addCase(Qd.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur lors du chargement de vos valuations"})}}),{clearRatings:b_,clearError:wj}=R0.actions,j_=R0.reducer,N_=Gv({reducer:{auth:q1,commerce:Q1,product:r_,cart:l_,location:d_,order:m_,notification:g_,productInterest:__,rating:j_},middleware:r=>r({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),lt=xx.withTypes(),Me=_x.withTypes(),up=({size:r="md",className:i=""})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},c={sm:"text-xs",md:"text-sm",lg:"text-lg"};return s.jsx("div",{className:`flex items-center justify-center bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg ${a[r]} ${i}`,children:s.jsx("svg",{className:`${c[r]} text-white font-bold`,viewBox:"0 0 24 24",fill:"currentColor",width:"70%",height:"70%",children:s.jsxs("g",{children:[s.jsx("rect",{x:"2",y:"3",width:"8",height:"2",rx:"1"}),s.jsx("rect",{x:"5",y:"3",width:"2",height:"10",rx:"1"}),s.jsx("circle",{cx:"17",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("circle",{cx:"17",cy:"8",r:"1.5"}),s.jsx("path",{d:"M17 12l-2 4h4l-2-4z"}),s.jsx("circle",{cx:"6",cy:"18",r:"1",opacity:"0.7"}),s.jsx("circle",{cx:"10",cy:"16",r:"1",opacity:"0.5"}),s.jsx("circle",{cx:"14",cy:"19",r:"1",opacity:"0.6"}),s.jsx("path",{d:"M6 18l4-2m0 0l4 3",stroke:"currentColor",strokeWidth:"1",opacity:"0.4"})]})})})},k_=()=>{var T;const r=lt(),i=xs(),a=xa(),[c,h]=D.useState(!1),{user:f,isAuthenticated:g}=Me(k=>k.auth),{totalItems:w}=Me(k=>k.cart),{currentLocation:y}=Me(k=>k.location),_=async()=>{await r(x0()),i("/")},j=()=>{r(s_())};D.useEffect(()=>{document.documentElement.style.setProperty("--sidebar-width",c?"64px":"256px")},[c]);const C=()=>{h(!c)},O=[{key:"home",path:"/",icon:"",label:"Accueil",description:"Vue d'ensemble"},{key:"commerces",path:"/commerces",icon:"",label:"Commerces",description:"Marchands locaux"},{key:"products",path:"/products",icon:"",label:"Produits",description:"Catalogue complet"},{key:"interests",path:"/interests",icon:"",label:"Intrts",description:"Manifestations d'intrt",requireAuth:!0},{key:"orders",path:"/orders",icon:"",label:"Commandes",description:"Mes achats",requireAuth:!0},{key:"profile",path:"/profile",icon:"",label:"Profil",description:"Mon compte",requireAuth:!0}],$=[{key:"dashboard",path:"/dashboard",icon:"",label:"Dashboard",description:"Gestion vendeur",requireAuth:!0,onlyVendor:!0}],z=k=>a.pathname===k;return s.jsxs("div",{className:`bg-white shadow-xl border-r border-gray-200 h-screen fixed left-0 top-0 z-40 transition-all duration-300 ${c?"w-16":"w-64"}`,style:{"--sidebar-width":c?"64px":"256px"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!c&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(up,{size:"md"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-gray-900 text-sm",children:"TchopMyGrinds"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Marketplace golocalis"})]})]}),c&&s.jsx("div",{className:"flex justify-center",children:s.jsx(up,{size:"sm"})}),s.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":c?"largir le menu":"Rduire le menu",children:s.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),y&&!c&&s.jsx("div",{className:"p-4 bg-emerald-50 border-b border-emerald-200",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-700 text-xs font-medium",children:"Position dtecte"}),s.jsx("p",{className:"text-emerald-600 text-xs",children:"Rayon 50km actif"})]})]})}),s.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1",children:[O.map(k=>k.requireAuth&&!g?null:s.jsxs(mt,{to:k.path,className:`flex items-center px-3 py-3 rounded-lg text-sm font-medium transition-colors group ${z(k.path)?"bg-emerald-100 text-emerald-700 border-r-2 border-emerald-500":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx("span",{className:"text-lg mr-3",children:k.icon}),!c&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{children:k.label}),s.jsx("div",{className:"text-xs text-gray-500 group-hover:text-gray-700",children:k.description})]})]},k.key)),g&&f&&(f.role==="itinerant"||f.role==="sedentary")&&s.jsxs(s.Fragment,{children:[!c&&s.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-t border-gray-200 mt-4 pt-4",children:"Espace vendeur"}),$.map(k=>s.jsxs(mt,{to:k.path,className:`flex items-center px-3 py-3 rounded-lg text-sm font-medium transition-colors group ${z(k.path)?"bg-green-100 text-green-700 border-r-2 border-green-500":"text-gray-700 hover:bg-green-50 hover:text-green-700"}`,children:[s.jsx("span",{className:"text-lg mr-3",children:k.icon}),!c&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{children:k.label}),s.jsx("div",{className:"text-xs text-gray-500 group-hover:text-green-600",children:k.description})]})]},k.key))]})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-3",children:[s.jsxs("button",{onClick:j,className:"w-full flex items-center px-3 py-3 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors relative",children:[s.jsx("span",{className:"text-lg mr-3",children:""}),!c&&s.jsx("span",{className:"flex-1 text-left",children:"Panier"}),w>0&&s.jsx("span",{className:"bg-emerald-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center absolute -top-1 left-6",children:w})]}),g&&f?s.jsxs("div",{className:"space-y-2",children:[!c&&s.jsxs("div",{className:"flex items-center px-3 py-2",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center mr-3",children:f.avatar?s.jsx("img",{src:f.avatar,alt:f.name,className:"w-8 h-8 rounded-full"}):s.jsx("span",{className:"text-emerald-600 font-medium text-sm",children:((T=f.name)==null?void 0:T[0])||f.email[0].toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.name||f.email}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:f.role})]})]}),s.jsxs("button",{onClick:_,className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx("span",{className:"text-lg mr-3",children:""}),!c&&s.jsx("span",{children:"Se dconnecter"})]})]}):s.jsxs(mt,{to:"/auth",className:"w-full flex items-center px-3 py-3 rounded-lg text-sm font-medium text-white bg-emerald-500 hover:bg-emerald-600 transition-colors",children:[s.jsx("span",{className:"text-lg mr-3",children:""}),!c&&s.jsx("span",{children:"Connexion"})]})]}),!c&&s.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"v2.0 - Mode Carte"})})]})};function z0(r,i){const a=D.useRef(i);D.useEffect(function(){i!==a.current&&r.attributionControl!=null&&(a.current!=null&&r.attributionControl.removeAttribution(a.current),i!=null&&r.attributionControl.addAttribution(i)),a.current=i},[r,i])}const C_=1;function S_(r){return Object.freeze({__version:C_,map:r})}function P_(r,i){return Object.freeze({...r,...i})}const A0=D.createContext(null),O0=A0.Provider;function Mh(){const r=D.useContext(A0);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function E_(r){function i(a,c){const{instance:h,context:f}=r(a).current;return D.useImperativeHandle(c,()=>h),a.children==null?null:Bc.createElement(O0,{value:f},a.children)}return D.forwardRef(i)}function L_(r){function i(a,c){const[h,f]=D.useState(!1),{instance:g}=r(a,f).current;D.useImperativeHandle(c,()=>g),D.useEffect(function(){h&&g.update()},[g,h,a.children]);const w=g._contentNode;return w?wx.createPortal(a.children,w):null}return D.forwardRef(i)}function T_(r){function i(a,c){const{instance:h}=r(a).current;return D.useImperativeHandle(c,()=>h),null}return D.forwardRef(i)}function I0(r,i){const a=D.useRef();D.useEffect(function(){return i!=null&&r.instance.on(i),a.current=i,function(){a.current!=null&&r.instance.off(a.current),a.current=null}},[r,i])}function Rh(r,i){const a=r.pane??i.pane;return a?{...r,pane:a}:r}function M_(r,i){return function(c,h){const f=Mh(),g=r(Rh(c,f),f);return z0(f.map,c.attribution),I0(g.current,c.eventHandlers),i(g.current,f,c,h),g}}var So={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var R_=So.exports,dp;function z_(){return dp||(dp=1,(function(r,i){(function(a,c){c(i)})(R_,(function(a){var c="1.9.4";function h(t){var o,u,m,v;for(u=1,m=arguments.length;u<m;u++){v=arguments[u];for(o in v)t[o]=v[o]}return t}var f=Object.create||(function(){function t(){}return function(o){return t.prototype=o,new t}})();function g(t,o){var u=Array.prototype.slice;if(t.bind)return t.bind.apply(t,u.call(arguments,1));var m=u.call(arguments,2);return function(){return t.apply(o,m.length?m.concat(u.call(arguments)):arguments)}}var w=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++w),t._leaflet_id}function _(t,o,u){var m,v,N,E;return E=function(){m=!1,v&&(N.apply(u,v),v=!1)},N=function(){m?v=arguments:(t.apply(u,arguments),setTimeout(E,o),m=!0)},N}function j(t,o,u){var m=o[1],v=o[0],N=m-v;return t===m&&u?t:((t-v)%N+N)%N+v}function C(){return!1}function O(t,o){if(o===!1)return t;var u=Math.pow(10,o===void 0?6:o);return Math.round(t*u)/u}function $(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return $(t).split(/\s+/)}function T(t,o){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?f(t.options):{});for(var u in o)t.options[u]=o[u];return t.options}function k(t,o,u){var m=[];for(var v in t)m.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(t[v]));return(!o||o.indexOf("?")===-1?"?":"&")+m.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function R(t,o){return t.replace(P,function(u,m){var v=o[m];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(o)),v})}var F=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function B(t,o){for(var u=0;u<t.length;u++)if(t[u]===o)return u;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ae=0;function te(t){var o=+new Date,u=Math.max(0,16-(o-ae));return ae=o+u,window.setTimeout(t,u)}var q=window.requestAnimationFrame||se("RequestAnimationFrame")||te,Re=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Fe(t,o,u){if(u&&q===te)t.call(o);else return q.call(window,g(t,o))}function De(t){t&&Re.call(window,t)}var Je={__proto__:null,extend:h,create:f,bind:g,get lastId(){return w},stamp:y,throttle:_,wrapNum:j,falseFn:C,formatNum:O,trim:$,splitWords:z,setOptions:T,getParamString:k,template:R,isArray:F,indexOf:B,emptyImageUrl:J,requestFn:q,cancelFn:Re,requestAnimFrame:Fe,cancelAnimFrame:De};function Ye(){}Ye.extend=function(t){var o=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,m=f(u);m.constructor=o,o.prototype=m;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(o[v]=this[v]);return t.statics&&h(o,t.statics),t.includes&&(yt(t.includes),h.apply(null,[m].concat(t.includes))),h(m,t),delete m.statics,delete m.includes,m.options&&(m.options=u.options?f(u.options):{},h(m.options,t.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,E=m._initHooks.length;N<E;N++)m._initHooks[N].call(this)}},o},Ye.include=function(t){var o=this.prototype.options;return h(this.prototype,t),t.options&&(this.prototype.options=o,this.mergeOptions(t.options)),this},Ye.mergeOptions=function(t){return h(this.prototype.options,t),this},Ye.addInitHook=function(t){var o=Array.prototype.slice.call(arguments,1),u=typeof t=="function"?t:function(){this[t].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function yt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=F(t)?t:[t];for(var o=0;o<t.length;o++)t[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ae={on:function(t,o,u){if(typeof t=="object")for(var m in t)this._on(m,t[m],o);else{t=z(t);for(var v=0,N=t.length;v<N;v++)this._on(t[v],o,u)}return this},off:function(t,o,u){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var m in t)this._off(m,t[m],o);else{t=z(t);for(var v=arguments.length===1,N=0,E=t.length;N<E;N++)v?this._off(t[N]):this._off(t[N],o,u)}return this},_on:function(t,o,u,m){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(t,o,u)===!1){u===this&&(u=void 0);var v={fn:o,ctx:u};m&&(v.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(v)}},_off:function(t,o,u){var m,v,N;if(this._events&&(m=this._events[t],!!m)){if(arguments.length===1){if(this._firingCount)for(v=0,N=m.length;v<N;v++)m[v].fn=C;delete this._events[t];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var E=this._listens(t,o,u);if(E!==!1){var U=m[E];this._firingCount&&(U.fn=C,this._events[t]=m=m.slice()),m.splice(E,1)}}},fire:function(t,o,u){if(!this.listens(t,u))return this;var m=h({},o,{type:t,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var v=this._events[t];if(v){this._firingCount=this._firingCount+1||1;for(var N=0,E=v.length;N<E;N++){var U=v[N],Z=U.fn;U.once&&this.off(t,Z,U.ctx),Z.call(U.ctx||this,m)}this._firingCount--}}return u&&this._propagateEvent(m),this},listens:function(t,o,u,m){typeof t!="string"&&console.warn('"string" type argument expected');var v=o;typeof o!="function"&&(m=!!o,v=void 0,u=void 0);var N=this._events&&this._events[t];if(N&&N.length&&this._listens(t,v,u)!==!1)return!0;if(m){for(var E in this._eventParents)if(this._eventParents[E].listens(t,o,u,m))return!0}return!1},_listens:function(t,o,u){if(!this._events)return!1;var m=this._events[t]||[];if(!o)return!!m.length;u===this&&(u=void 0);for(var v=0,N=m.length;v<N;v++)if(m[v].fn===o&&m[v].ctx===u)return v;return!1},once:function(t,o,u){if(typeof t=="object")for(var m in t)this._on(m,t[m],o,!0);else{t=z(t);for(var v=0,N=t.length;v<N;v++)this._on(t[v],o,u,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var o in this._eventParents)this._eventParents[o].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}};Ae.addEventListener=Ae.on,Ae.removeEventListener=Ae.clearAllEventListeners=Ae.off,Ae.addOneTimeEventListener=Ae.once,Ae.fireEvent=Ae.fire,Ae.hasEventListeners=Ae.listens;var Ue=Ye.extend(Ae);function H(t,o,u){this.x=u?Math.round(t):t,this.y=u?Math.round(o):o}var _e=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(X(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(X(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_e(this.x),this.y=_e(this.y),this},distanceTo:function(t){t=X(t);var o=t.x-this.x,u=t.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(t){return t=X(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=X(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function X(t,o,u){return t instanceof H?t:F(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,o,u)}function A(t,o){if(t)for(var u=o?[t,o]:t,m=0,v=u.length;m<v;m++)this.extend(u[m])}A.prototype={extend:function(t){var o,u;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)o=u=X(t);else if(t=Q(t),o=t.min,u=t.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(t){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var o,u;return typeof t[0]=="number"||t instanceof H?t=X(t):t=Q(t),t instanceof A?(o=t.min,u=t.max):o=u=t,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(t){t=Q(t);var o=this.min,u=this.max,m=t.min,v=t.max,N=v.x>=o.x&&m.x<=u.x,E=v.y>=o.y&&m.y<=u.y;return N&&E},overlaps:function(t){t=Q(t);var o=this.min,u=this.max,m=t.min,v=t.max,N=v.x>o.x&&m.x<u.x,E=v.y>o.y&&m.y<u.y;return N&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var o=this.min,u=this.max,m=Math.abs(o.x-u.x)*t,v=Math.abs(o.y-u.y)*t;return Q(X(o.x-m,o.y-v),X(u.x+m,u.y+v))},equals:function(t){return t?(t=Q(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Q(t,o){return!t||t instanceof A?t:new A(t,o)}function ce(t,o){if(t)for(var u=o?[t,o]:t,m=0,v=u.length;m<v;m++)this.extend(u[m])}ce.prototype={extend:function(t){var o=this._southWest,u=this._northEast,m,v;if(t instanceof he)m=t,v=t;else if(t instanceof ce){if(m=t._southWest,v=t._northEast,!m||!v)return this}else return t?this.extend(ue(t)||le(t)):this;return!o&&!u?(this._southWest=new he(m.lat,m.lng),this._northEast=new he(v.lat,v.lng)):(o.lat=Math.min(m.lat,o.lat),o.lng=Math.min(m.lng,o.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(t){var o=this._southWest,u=this._northEast,m=Math.abs(o.lat-u.lat)*t,v=Math.abs(o.lng-u.lng)*t;return new ce(new he(o.lat-m,o.lng-v),new he(u.lat+m,u.lng+v))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof he||"lat"in t?t=ue(t):t=le(t);var o=this._southWest,u=this._northEast,m,v;return t instanceof ce?(m=t.getSouthWest(),v=t.getNorthEast()):m=v=t,m.lat>=o.lat&&v.lat<=u.lat&&m.lng>=o.lng&&v.lng<=u.lng},intersects:function(t){t=le(t);var o=this._southWest,u=this._northEast,m=t.getSouthWest(),v=t.getNorthEast(),N=v.lat>=o.lat&&m.lat<=u.lat,E=v.lng>=o.lng&&m.lng<=u.lng;return N&&E},overlaps:function(t){t=le(t);var o=this._southWest,u=this._northEast,m=t.getSouthWest(),v=t.getNorthEast(),N=v.lat>o.lat&&m.lat<u.lat,E=v.lng>o.lng&&m.lng<u.lng;return N&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,o){return t?(t=le(t),this._southWest.equals(t.getSouthWest(),o)&&this._northEast.equals(t.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(t,o){return t instanceof ce?t:new ce(t,o)}function he(t,o,u){if(isNaN(t)||isNaN(o))throw new Error("Invalid LatLng object: ("+t+", "+o+")");this.lat=+t,this.lng=+o,u!==void 0&&(this.alt=+u)}he.prototype={equals:function(t,o){if(!t)return!1;t=ue(t);var u=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return u<=(o===void 0?1e-9:o)},toString:function(t){return"LatLng("+O(this.lat,t)+", "+O(this.lng,t)+")"},distanceTo:function(t){return Te.distance(this,ue(t))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(t){var o=180*t/40075017,u=o/Math.cos(Math.PI/180*this.lat);return le([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function ue(t,o,u){return t instanceof he?t:F(t)&&typeof t[0]!="object"?t.length===3?new he(t[0],t[1],t[2]):t.length===2?new he(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new he(t.lat,"lng"in t?t.lng:t.lon,t.alt):o===void 0?null:new he(t,o,u)}var we={latLngToPoint:function(t,o){var u=this.projection.project(t),m=this.scale(o);return this.transformation._transform(u,m)},pointToLatLng:function(t,o){var u=this.scale(o),m=this.transformation.untransform(t,u);return this.projection.unproject(m)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(t),m=this.transformation.transform(o.min,u),v=this.transformation.transform(o.max,u);return new A(m,v)},infinite:!1,wrapLatLng:function(t){var o=this.wrapLng?j(t.lng,this.wrapLng,!0):t.lng,u=this.wrapLat?j(t.lat,this.wrapLat,!0):t.lat,m=t.alt;return new he(u,o,m)},wrapLatLngBounds:function(t){var o=t.getCenter(),u=this.wrapLatLng(o),m=o.lat-u.lat,v=o.lng-u.lng;if(m===0&&v===0)return t;var N=t.getSouthWest(),E=t.getNorthEast(),U=new he(N.lat-m,N.lng-v),Z=new he(E.lat-m,E.lng-v);return new ce(U,Z)}},Te=h({},we,{wrapLng:[-180,180],R:6371e3,distance:function(t,o){var u=Math.PI/180,m=t.lat*u,v=o.lat*u,N=Math.sin((o.lat-t.lat)*u/2),E=Math.sin((o.lng-t.lng)*u/2),U=N*N+Math.cos(m)*Math.cos(v)*E*E,Z=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*Z}}),Ve=6378137,ct={R:Ve,MAX_LATITUDE:85.0511287798,project:function(t){var o=Math.PI/180,u=this.MAX_LATITUDE,m=Math.max(Math.min(u,t.lat),-u),v=Math.sin(m*o);return new H(this.R*t.lng*o,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(t){var o=180/Math.PI;return new he((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*o,t.x*o/this.R)},bounds:(function(){var t=Ve*Math.PI;return new A([-t,-t],[t,t])})()};function wn(t,o,u,m){if(F(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=o,this._c=u,this._d=m}wn.prototype={transform:function(t,o){return this._transform(t.clone(),o)},_transform:function(t,o){return o=o||1,t.x=o*(this._a*t.x+this._b),t.y=o*(this._c*t.y+this._d),t},untransform:function(t,o){return o=o||1,new H((t.x/o-this._b)/this._a,(t.y/o-this._d)/this._c)}};function sn(t,o,u,m){return new wn(t,o,u,m)}var Dr=h({},Te,{code:"EPSG:3857",projection:ct,transformation:(function(){var t=.5/(Math.PI*ct.R);return sn(t,.5,-t,.5)})()}),ba=h({},Dr,{code:"EPSG:900913"});function ja(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Na(t,o){var u="",m,v,N,E,U,Z;for(m=0,N=t.length;m<N;m++){for(U=t[m],v=0,E=U.length;v<E;v++)Z=U[v],u+=(v?"L":"M")+Z.x+" "+Z.y;u+=o?ve.svg?"z":"x":""}return u||"M0 0"}var Li=document.documentElement.style,Ti="ActiveXObject"in window,ka=Ti&&!document.addEventListener,Br="msLaunchUri"in navigator&&!("documentMode"in document),Gn=Tt("webkit"),ys=Tt("android"),Ca=Tt("android 2")||Tt("android 3"),qo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Go=ys&&Tt("Google")&&qo<537&&!("AudioNode"in window),_s=!!window.opera,ws=!Br&&Tt("chrome"),Mi=Tt("gecko")&&!Gn&&!_s&&!Ti,Ko=!ws&&Tt("safari"),Fr=Tt("phantom"),Ur="OTransition"in Li,cu=navigator.platform.indexOf("Win")===0,Sa=Ti&&"transition"in Li,bs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ca,Jo="MozPerspective"in Li,Pa=!window.L_DISABLE_3D&&(Sa||bs||Jo)&&!Ur&&!Fr,dr=typeof orientation<"u"||Tt("mobile"),Ea=dr&&Gn,La=dr&&bs,js=!window.PointerEvent&&window.MSPointerEvent,hr=!!(window.PointerEvent||js),fr="ontouchstart"in window||!!window.TouchEvent,Qo=!window.L_NO_TOUCH&&(fr||hr),Xo=dr&&_s,Yo=dr&&Mi,el=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tl=(function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",C,o),window.removeEventListener("testPassiveEventSupport",C,o)}catch{}return t})(),Ta=(function(){return!!document.createElement("canvas").getContext})(),Ns=!!(document.createElementNS&&ja("svg").createSVGRect),Ri=!!Ns&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ma=!Ns&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),zi=navigator.platform.indexOf("Mac")===0,uu=navigator.platform.indexOf("Linux")===0;function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ve={ie:Ti,ielt9:ka,edge:Br,webkit:Gn,android:ys,android23:Ca,androidStock:Go,opera:_s,chrome:ws,gecko:Mi,safari:Ko,phantom:Fr,opera12:Ur,win:cu,ie3d:Sa,webkit3d:bs,gecko3d:Jo,any3d:Pa,mobile:dr,mobileWebkit:Ea,mobileWebkit3d:La,msPointer:js,pointer:hr,touch:Qo,touchNative:fr,mobileOpera:Xo,mobileGecko:Yo,retina:el,passiveEvents:tl,canvas:Ta,svg:Ns,vml:Ma,inlineSvg:Ri,mac:zi,linux:uu},Ai=ve.msPointer?"MSPointerDown":"pointerdown",ks=ve.msPointer?"MSPointerMove":"pointermove",nl=ve.msPointer?"MSPointerUp":"pointerup",rl=ve.msPointer?"MSPointerCancel":"pointercancel",Ra={touchstart:Ai,touchmove:ks,touchend:nl,touchcancel:rl},Kn={touchstart:it,touchmove:Cs,touchend:Cs,touchcancel:Cs},mr={},za=!1;function du(t,o,u){return o==="touchstart"&&hu(),Kn[o]?(u=Kn[o].bind(this,u),t.addEventListener(Ra[o],u,!1),u):(console.warn("wrong event specified:",o),C)}function il(t,o,u){if(!Ra[o]){console.warn("wrong event specified:",o);return}t.removeEventListener(Ra[o],u,!1)}function sl(t){mr[t.pointerId]=t}function al(t){mr[t.pointerId]&&(mr[t.pointerId]=t)}function Aa(t){delete mr[t.pointerId]}function hu(){za||(document.addEventListener(Ai,sl,!0),document.addEventListener(ks,al,!0),document.addEventListener(nl,Aa,!0),document.addEventListener(rl,Aa,!0),za=!0)}function Cs(t,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in mr)o.touches.push(mr[u]);o.changedTouches=[o],t(o)}}function it(t,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&st(o),Cs(t,o)}function fu(t){var o={},u,m;for(m in t)u=t[m],o[m]=u&&u.bind?u.bind(t):u;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Oa=200;function ol(t,o){t.addEventListener("dblclick",o);var u=0,m;function v(N){if(N.detail!==1){m=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var E=xr(N);if(!(E.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!E.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var U=Date.now();U-u<=Oa?(m++,m===2&&o(fu(N))):m=1,u=U}}}return t.addEventListener("click",v),{dblclick:o,simDblclick:v}}function Ss(t,o){t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)}var Ia=Vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$r=Vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oi=$r==="webkitTransition"||$r==="OTransition"?$r+"End":"transitionend";function an(t){return typeof t=="string"?document.getElementById(t):t}function Ii(t,o){var u=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(t,null);u=m?m[o]:null}return u==="auto"?null:u}function Pe(t,o,u){var m=document.createElement(t);return m.className=o||"",u&&u.appendChild(m),m}function et(t){var o=t.parentNode;o&&o.removeChild(t)}function Ps(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Wr(t){var o=t.parentNode;o&&o.lastChild!==t&&o.appendChild(t)}function zn(t){var o=t.parentNode;o&&o.firstChild!==t&&o.insertBefore(t,o.firstChild)}function Hr(t,o){if(t.classList!==void 0)return t.classList.contains(o);var u=Es(t);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function Se(t,o){if(t.classList!==void 0)for(var u=z(o),m=0,v=u.length;m<v;m++)t.classList.add(u[m]);else if(!Hr(t,o)){var N=Es(t);Da(t,(N?N+" ":"")+o)}}function Qe(t,o){t.classList!==void 0?t.classList.remove(o):Da(t,$((" "+Es(t)+" ").replace(" "+o+" "," ")))}function Da(t,o){t.className.baseVal===void 0?t.className=o:t.className.baseVal=o}function Es(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Mt(t,o){"opacity"in t.style?t.style.opacity=o:"filter"in t.style&&ll(t,o)}function ll(t,o){var u=!1,m="DXImageTransform.Microsoft.Alpha";try{u=t.filters.item(m)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):t.style.filter+=" progid:"+m+"(opacity="+o+")"}function Vr(t){for(var o=document.documentElement.style,u=0;u<t.length;u++)if(t[u]in o)return t[u];return!1}function on(t,o,u){var m=o||new H(0,0);t.style[Ia]=(ve.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(u?" scale("+u+")":"")}function ut(t,o){t._leaflet_pos=o,ve.any3d?on(t,o):(t.style.left=o.x+"px",t.style.top=o.y+"px")}function An(t){return t._leaflet_pos||new H(0,0)}var $e,Zr,Ls;if("onselectstart"in document)$e=function(){ke(window,"selectstart",st)},Zr=function(){Ge(window,"selectstart",st)};else{var pr=Vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$e=function(){if(pr){var t=document.documentElement.style;Ls=t[pr],t[pr]="none"}},Zr=function(){pr&&(document.documentElement.style[pr]=Ls,Ls=void 0)}}function Ts(){ke(window,"dragstart",st)}function Ms(){Ge(window,"dragstart",st)}var Di,Bi;function qr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(ln(),Di=t,Bi=t.style.outlineStyle,t.style.outlineStyle="none",ke(window,"keydown",ln))}function ln(){Di&&(Di.style.outlineStyle=Bi,Di=void 0,Bi=void 0,Ge(window,"keydown",ln))}function On(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function bn(t){var o=t.getBoundingClientRect();return{x:o.width/t.offsetWidth||1,y:o.height/t.offsetHeight||1,boundingClientRect:o}}var Fi={__proto__:null,TRANSFORM:Ia,TRANSITION:$r,TRANSITION_END:Oi,get:an,getStyle:Ii,create:Pe,remove:et,empty:Ps,toFront:Wr,toBack:zn,hasClass:Hr,addClass:Se,removeClass:Qe,setClass:Da,getClass:Es,setOpacity:Mt,testProp:Vr,setTransform:on,setPosition:ut,getPosition:An,get disableTextSelection(){return $e},get enableTextSelection(){return Zr},disableImageDrag:Ts,enableImageDrag:Ms,preventOutline:qr,restoreOutline:ln,getSizedParentNode:On,getScale:bn};function ke(t,o,u,m){if(o&&typeof o=="object")for(var v in o)Fa(t,v,o[v],u);else{o=z(o);for(var N=0,E=o.length;N<E;N++)Fa(t,o[N],u,m)}return this}var _t="_leaflet_events";function Ge(t,o,u,m){if(arguments.length===1)Ba(t),delete t[_t];else if(o&&typeof o=="object")for(var v in o)Rs(t,v,o[v],u);else if(o=z(o),arguments.length===2)Ba(t,function(U){return B(o,U)!==-1});else for(var N=0,E=o.length;N<E;N++)Rs(t,o[N],u,m);return this}function Ba(t,o){for(var u in t[_t]){var m=u.split(/\d/)[0];(!o||o(m))&&Rs(t,m,null,null,u)}}var gr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fa(t,o,u,m){var v=o+y(u)+(m?"_"+y(m):"");if(t[_t]&&t[_t][v])return this;var N=function(U){return u.call(m||t,U||window.event)},E=N;!ve.touchNative&&ve.pointer&&o.indexOf("touch")===0?N=du(t,o,N):ve.touch&&o==="dblclick"?N=ol(t,N):"addEventListener"in t?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?t.addEventListener(gr[o]||o,N,ve.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(N=function(U){U=U||window.event,Wi(t,U)&&E(U)},t.addEventListener(gr[o],N,!1)):t.addEventListener(o,E,!1):t.attachEvent("on"+o,N),t[_t]=t[_t]||{},t[_t][v]=N}function Rs(t,o,u,m,v){v=v||o+y(u)+(m?"_"+y(m):"");var N=t[_t]&&t[_t][v];if(!N)return this;!ve.touchNative&&ve.pointer&&o.indexOf("touch")===0?il(t,o,N):ve.touch&&o==="dblclick"?Ss(t,N):"removeEventListener"in t?t.removeEventListener(gr[o]||o,N,!1):t.detachEvent("on"+o,N),t[_t][v]=null}function jn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function zs(t){return Fa(t,"wheel",jn),this}function Ui(t){return ke(t,"mousedown touchstart dblclick contextmenu",jn),t._leaflet_disable_click=!0,this}function st(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function cn(t){return st(t),jn(t),this}function xr(t){if(t.composedPath)return t.composedPath();for(var o=[],u=t.target;u;)o.push(u),u=u.parentNode;return o}function $i(t,o){if(!o)return new H(t.clientX,t.clientY);var u=bn(o),m=u.boundingClientRect;return new H((t.clientX-m.left)/u.x-o.clientLeft,(t.clientY-m.top)/u.y-o.clientTop)}var mu=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cl(t){return ve.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/mu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Wi(t,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==t;)u=u.parentNode}catch{return!1}return u!==t}var As={__proto__:null,on:ke,off:Ge,stopPropagation:jn,disableScrollPropagation:zs,disableClickPropagation:Ui,preventDefault:st,stop:cn,getPropagationPath:xr,getMousePosition:$i,getWheelDelta:cl,isExternalTarget:Wi,addListener:ke,removeListener:Ge},Os=Ue.extend({run:function(t,o,u,m){this.stop(),this._el=t,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=An(t),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Fe(this._animate,this),this._step()},_step:function(t){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),t):(this._runFrame(1),this._complete())},_runFrame:function(t,o){var u=this._startPos.add(this._offset.multiplyBy(t));o&&u._round(),ut(this._el,u),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Be=Ue.extend({options:{crs:Dr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,o){o=T(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(ue(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$r&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,Oi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),t=this._limitCenter(ue(t),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=h({animate:u.animate},u.zoom),u.pan=h({animate:u.animate,duration:u.duration},u.pan));var m=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,o,u.zoom):this._tryAnimatedPan(t,u.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(t,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(t,o){return this._loaded?this.setView(this.getCenter(),t,{zoom:o}):(this._zoom=t,this)},zoomIn:function(t,o){return t=t||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,o)},zoomOut:function(t,o){return t=t||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,o)},setZoomAround:function(t,o,u){var m=this.getZoomScale(o),v=this.getSize().divideBy(2),N=t instanceof H?t:this.latLngToContainerPoint(t),E=N.subtract(v).multiplyBy(1-1/m),U=this.containerPointToLatLng(v.add(E));return this.setView(U,o,{zoom:u})},_getBoundsCenterZoom:function(t,o){o=o||{},t=t.getBounds?t.getBounds():le(t);var u=X(o.paddingTopLeft||o.padding||[0,0]),m=X(o.paddingBottomRight||o.padding||[0,0]),v=this.getBoundsZoom(t,!1,u.add(m));if(v=typeof o.maxZoom=="number"?Math.min(o.maxZoom,v):v,v===1/0)return{center:t.getCenter(),zoom:v};var N=m.subtract(u).divideBy(2),E=this.project(t.getSouthWest(),v),U=this.project(t.getNorthEast(),v),Z=this.unproject(E.add(U).divideBy(2).add(N),v);return{center:Z,zoom:v}},fitBounds:function(t,o){if(t=le(t),!t.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(t,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,o){return this.setView(t,this._zoom,{pan:o})},panBy:function(t,o){if(t=X(t).round(),o=o||{},!t.x&&!t.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Os,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Se(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,o,u){if(u=u||{},u.animate===!1||!ve.any3d)return this.setView(t,o,u);this._stop();var m=this.project(this.getCenter()),v=this.project(t),N=this.getSize(),E=this._zoom;t=ue(t),o=o===void 0?E:o;var U=Math.max(N.x,N.y),Z=U*this.getZoomScale(E,o),Y=v.distanceTo(m)||1,oe=1.42,be=oe*oe;function Ee(qe){var li=qe?-1:1,Pu=qe?Z:U,Eu=Z*Z-U*U+li*be*be*Y*Y,Nr=2*Pu*be*Y,kr=Eu/Nr,Cr=Math.sqrt(kr*kr+1)-kr,Js=Cr<1e-9?-18:Math.log(Cr);return Js}function wt(qe){return(Math.exp(qe)-Math.exp(-qe))/2}function gt(qe){return(Math.exp(qe)+Math.exp(-qe))/2}function Wt(qe){return wt(qe)/gt(qe)}var zt=Ee(0);function ai(qe){return U*(gt(zt)/gt(zt+oe*qe))}function oo(qe){return U*(gt(zt)*Wt(zt+oe*qe)-wt(zt))/be}function rr(qe){return 1-Math.pow(1-qe,1.5)}var Ll=Date.now(),jr=(Ee(1)-zt)/oe,Sn=u.duration?1e3*u.duration:1e3*jr*.8;function oi(){var qe=(Date.now()-Ll)/Sn,li=rr(qe)*jr;qe<=1?(this._flyToFrame=Fe(oi,this),this._move(this.unproject(m.add(v.subtract(m).multiplyBy(oo(li)/Y)),E),this.getScaleZoom(U/ai(li),E),{flyTo:!0})):this._move(t,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),oi.call(this),this},flyToBounds:function(t,o){var u=this._getBoundsCenterZoom(t,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(t){return t=le(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var o=this.options.minZoom;return this.options.minZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var o=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,o){this._enforcingBounds=!0;var u=this.getCenter(),m=this._limitCenter(u,this._zoom,le(t));return u.equals(m)||this.panTo(m,o),this._enforcingBounds=!1,this},panInside:function(t,o){o=o||{};var u=X(o.paddingTopLeft||o.padding||[0,0]),m=X(o.paddingBottomRight||o.padding||[0,0]),v=this.project(this.getCenter()),N=this.project(t),E=this.getPixelBounds(),U=Q([E.min.add(u),E.max.subtract(m)]),Z=U.getSize();if(!U.contains(N)){this._enforcingBounds=!0;var Y=N.subtract(U.getCenter()),oe=U.extend(N).getSize().subtract(Z);v.x+=Y.x<0?-oe.x:oe.x,v.y+=Y.y<0?-oe.y:oe.y,this.panTo(this.unproject(v),o),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},t===!0?{animate:!0}:t);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),m=o.divideBy(2).round(),v=u.divideBy(2).round(),N=m.subtract(v);return!N.x&&!N.y?this:(t.animate&&t.pan?this.panBy(N):(t.pan&&this._rawPanBy(N),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=h({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=g(this._handleGeolocationResponse,this),u=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,t):navigator.geolocation.getCurrentPosition(o,u,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var o=t.code,u=t.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var o=t.coords.latitude,u=t.coords.longitude,m=new he(o,u),v=m.toBounds(t.coords.accuracy*2),N=this._locateOptions;if(N.setView){var E=this.getBoundsZoom(v);this.setView(m,N.maxZoom?Math.min(E,N.maxZoom):E)}var U={latlng:m,bounds:v,timestamp:t.timestamp};for(var Z in t.coords)typeof t.coords[Z]=="number"&&(U[Z]=t.coords[Z]);this.fire("locationfound",U)}},addHandler:function(t,o){if(!o)return this;var u=this[t]=new o(this);return this._handlers.push(u),this.options[t]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),et(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)et(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,o){var u="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),m=Pe("div",u,o||this._mapPane);return t&&(this._panes[t]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),o=this.unproject(t.getBottomLeft()),u=this.unproject(t.getTopRight());return new ce(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,o,u){t=le(t),u=X(u||[0,0]);var m=this.getZoom()||0,v=this.getMinZoom(),N=this.getMaxZoom(),E=t.getNorthWest(),U=t.getSouthEast(),Z=this.getSize().subtract(u),Y=Q(this.project(U,m),this.project(E,m)).getSize(),oe=ve.any3d?this.options.zoomSnap:1,be=Z.x/Y.x,Ee=Z.y/Y.y,wt=o?Math.max(be,Ee):Math.min(be,Ee);return m=this.getScaleZoom(wt,m),oe&&(m=Math.round(m/(oe/100))*(oe/100),m=o?Math.ceil(m/oe)*oe:Math.floor(m/oe)*oe),Math.max(v,Math.min(N,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,o){var u=this._getTopLeftPoint(t,o);return new A(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(t)/u.scale(o)},getScaleZoom:function(t,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var m=u.zoom(t*u.scale(o));return isNaN(m)?1/0:m},project:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(ue(t),o)},unproject:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(X(t),o)},layerPointToLatLng:function(t){var o=X(t).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(t){var o=this.project(ue(t))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ue(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(le(t))},distance:function(t,o){return this.options.crs.distance(ue(t),ue(o))},containerPointToLayerPoint:function(t){return X(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return X(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var o=this.containerPointToLayerPoint(X(t));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(t)))},mouseEventToContainerPoint:function(t){return $i(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var o=this._container=an(t);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(o,"scroll",this._onScroll,this),this._containerId=y(o)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Se(t,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ii(t,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Se(t.markerPane,"leaflet-zoom-hide"),Se(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,o,u){ut(this._mapPane,new H(0,0));var m=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var v=this._zoom!==o;this._moveStart(v,u)._move(t,o)._moveEnd(v),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(t,o){return t&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(t,o,u,m){o===void 0&&(o=this._zoom);var v=this._zoom!==o;return this._zoom=o,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),m?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ut(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var o=t?Ge:ke;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=Fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,o){for(var u=[],m,v=o==="mouseout"||o==="mouseover",N=t.target||t.srcElement,E=!1;N;){if(m=this._targets[y(N)],m&&(o==="click"||o==="preclick")&&this._draggableMoved(m)){E=!0;break}if(m&&m.listens(o,!0)&&(v&&!Wi(N,t)||(u.push(m),v))||N===this._container)break;N=N.parentNode}return!u.length&&!E&&!v&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var o=t.target||t.srcElement;if(!(!this._loaded||o._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(o))){var u=t.type;u==="mousedown"&&qr(o),this._fireDOMEvent(t,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,o,u){if(t.type==="click"){var m=h({},t);m.type="preclick",this._fireDOMEvent(m,m.type,u)}var v=this._findEventTargets(t,o);if(u){for(var N=[],E=0;E<u.length;E++)u[E].listens(o,!0)&&N.push(u[E]);v=N.concat(v)}if(v.length){o==="contextmenu"&&st(t);var U=v[0],Z={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Y=U.getLatLng&&(!U._radius||U._radius<=10);Z.containerPoint=Y?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(t),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=Y?U.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(E=0;E<v.length;E++)if(v[E].fire(o,Z,!0),Z.originalEvent._stopped||v[E].options.bubblingMouseEvents===!1&&B(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,o=this._handlers.length;t<o;t++)this._handlers[t].disable()},whenReady:function(t,o){return this._loaded?t.call(o||this,{target:this}):this.on("load",t,o),this},_getMapPanePos:function(){return An(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,o){var u=t&&o!==void 0?this._getNewPixelOrigin(t,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,o){var u=this.getSize()._divideBy(2);return this.project(t,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,o,u){var m=this._getNewPixelOrigin(u,o);return this.project(t,o)._subtract(m)},_latLngBoundsToNewLayerBounds:function(t,o,u){var m=this._getNewPixelOrigin(u,o);return Q([this.project(t.getSouthWest(),o)._subtract(m),this.project(t.getNorthWest(),o)._subtract(m),this.project(t.getSouthEast(),o)._subtract(m),this.project(t.getNorthEast(),o)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,o,u){if(!u)return t;var m=this.project(t,o),v=this.getSize().divideBy(2),N=new A(m.subtract(v),m.add(v)),E=this._getBoundsOffset(N,u,o);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?t:this.unproject(m.add(E),o)},_limitOffset:function(t,o){if(!o)return t;var u=this.getPixelBounds(),m=new A(u.min.add(t),u.max.add(t));return t.add(this._getBoundsOffset(m,o))},_getBoundsOffset:function(t,o,u){var m=Q(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),v=m.min.subtract(t.min),N=m.max.subtract(t.max),E=this._rebound(v.x,-N.x),U=this._rebound(v.y,-N.y);return new H(E,U)},_rebound:function(t,o){return t+o>0?Math.round(t-o)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(o))},_limitZoom:function(t){var o=this.getMinZoom(),u=this.getMaxZoom(),m=ve.any3d?this.options.zoomSnap:1;return m&&(t=Math.round(t/m)*m),Math.max(o,Math.min(u,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,o){var u=this._getCenterOffset(t)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var t=this._proxy=Pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(o){var u=Ia,m=this._proxy.style[u];on(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),m===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){et(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),o=this.getZoom();on(this._proxy,this.project(t,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(o),v=this._getCenterOffset(t)._divideBy(1-1/m);return u.animate!==!0&&!this.getSize().contains(v)?!1:(Fe(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(t,o,!0)},this),!0)},_animateZoom:function(t,o,u,m){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=o,Se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:o,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jn(t,o){return new Be(t,o)}var Ut=Ye.extend({options:{position:"topright"},initialize:function(t){T(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var o=this._map;return o&&o.removeControl(this),this.options.position=t,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var o=this._container=this.onAdd(t),u=this.getPosition(),m=t._controlCorners[u];return Se(o,"leaflet-control"),u.indexOf("bottom")!==-1?m.insertBefore(o,m.firstChild):m.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(et(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Qn=function(t){return new Ut(t)};Be.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},o="leaflet-",u=this._controlContainer=Pe("div",o+"control-container",this._container);function m(v,N){var E=o+v+" "+o+N;t[v+N]=Pe("div",E,u)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)et(this._controlCorners[t]);et(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ua=Ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,o,u,m){return u<m?-1:m<u?1:0}},initialize:function(t,o,u){T(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in t)this._addLayer(t[m],m);for(m in o)this._addLayer(o[m],m,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ut.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,o){return this._addLayer(t,o),this._map?this._update():this},addOverlay:function(t,o){return this._addLayer(t,o,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var o=this._getLayer(y(t));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",o=this._container=Pe("div",t),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Ui(o),zs(o);var m=this._section=Pe("section",t+"-list");u&&(this._map.on("click",this.collapse,this),ke(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Pe("a",t+"-toggle",o);v.href="#",v.title="Layers",v.setAttribute("role","button"),ke(v,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){st(N),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Pe("div",t+"-base",m),this._separator=Pe("div",t+"-separator",m),this._overlaysList=Pe("div",t+"-overlays",m),o.appendChild(m)},_getLayer:function(t){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&y(this._layers[o].layer)===t)return this._layers[o]},_addLayer:function(t,o,u){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(g(function(m,v){return this.options.sortFunction(m.layer,v.layer,m.name,v.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ps(this._baseLayersList),Ps(this._overlaysList),this._layerControlInputs=[];var t,o,u,m,v=0;for(u=0;u<this._layers.length;u++)m=this._layers[u],this._addItem(m),o=o||m.overlay,t=t||!m.overlay,v+=m.overlay?0:1;return this.options.hideSingleBase&&(t=t&&v>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=o&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var o=this._getLayer(y(t.target)),u=o.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(t,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=u,m.firstChild},_addItem:function(t){var o=document.createElement("label"),u=this._map.hasLayer(t.layer),m;t.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=u):m=this._createRadioElement("leaflet-base-layers_"+y(this),u),this._layerControlInputs.push(m),m.layerId=y(t.layer),ke(m,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+t.name;var N=document.createElement("span");o.appendChild(N),N.appendChild(m),N.appendChild(v);var E=t.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,o,u,m=[],v=[];this._handlingClick=!0;for(var N=t.length-1;N>=0;N--)o=t[N],u=this._getLayer(o.layerId).layer,o.checked?m.push(u):o.checked||v.push(u);for(N=0;N<v.length;N++)this._map.hasLayer(v[N])&&this._map.removeLayer(v[N]);for(N=0;N<m.length;N++)this._map.hasLayer(m[N])||this._map.addLayer(m[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,o,u,m=this._map.getZoom(),v=t.length-1;v>=0;v--)o=t[v],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&m<u.options.minZoom||u.options.maxZoom!==void 0&&m>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ke(t,"click",st),this.expand();var o=this;setTimeout(function(){Ge(t,"click",st),o._preventClick=!1})}}),Is=function(t,o,u){return new Ua(t,o,u)},Gr=Ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var o="leaflet-control-zoom",u=Pe("div",o+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,o,u,m,v){var N=Pe("a",u,m);return N.innerHTML=t,N.href="#",N.title=o,N.setAttribute("role","button"),N.setAttribute("aria-label",o),Ui(N),ke(N,"click",cn),ke(N,"click",v,this),ke(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var t=this._map,o="leaflet-disabled";Qe(this._zoomInButton,o),Qe(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Se(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Se(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gr,this.addControl(this.zoomControl))});var ul=function(t){return new Gr(t)},Rt=Ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var o="leaflet-control-scale",u=Pe("div",o),m=this.options;return this._addScales(m,o+"-line",u),t.on(m.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),u},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,o,u){t.metric&&(this._mScale=Pe("div",o,u)),t.imperial&&(this._iScale=Pe("div",o,u))},_update:function(){var t=this._map,o=t.getSize().y/2,u=t.distance(t.containerPointToLatLng([0,o]),t.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var o=this._getRoundNum(t),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/t)},_updateImperial:function(t){var o=t*3.2808399,u,m,v;o>5280?(u=o/5280,m=this._getRoundNum(u),this._updateScale(this._iScale,m+" mi",m/u)):(v=this._getRoundNum(o),this._updateScale(this._iScale,v+" ft",v/o))},_updateScale:function(t,o,u){t.style.width=Math.round(this.options.maxWidth*u)+"px",t.innerHTML=o},_getRoundNum:function(t){var o=Math.pow(10,(Math.floor(t)+"").length-1),u=t/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),Kr=function(t){return new Rt(t)},$a='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vr=Ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?$a+" ":"")+"Leaflet</a>"},initialize:function(t){T(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Pe("div","leaflet-control-attribution"),Ui(this._container);for(var o in t._layers)t._layers[o].getAttribution&&this.addAttribution(t._layers[o].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var o in this._attributions)this._attributions[o]&&t.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),t.length&&u.push(t.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new vr().addTo(this)});var pu=function(t){return new vr(t)};Ut.Layers=Ua,Ut.Zoom=Gr,Ut.Scale=Rt,Ut.Attribution=vr,Qn.layers=Is,Qn.zoom=ul,Qn.scale=Kr,Qn.attribution=pu;var Zt=Ye.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zt.addTo=function(t,o){return t.addHandler(o,this),this};var Wa={Events:Ae},Jr=ve.touch?"touchstart mousedown":"mousedown",un=Ue.extend({options:{clickTolerance:3},initialize:function(t,o,u,m){T(this,m),this._element=t,this._dragStartTarget=o||t,this._preventOutline=u},enable:function(){this._enabled||(ke(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(!0),Ge(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Hr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){un._dragging===this&&this.finishDrag();return}if(!(un._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(un._dragging=this,this._preventOutline&&qr(this._element),Ts(),$e(),!this._moving)){this.fire("down");var o=t.touches?t.touches[0]:t,u=On(this._element);this._startPoint=new H(o.clientX,o.clientY),this._startPos=An(this._element),this._parentScale=bn(u);var m=t.type==="mousedown";ke(document,m?"mousemove":"touchmove",this._onMove,this),ke(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var o=t.touches&&t.touches.length===1?t.touches[0]:t,u=new H(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,st(t),this._moved||(this.fire("dragstart"),this._moved=!0,Se(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ut(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ge(document,"mousemove touchmove",this._onMove,this),Ge(document,"mouseup touchend touchcancel",this._onUp,this),Ms(),Zr();var o=this._moved&&this._moving;this._moving=!1,un._dragging=!1,o&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ha(t,o,u){var m,v=[1,4,2,8],N,E,U,Z,Y,oe,be,Ee;for(N=0,oe=t.length;N<oe;N++)t[N]._code=yr(t[N],o);for(U=0;U<4;U++){for(be=v[U],m=[],N=0,oe=t.length,E=oe-1;N<oe;E=N++)Z=t[N],Y=t[E],Z._code&be?Y._code&be||(Ee=Bs(Y,Z,be,o,u),Ee._code=yr(Ee,o),m.push(Ee)):(Y._code&be&&(Ee=Bs(Y,Z,be,o,u),Ee._code=yr(Ee,o),m.push(Ee)),m.push(Z));t=m}return t}function dl(t,o){var u,m,v,N,E,U,Z,Y,oe;if(!t||t.length===0)throw new Error("latlngs not passed");qt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var be=ue([0,0]),Ee=le(t),wt=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());wt<1700&&(be=Va(t));var gt=t.length,Wt=[];for(u=0;u<gt;u++){var zt=ue(t[u]);Wt.push(o.project(ue([zt.lat-be.lat,zt.lng-be.lng])))}for(U=Z=Y=0,u=0,m=gt-1;u<gt;m=u++)v=Wt[u],N=Wt[m],E=v.y*N.x-N.y*v.x,Z+=(v.x+N.x)*E,Y+=(v.y+N.y)*E,U+=E*3;U===0?oe=Wt[0]:oe=[Z/U,Y/U];var ai=o.unproject(X(oe));return ue([ai.lat+be.lat,ai.lng+be.lng])}function Va(t){for(var o=0,u=0,m=0,v=0;v<t.length;v++){var N=ue(t[v]);o+=N.lat,u+=N.lng,m++}return ue([o/m,u/m])}var gu={__proto__:null,clipPolygon:Ha,polygonCenter:dl,centroid:Va};function Ds(t,o){if(!o||!t.length)return t.slice();var u=o*o;return t=yu(t,u),t=vu(t,u),t}function hl(t,o,u){return Math.sqrt(_r(t,o,u,!0))}function xu(t,o,u){return _r(t,o,u)}function vu(t,o){var u=t.length,m=typeof Uint8Array<"u"?Uint8Array:Array,v=new m(u);v[0]=v[u-1]=1,Za(t,v,o,0,u-1);var N,E=[];for(N=0;N<u;N++)v[N]&&E.push(t[N]);return E}function Za(t,o,u,m,v){var N=0,E,U,Z;for(U=m+1;U<=v-1;U++)Z=_r(t[U],t[m],t[v],!0),Z>N&&(E=U,N=Z);N>u&&(o[E]=1,Za(t,o,u,m,E),Za(t,o,u,E,v))}function yu(t,o){for(var u=[t[0]],m=1,v=0,N=t.length;m<N;m++)_u(t[m],t[v])>o&&(u.push(t[m]),v=m);return v<N-1&&u.push(t[N-1]),u}var qa;function fl(t,o,u,m,v){var N=m?qa:yr(t,u),E=yr(o,u),U,Z,Y;for(qa=E;;){if(!(N|E))return[t,o];if(N&E)return!1;U=N||E,Z=Bs(t,o,U,u,v),Y=yr(Z,u),U===N?(t=Z,N=Y):(o=Z,E=Y)}}function Bs(t,o,u,m,v){var N=o.x-t.x,E=o.y-t.y,U=m.min,Z=m.max,Y,oe;return u&8?(Y=t.x+N*(Z.y-t.y)/E,oe=Z.y):u&4?(Y=t.x+N*(U.y-t.y)/E,oe=U.y):u&2?(Y=Z.x,oe=t.y+E*(Z.x-t.x)/N):u&1&&(Y=U.x,oe=t.y+E*(U.x-t.x)/N),new H(Y,oe,v)}function yr(t,o){var u=0;return t.x<o.min.x?u|=1:t.x>o.max.x&&(u|=2),t.y<o.min.y?u|=4:t.y>o.max.y&&(u|=8),u}function _u(t,o){var u=o.x-t.x,m=o.y-t.y;return u*u+m*m}function _r(t,o,u,m){var v=o.x,N=o.y,E=u.x-v,U=u.y-N,Z=E*E+U*U,Y;return Z>0&&(Y=((t.x-v)*E+(t.y-N)*U)/Z,Y>1?(v=u.x,N=u.y):Y>0&&(v+=E*Y,N+=U*Y)),E=t.x-v,U=t.y-N,m?E*E+U*U:new H(v,N)}function qt(t){return!F(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ml(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qt(t)}function pl(t,o){var u,m,v,N,E,U,Z,Y;if(!t||t.length===0)throw new Error("latlngs not passed");qt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var oe=ue([0,0]),be=le(t),Ee=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());Ee<1700&&(oe=Va(t));var wt=t.length,gt=[];for(u=0;u<wt;u++){var Wt=ue(t[u]);gt.push(o.project(ue([Wt.lat-oe.lat,Wt.lng-oe.lng])))}for(u=0,m=0;u<wt-1;u++)m+=gt[u].distanceTo(gt[u+1])/2;if(m===0)Y=gt[0];else for(u=0,N=0;u<wt-1;u++)if(E=gt[u],U=gt[u+1],v=E.distanceTo(U),N+=v,N>m){Z=(N-m)/v,Y=[U.x-Z*(U.x-E.x),U.y-Z*(U.y-E.y)];break}var zt=o.unproject(X(Y));return ue([zt.lat+oe.lat,zt.lng+oe.lng])}var gl={__proto__:null,simplify:Ds,pointToSegmentDistance:hl,closestPointOnSegment:xu,clipSegment:fl,_getEdgeIntersection:Bs,_getBitCode:yr,_sqClosestPointOnSegment:_r,isFlat:qt,_flat:ml,polylineCenter:pl},Ga={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new he(t.y,t.x)},bounds:new A([-180,-90],[180,90])},Ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var o=Math.PI/180,u=this.R,m=t.lat*o,v=this.R_MINOR/u,N=Math.sqrt(1-v*v),E=N*Math.sin(m),U=Math.tan(Math.PI/4-m/2)/Math.pow((1-E)/(1+E),N/2);return m=-u*Math.log(Math.max(U,1e-10)),new H(t.lng*o*u,m)},unproject:function(t){for(var o=180/Math.PI,u=this.R,m=this.R_MINOR/u,v=Math.sqrt(1-m*m),N=Math.exp(-t.y/u),E=Math.PI/2-2*Math.atan(N),U=0,Z=.1,Y;U<15&&Math.abs(Z)>1e-7;U++)Y=v*Math.sin(E),Y=Math.pow((1-Y)/(1+Y),v/2),Z=Math.PI/2-2*Math.atan(N*Y)-E,E+=Z;return new he(E*o,t.x*o/u)}},wu={__proto__:null,LonLat:Ga,Mercator:Ka,SphericalMercator:ct},bu=h({},Te,{code:"EPSG:3395",projection:Ka,transformation:(function(){var t=.5/(Math.PI*Ka.R);return sn(t,.5,-t,.5)})()}),xl=h({},Te,{code:"EPSG:4326",projection:Ga,transformation:sn(1/180,1,-1/180,.5)}),ju=h({},we,{projection:Ga,transformation:sn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,o){var u=o.lng-t.lng,m=o.lat-t.lat;return Math.sqrt(u*u+m*m)},infinite:!0});we.Earth=Te,we.EPSG3395=bu,we.EPSG3857=Dr,we.EPSG900913=ba,we.EPSG4326=xl,we.Simple=ju;var dn=Ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var o=t.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var o=y(t);return this._layers[o]?this:(this._layers[o]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var o=y(t);return this._layers[o]?(this._loaded&&t.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},_addLayers:function(t){t=t?F(t)?t:[t]:[];for(var o=0,u=t.length;o<u;o++)this.addLayer(t[o])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var o=y(t);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,o=-1/0,u=this._getZoomSpan();for(var m in this._zoomBoundLayers){var v=this._zoomBoundLayers[m].options;t=v.minZoom===void 0?t:Math.min(t,v.minZoom),o=v.maxZoom===void 0?o:Math.max(o,v.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=t===1/0?void 0:t,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=dn.extend({initialize:function(t,o){T(this,o),this._layers={};var u,m;if(t)for(u=0,m=t.length;u<m;u++)this.addLayer(t[u])},addLayer:function(t){var o=this.getLayerId(t);return this._layers[o]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var o=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(t){var o=typeof t=="number"?t:this.getLayerId(t);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var o=Array.prototype.slice.call(arguments,1),u,m;for(u in this._layers)m=this._layers[u],m[t]&&m[t].apply(m,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),Hi=function(t,o){return new Xn(t,o)},In=Xn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Xn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Xn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ce;for(var o in this._layers){var u=this._layers[o];t.extend(u.getBounds?u.getBounds():u.getLatLng())}return t}}),vl=function(t,o){return new In(t,o)},wr=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){T(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,o){var u=this._getIconUrl(t);if(!u){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(m,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(t,o){var u=this.options,m=u[o+"Size"];typeof m=="number"&&(m=[m,m]);var v=X(m),N=X(o==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));t.className="leaflet-marker-"+o+" "+(u.className||""),N&&(t.style.marginLeft=-N.x+"px",t.style.marginTop=-N.y+"px"),v&&(t.style.width=v.x+"px",t.style.height=v.y+"px")},_createImg:function(t,o){return o=o||document.createElement("img"),o.src=t,o},_getIconUrl:function(t){return ve.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function yl(t){return new wr(t)}var Qr=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Qr.imagePath!="string"&&(Qr.imagePath=this._detectIconPath()),(this.options.imagePath||Qr.imagePath)+wr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var o=function(u,m,v){var N=m.exec(u);return N&&N[v]};return t=o(t,/^url\((['"])?(.+)\1\)$/,2),t&&o(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Pe("div","leaflet-default-icon-path",document.body),o=Ii(t,"background-image")||Ii(t,"backgroundImage");if(document.body.removeChild(t),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Ja=Zt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Se(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var o=this._marker,u=o._map,m=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,N=An(o._icon),E=u.getPixelBounds(),U=u.getPixelOrigin(),Z=Q(E.min._subtract(U).add(v),E.max._subtract(U).subtract(v));if(!Z.contains(N)){var Y=X((Math.max(Z.max.x,N.x)-Z.max.x)/(E.max.x-Z.max.x)-(Math.min(Z.min.x,N.x)-Z.min.x)/(E.min.x-Z.min.x),(Math.max(Z.max.y,N.y)-Z.max.y)/(E.max.y-Z.max.y)-(Math.min(Z.min.y,N.y)-Z.min.y)/(E.min.y-Z.min.y)).multiplyBy(m);u.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),ut(o._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Fe(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=Fe(this._adjustPan.bind(this,t)))},_onDrag:function(t){var o=this._marker,u=o._shadow,m=An(o._icon),v=o._map.layerPointToLatLng(m);u&&ut(u,m),o._latlng=v,t.latlng=v,t.oldLatLng=this._oldLatLng,o.fire("move",t).fire("drag",t)},_onDragEnd:function(t){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=dn.extend({options:{icon:new Qr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,o){T(this,o),this._latlng=ue(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var o=this._latlng;return this._latlng=ue(t),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=t.icon.createIcon(this._icon),m=!1;u!==this._icon&&(this._icon&&this._removeIcon(),m=!0,t.title&&(u.title=t.title),u.tagName==="IMG"&&(u.alt=t.alt||"")),Se(u,o),t.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(u,"focus",this._panOnFocus,this);var v=t.icon.createShadow(this._shadow),N=!1;v!==this._shadow&&(this._removeShadow(),N=!0),v&&(Se(v,o),v.alt=""),this._shadow=v,t.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&N&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(this._icon,"focus",this._panOnFocus,this),et(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&et(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ut(this._icon,t),this._shadow&&ut(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ja)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ja(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Mt(this._icon,t),this._shadow&&Mt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var o=this.options.icon.options,u=o.iconSize?X(o.iconSize):X(0,0),m=o.iconAnchor?X(o.iconAnchor):X(0,0);t.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:u.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nu(t,o){return new Dn(t,o)}var Yn=dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return T(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fs=Yn.extend({options:{fill:!0,radius:10},initialize:function(t,o){T(this,o),this._latlng=ue(t),this._radius=this.options.radius},setLatLng:function(t){var o=this._latlng;return this._latlng=ue(t),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var o=t&&t.radius||this._radius;return Yn.prototype.setStyle.call(this,t),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,o=this._radiusY||t,u=this._clickTolerance(),m=[t+u,o+u];this._pxBounds=new A(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _l(t,o){return new Fs(t,o)}var Us=Fs.extend({initialize:function(t,o,u){if(typeof o=="number"&&(o=h({},u,{radius:o})),T(this,o),this._latlng=ue(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yn.prototype.setStyle,_project:function(){var t=this._latlng.lng,o=this._latlng.lat,u=this._map,m=u.options.crs;if(m.distance===Te.distance){var v=Math.PI/180,N=this._mRadius/Te.R/v,E=u.project([o+N,t]),U=u.project([o-N,t]),Z=E.add(U).divideBy(2),Y=u.unproject(Z).lat,oe=Math.acos((Math.cos(N*v)-Math.sin(o*v)*Math.sin(Y*v))/(Math.cos(o*v)*Math.cos(Y*v)))/v;(isNaN(oe)||oe===0)&&(oe=N/Math.cos(Math.PI/180*o)),this._point=Z.subtract(u.getPixelOrigin()),this._radius=isNaN(oe)?0:Z.x-u.project([Y,t-oe]).x,this._radiusY=Z.y-E.y}else{var be=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(be).x}this._updateBounds()}});function Vi(t,o,u){return new Us(t,o,u)}var $t=Yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,o){T(this,o),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var o=1/0,u=null,m=_r,v,N,E=0,U=this._parts.length;E<U;E++)for(var Z=this._parts[E],Y=1,oe=Z.length;Y<oe;Y++){v=Z[Y-1],N=Z[Y];var be=m(t,v,N,!0);be<o&&(o=be,u=m(t,v,N))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,o){return o=o||this._defaultShape(),t=ue(t),o.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ce,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var o=[],u=qt(t),m=0,v=t.length;m<v;m++)u?(o[m]=ue(t[m]),this._bounds.extend(o[m])):o[m]=this._convertLatLngs(t[m]);return o},_project:function(){var t=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),o=new H(t,t);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(t,o,u){var m=t[0]instanceof he,v=t.length,N,E;if(m){for(E=[],N=0;N<v;N++)E[N]=this._map.latLngToLayerPoint(t[N]),u.extend(E[N]);o.push(E)}else for(N=0;N<v;N++)this._projectLatlngs(t[N],o,u)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,m,v,N,E,U,Z;for(u=0,v=0,N=this._rings.length;u<N;u++)for(Z=this._rings[u],m=0,E=Z.length;m<E-1;m++)U=fl(Z[m],Z[m+1],t,m,!0),U&&(o[v]=o[v]||[],o[v].push(U[0]),(U[1]!==Z[m+1]||m===E-2)&&(o[v].push(U[1]),v++))}},_simplifyPoints:function(){for(var t=this._parts,o=this.options.smoothFactor,u=0,m=t.length;u<m;u++)t[u]=Ds(t[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,o){var u,m,v,N,E,U,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,N=this._parts.length;u<N;u++)for(U=this._parts[u],m=0,E=U.length,v=E-1;m<E;v=m++)if(!(!o&&m===0)&&hl(t,U[v],U[m])<=Z)return!0;return!1}});function ku(t,o){return new $t(t,o)}$t._flat=ml;var Bn=$t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var o=$t.prototype._convertLatLngs.call(this,t),u=o.length;return u>=2&&o[0]instanceof he&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(t){$t.prototype._setLatLngs.call(this,t),qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,u=new H(o,o);if(t=new A(t.min.subtract(u),t.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,v=this._rings.length,N;m<v;m++)N=Ha(this._rings[m],t,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var o=!1,u,m,v,N,E,U,Z,Y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(N=0,Z=this._parts.length;N<Z;N++)for(u=this._parts[N],E=0,Y=u.length,U=Y-1;E<Y;U=E++)m=u[E],v=u[U],m.y>t.y!=v.y>t.y&&t.x<(v.x-m.x)*(t.y-m.y)/(v.y-m.y)+m.x&&(o=!o);return o||$t.prototype._containsPoint.call(this,t,!0)}});function Cu(t,o){return new Bn(t,o)}var Nn=In.extend({initialize:function(t,o){T(this,o),this._layers={},t&&this.addData(t)},addData:function(t){var o=F(t)?t:t.features,u,m,v;if(o){for(u=0,m=o.length;u<m;u++)v=o[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var N=this.options;if(N.filter&&!N.filter(t))return this;var E=Xr(t,N);return E?(E.feature=Zs(t),E.defaultOptions=E.options,this.resetStyle(E),N.onEachFeature&&N.onEachFeature(t,E),this.addLayer(E)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(o){this._setLayerStyle(o,t)},this)},_setLayerStyle:function(t,o){t.setStyle&&(typeof o=="function"&&(o=o(t.feature)),t.setStyle(o))}});function Xr(t,o){var u=t.type==="Feature"?t.geometry:t,m=u?u.coordinates:null,v=[],N=o&&o.pointToLayer,E=o&&o.coordsToLatLng||Ws,U,Z,Y,oe;if(!m&&!u)return null;switch(u.type){case"Point":return U=E(m),$s(N,t,U,o);case"MultiPoint":for(Y=0,oe=m.length;Y<oe;Y++)U=E(m[Y]),v.push($s(N,t,U,o));return new In(v);case"LineString":case"MultiLineString":return Z=Zi(m,u.type==="LineString"?0:1,E),new $t(Z,o);case"Polygon":case"MultiPolygon":return Z=Zi(m,u.type==="Polygon"?1:2,E),new Bn(Z,o);case"GeometryCollection":for(Y=0,oe=u.geometries.length;Y<oe;Y++){var be=Xr({geometry:u.geometries[Y],type:"Feature",properties:t.properties},o);be&&v.push(be)}return new In(v);case"FeatureCollection":for(Y=0,oe=u.features.length;Y<oe;Y++){var Ee=Xr(u.features[Y],o);Ee&&v.push(Ee)}return new In(v);default:throw new Error("Invalid GeoJSON object.")}}function $s(t,o,u,m){return t?t(o,u):new Dn(u,m&&m.markersInheritOptions&&m)}function Ws(t){return new he(t[1],t[0],t[2])}function Zi(t,o,u){for(var m=[],v=0,N=t.length,E;v<N;v++)E=o?Zi(t[v],o-1,u):(u||Ws)(t[v]),m.push(E);return m}function Hs(t,o){return t=ue(t),t.alt!==void 0?[O(t.lng,o),O(t.lat,o),O(t.alt,o)]:[O(t.lng,o),O(t.lat,o)]}function Vs(t,o,u,m){for(var v=[],N=0,E=t.length;N<E;N++)v.push(o?Vs(t[N],qt(t[N])?0:o-1,u,m):Hs(t[N],m));return!o&&u&&v.length>0&&v.push(v[0].slice()),v}function Yr(t,o){return t.feature?h({},t.feature,{geometry:o}):Zs(o)}function Zs(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Qa={toGeoJSON:function(t){return Yr(this,{type:"Point",coordinates:Hs(this.getLatLng(),t)})}};Dn.include(Qa),Us.include(Qa),Fs.include(Qa),$t.include({toGeoJSON:function(t){var o=!qt(this._latlngs),u=Vs(this._latlngs,o?1:0,!1,t);return Yr(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Bn.include({toGeoJSON:function(t){var o=!qt(this._latlngs),u=o&&!qt(this._latlngs[0]),m=Vs(this._latlngs,u?2:o?1:0,!0,t);return o||(m=[m]),Yr(this,{type:(u?"Multi":"")+"Polygon",coordinates:m})}}),Xn.include({toMultiPoint:function(t){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(t).geometry.coordinates)}),Yr(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(t){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(t);var u=o==="GeometryCollection",m=[];return this.eachLayer(function(v){if(v.toGeoJSON){var N=v.toGeoJSON(t);if(u)m.push(N.geometry);else{var E=Zs(N);E.type==="FeatureCollection"?m.push.apply(m,E.features):m.push(E)}}}),u?Yr(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function wl(t,o){return new Nn(t,o)}var hn=wl,er=dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,o,u){this._url=t,this._bounds=le(o),T(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){et(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Wr(this._image),this},bringToBack:function(){return this._map&&zn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=le(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",o=this._image=t?this._url:Pe("img");if(Se(o,"leaflet-image-layer"),this._zoomAnimated&&Se(o,"leaflet-zoom-animated"),this.options.className&&Se(o,this.options.className),o.onselectstart=C,o.onmousemove=C,o.onload=g(this.fire,this,"load"),o.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(t){var o=this._map.getZoomScale(t.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;on(this._image,u,o)},_reset:function(){var t=this._image,o=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();ut(t,o.min),t.style.width=u.x+"px",t.style.height=u.y+"px"},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),bl=function(t,o,u){return new er(t,o,u)},Xa=er.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",o=this._image=t?this._url:Pe("video");if(Se(o,"leaflet-image-layer"),this._zoomAnimated&&Se(o,"leaflet-zoom-animated"),this.options.className&&Se(o,this.options.className),o.onselectstart=C,o.onmousemove=C,o.onloadeddata=g(this.fire,this,"load"),t){for(var u=o.getElementsByTagName("source"),m=[],v=0;v<u.length;v++)m.push(u[v].src);this._url=u.length>0?m:[o.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var E=Pe("source");E.src=this._url[N],o.appendChild(E)}}});function jl(t,o,u){return new Xa(t,o,u)}var Ya=er.extend({_initImage:function(){var t=this._image=this._url;Se(t,"leaflet-image-layer"),this._zoomAnimated&&Se(t,"leaflet-zoom-animated"),this.options.className&&Se(t,this.options.className),t.onselectstart=C,t.onmousemove=C}});function eo(t,o,u){return new Ya(t,o,u)}var kn=dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,o){t&&(t instanceof he||F(t))?(this._latlng=ue(t),T(this,o)):(T(this,t),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(g(et,void 0,this._container),200)):et(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ue(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wr(this._container),this},bringToBack:function(){return this._map&&zn(this._container),this},_prepareOpen:function(t){var o=this._source;if(!o._map)return!1;if(o instanceof In){o=null;var u=this._source._layers;for(var m in u)if(u[m]._map){o=u[m];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else if(o.getBounds)t=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")t.innerHTML=o;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),o=X(this.options.offset),u=this._getAnchor();this._zoomAnimated?ut(this._container,t.add(u)):o=o.add(t).add(u);var m=this._containerBottom=-o.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=m+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(t,o,u,m){var v=o;return v instanceof t||(v=new t(m).setContent(o)),u&&v.setLatLng(u),v}}),dn.include({_initOverlay:function(t,o,u,m){var v=u;return v instanceof t?(T(v,m),v._source=this):(v=o&&!m?o:new t(m,this),v.setContent(u)),v}});var qs=kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,kn.prototype.openOn.call(this,t)},onAdd:function(t){kn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yn||this._source.on("preclick",jn))},onRemove:function(t){kn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yn||this._source.off("preclick",jn))},getEvents:function(){var t=kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",o=this._container=Pe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Pe("div",t+"-content-wrapper",o);if(this._contentNode=Pe("div",t+"-content",u),Ui(o),zs(this._contentNode),ke(o,"contextmenu",jn),this._tipContainer=Pe("div",t+"-tip-container",o),this._tip=Pe("div",t+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Pe("a",t+"-close-button",o);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',ke(m,"click",function(v){st(v),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,o=t.style;o.width="",o.whiteSpace="nowrap";var u=t.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var m=t.offsetHeight,v=this.options.maxHeight,N="leaflet-popup-scrolled";v&&m>v?(o.height=v+"px",Se(t,N)):Qe(t,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),u=this._getAnchor();ut(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,o=parseInt(Ii(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,m=this._containerWidth,v=new H(this._containerLeft,-u-this._containerBottom);v._add(An(this._container));var N=t.layerPointToContainerPoint(v),E=X(this.options.autoPanPadding),U=X(this.options.autoPanPaddingTopLeft||E),Z=X(this.options.autoPanPaddingBottomRight||E),Y=t.getSize(),oe=0,be=0;N.x+m+Z.x>Y.x&&(oe=N.x+m-Y.x+Z.x),N.x-oe-U.x<0&&(oe=N.x-U.x),N.y+u+Z.y>Y.y&&(be=N.y+u-Y.y+Z.y),N.y-be-U.y<0&&(be=N.y-U.y),(oe||be)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([oe,be]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ei=function(t,o){return new qs(t,o)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(t,o,u){return this._initOverlay(qs,t,o,u).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),dn.include({bindPopup:function(t,o){return this._popup=this._initOverlay(qs,this._popup,t,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){cn(t);var o=t.layer||t.target;if(this._popup._source===o&&!(o instanceof Yn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=o,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ti=kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){kn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){kn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=kn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",o=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pe("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var o,u,m=this._map,v=this._container,N=m.latLngToContainerPoint(m.getCenter()),E=m.layerPointToContainerPoint(t),U=this.options.direction,Z=v.offsetWidth,Y=v.offsetHeight,oe=X(this.options.offset),be=this._getAnchor();U==="top"?(o=Z/2,u=Y):U==="bottom"?(o=Z/2,u=0):U==="center"?(o=Z/2,u=Y/2):U==="right"?(o=0,u=Y/2):U==="left"?(o=Z,u=Y/2):E.x<N.x?(U="right",o=0,u=Y/2):(U="left",o=Z+(oe.x+be.x)*2,u=Y/2),t=t.subtract(X(o,u,!0)).add(oe).add(be),Qe(v,"leaflet-tooltip-right"),Qe(v,"leaflet-tooltip-left"),Qe(v,"leaflet-tooltip-top"),Qe(v,"leaflet-tooltip-bottom"),Se(v,"leaflet-tooltip-"+U),ut(v,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Mt(this._container,t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(o)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qi=function(t,o){return new ti(t,o)};Be.include({openTooltip:function(t,o,u){return this._initOverlay(ti,t,o,u).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),dn.include({bindTooltip:function(t,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ti,this._tooltip,t,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var o=t?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&(ke(o,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ke(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var o=t.latlng,u,m;this._tooltip.options.sticky&&t.originalEvent&&(u=this._map.mouseEventToContainerPoint(t.originalEvent),m=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(o)}});var Gs=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var o=t&&t.tagName==="DIV"?t:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Ps(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var m=X(u.bgPos);o.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Nl(t){return new Gs(t)}wr.Default=Qr;var tr=dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){T(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),et(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var o=this.getPane().children,u=-t(-1/0,1/0),m=0,v=o.length,N;m<v;m++)N=o[m].style.zIndex,o[m]!==this._container&&N&&(u=t(u,+N));isFinite(u)&&(this.options.zIndex=u+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Mt(this._container,this.options.opacity);var t=+new Date,o=!1,u=!1;for(var m in this._tiles){var v=this._tiles[m];if(!(!v.current||!v.loaded)){var N=Math.min(1,(t-v.loaded)/200);Mt(v.el,N),N<1?o=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&(De(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,o=this.options.maxZoom;if(t!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===t?(this._levels[u].el.style.zIndex=o-Math.abs(t-u),this._onUpdateLevel(u)):(et(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var m=this._levels[t],v=this._map;return m||(m=this._levels[t]={},m.el=Pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=o,m.origin=v.project(v.unproject(v.getPixelOrigin()),t).round(),m.zoom=t,this._setZoomTransform(m,v.getCenter(),v.getZoom()),C(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var t,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)o=this._tiles[t],o.retain=o.current;for(t in this._tiles)if(o=this._tiles[t],o.current&&!o.active){var m=o.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var o in this._tiles)this._tiles[o].coords.z===t&&this._removeTile(o)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)et(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,o,u,m){var v=Math.floor(t/2),N=Math.floor(o/2),E=u-1,U=new H(+v,+N);U.z=+E;var Z=this._tileCoordsToKey(U),Y=this._tiles[Z];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),E>m?this._retainParent(v,N,E,m):!1)},_retainChildren:function(t,o,u,m){for(var v=2*t;v<2*t+2;v++)for(var N=2*o;N<2*o+2;N++){var E=new H(v,N);E.z=u+1;var U=this._tileCoordsToKey(E),Z=this._tiles[U];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);u+1<m&&this._retainChildren(v,N,u+1,m)}},_resetView:function(t){var o=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var o=this.options;return o.minNativeZoom!==void 0&&t<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<t?o.maxNativeZoom:t},_setView:function(t,o,u,m){var v=Math.round(o);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var N=this.options.updateWhenZooming&&v!==this._tileZoom;(!m||N)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(t),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(t,o)},_setZoomTransforms:function(t,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],t,o)},_setZoomTransform:function(t,o,u){var m=this._map.getZoomScale(u,t.zoom),v=t.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(o,u)).round();ve.any3d?on(t.el,v,m):ut(t.el,v)},_resetGrid:function(){var t=this._map,o=t.options.crs,u=this._tileSize=this.getTileSize(),m=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,o.wrapLng[0]],m).x/u.x),Math.ceil(t.project([0,o.wrapLng[1]],m).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([o.wrapLat[0],0],m).y/u.x),Math.ceil(t.project([o.wrapLat[1],0],m).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),m=o.getZoomScale(u,this._tileZoom),v=o.project(t,this._tileZoom).floor(),N=o.getSize().divideBy(m*2);return new A(v.subtract(N),v.add(N))},_update:function(t){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(t===void 0&&(t=o.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(t),v=this._pxBoundsToTileRange(m),N=v.getCenter(),E=[],U=this.options.keepBuffer,Z=new A(v.getBottomLeft().subtract([U,-U]),v.getTopRight().add([U,-U]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var oe=this._tiles[Y].coords;(oe.z!==this._tileZoom||!Z.contains(new H(oe.x,oe.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(t,u);return}for(var be=v.min.y;be<=v.max.y;be++)for(var Ee=v.min.x;Ee<=v.max.x;Ee++){var wt=new H(Ee,be);if(wt.z=this._tileZoom,!!this._isValidTile(wt)){var gt=this._tiles[this._tileCoordsToKey(wt)];gt?gt.current=!0:E.push(wt)}}if(E.sort(function(zt,ai){return zt.distanceTo(N)-ai.distanceTo(N)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(Ee=0;Ee<E.length;Ee++)this._addTile(E[Ee],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(t){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(t.x<u.min.x||t.x>u.max.x)||!o.wrapLat&&(t.y<u.min.y||t.y>u.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(t);return le(this.options.bounds).overlaps(m)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var o=this._map,u=this.getTileSize(),m=t.scaleBy(u),v=m.add(u),N=o.unproject(m,t.z),E=o.unproject(v,t.z);return[N,E]},_tileCoordsToBounds:function(t){var o=this._tileCoordsToNwSe(t),u=new ce(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var o=t.split(":"),u=new H(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(t){var o=this._tiles[t];o&&(et(o.el),delete this._tiles[t],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Se(t,"leaflet-tile");var o=this.getTileSize();t.style.width=o.x+"px",t.style.height=o.y+"px",t.onselectstart=C,t.onmousemove=C,ve.ielt9&&this.options.opacity<1&&Mt(t,this.options.opacity)},_addTile:function(t,o){var u=this._getTilePos(t),m=this._tileCoordsToKey(t),v=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(v),this.createTile.length<2&&Fe(g(this._tileReady,this,t,null,v)),ut(v,u),this._tiles[m]={el:v,coords:t,current:!0},o.appendChild(v),this.fire("tileloadstart",{tile:v,coords:t})},_tileReady:function(t,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:t});var m=this._tileCoordsToKey(t);u=this._tiles[m],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Mt(u.el,0),De(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(Se(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?Fe(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var o=new H(this._wrapX?j(t.x,this._wrapX):t.x,this._wrapY?j(t.y,this._wrapY):t.y);return o.z=t.z,o},_pxBoundsToTileRange:function(t){var o=this.getTileSize();return new A(t.min.unscaleBy(o).floor(),t.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ni(t){return new tr(t)}var nr=tr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,o){this._url=t,o=T(this,o),o.detectRetina&&ve.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,o){return this._url===t&&o===void 0&&(o=!0),this._url=t,o||this.redraw(),this},createTile:function(t,o){var u=document.createElement("img");return ke(u,"load",g(this._tileOnLoad,this,o,u)),ke(u,"error",g(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(t),u},getTileUrl:function(t){var o={r:ve.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-t.y;this.options.tms&&(o.y=u),o["-y"]=u}return R(this._url,h(o,this.options))},_tileOnLoad:function(t,o){ve.ielt9?setTimeout(g(t,this,null,o),0):t(null,o)},_tileOnError:function(t,o,u){var m=this.options.errorTileUrl;m&&o.getAttribute("src")!==m&&(o.src=m),t(u,o)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,m=this.options.zoomOffset;return u&&(t=o-t),t+m},_getSubdomain:function(t){var o=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var t,o;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(o=this._tiles[t].el,o.onload=C,o.onerror=C,!o.complete)){o.src=J;var u=this._tiles[t].coords;et(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(t){var o=this._tiles[t];if(o)return o.el.setAttribute("src",J),tr.prototype._removeTile.call(this,t)},_tileReady:function(t,o,u){if(!(!this._map||u&&u.getAttribute("src")===J))return tr.prototype._tileReady.call(this,t,o,u)}});function to(t,o){return new nr(t,o)}var Gi=nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,o){this._url=t;var u=h({},this.defaultWmsParams);for(var m in o)m in this.options||(u[m]=o[m]);o=T(this,o);var v=o.detectRetina&&ve.retina?2:1,N=this.getTileSize();u.width=N.x*v,u.height=N.y*v,this.wmsParams=u},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,nr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var o=this._tileCoordsToNwSe(t),u=this._crs,m=Q(u.project(o[0]),u.project(o[1])),v=m.min,N=m.max,E=(this._wmsVersion>=1.3&&this._crs===xl?[v.y,v.x,N.y,N.x]:[v.x,v.y,N.x,N.y]).join(","),U=nr.prototype.getTileUrl.call(this,t);return U+k(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(t,o){return h(this.wmsParams,t),o||this.redraw(),this}});function kl(t,o){return new Gi(t,o)}nr.WMS=Gi,to.wms=kl;var Cn=dn.extend({options:{padding:.1},initialize:function(t){T(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,o){var u=this._map.getZoomScale(o,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,o),N=m.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(t,o));ve.any3d?on(this._container,N,u):ut(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-t)).round();this._bounds=new A(u,u.add(o.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),no=Cn.extend({options:{tolerance:0},getEvents:function(){var t=Cn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ke(t,"mousemove",this._onMouseMove,this),ke(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,et(this._container),Ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var o in this._layers)t=this._layers[o],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var t=this._bounds,o=this._container,u=t.getSize(),m=ve.retina?2:1;ut(o,t.min),o.width=m*u.x,o.height=m*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var o=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var o=t._order,u=o.next,m=o.prev;u?u.prev=m:this._drawLast=m,m?m.next=u:this._drawFirst=u,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var o=t.options.dashArray.split(/[, ]+/),u=[],m,v;for(v=0;v<o.length;v++){if(m=Number(o[v]),isNaN(m))return;u.push(m)}t.options._dashArray=u}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Fe(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var o=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(t._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(t._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var o=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)t=m.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,o){if(this._drawing){var u,m,v,N,E=t._parts,U=E.length,Z=this._ctx;if(U){for(Z.beginPath(),u=0;u<U;u++){for(m=0,v=E[u].length;m<v;m++)N=E[u][m],Z[m?"lineTo":"moveTo"](N.x,N.y);o&&Z.closePath()}this._fillStroke(Z,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var o=t._point,u=this._ctx,m=Math.max(Math.round(t._radius),1),v=(Math.max(Math.round(t._radiusY),1)||m)/m;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(o.x,o.y/v,m,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,t)}},_fillStroke:function(t,o){var u=o.options;u.fill&&(t.globalAlpha=u.fillOpacity,t.fillStyle=u.fillColor||u.color,t.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(t.setLineDash&&t.setLineDash(o.options&&o.options._dashArray||[]),t.globalAlpha=u.opacity,t.lineWidth=u.weight,t.strokeStyle=u.color,t.lineCap=u.lineCap,t.lineJoin=u.lineJoin,t.stroke())},_onClick:function(t){for(var o=this._map.mouseEventToLayerPoint(t),u,m,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(o)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(u))&&(m=u);this._fireEvent(m?[m]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,o)}},_handleMouseOut:function(t){var o=this._hoveredLayer;o&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,o){if(!this._mouseHoverThrottled){for(var u,m,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(o)&&(m=u);m!==this._hoveredLayer&&(this._handleMouseOut(t),m&&(Se(this._container,"leaflet-interactive"),this._fireEvent([m],t,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,o,u){this._map._fireDOMEvent(o,u||o.type,t)},_bringToFront:function(t){var o=t._order;if(o){var u=o.next,m=o.prev;if(u)u.prev=m;else return;m?m.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(t)}},_bringToBack:function(t){var o=t._order;if(o){var u=o.next,m=o.prev;if(m)m.next=u;else return;u?u.prev=m:m&&(this._drawLast=m),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(t)}}});function ro(t){return ve.canvas?new no(t):null}var ri=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Cl={_initContainer:function(){this._container=Pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var o=t._container=ri("shape");Se(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",t._path=ri("path"),o.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var o=t._container;this._container.appendChild(o),t.options.interactive&&t.addInteractiveTarget(o)},_removePath:function(t){var o=t._container;et(o),t.removeInteractiveTarget(o),delete this._layers[y(t)]},_updateStyle:function(t){var o=t._stroke,u=t._fill,m=t.options,v=t._container;v.stroked=!!m.stroke,v.filled=!!m.fill,m.stroke?(o||(o=t._stroke=ri("stroke")),v.appendChild(o),o.weight=m.weight+"px",o.color=m.color,o.opacity=m.opacity,m.dashArray?o.dashStyle=F(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=m.lineCap.replace("butt","flat"),o.joinstyle=m.lineJoin):o&&(v.removeChild(o),t._stroke=null),m.fill?(u||(u=t._fill=ri("fill")),v.appendChild(u),u.color=m.fillColor||m.color,u.opacity=m.fillOpacity):u&&(v.removeChild(u),t._fill=null)},_updateCircle:function(t){var o=t._point.round(),u=Math.round(t._radius),m=Math.round(t._radiusY||u);this._setPath(t,t._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+m+" 0,"+65535*360)},_setPath:function(t,o){t._path.v=o},_bringToFront:function(t){Wr(t._container)},_bringToBack:function(t){zn(t._container)}},fn=ve.vml?ri:ja,br=Cn.extend({_initContainer:function(){this._container=fn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){et(this._container),Ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var t=this._bounds,o=t.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),ut(u,t.min),u.setAttribute("viewBox",[t.min.x,t.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(t){var o=t._path=fn("path");t.options.className&&Se(o,t.options.className),t.options.interactive&&Se(o,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){et(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var o=t._path,u=t.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(t,o){this._setPath(t,Na(t._parts,o))},_updateCircle:function(t){var o=t._point,u=Math.max(Math.round(t._radius),1),m=Math.max(Math.round(t._radiusY),1)||u,v="a"+u+","+m+" 0 1,0 ",N=t._empty()?"M0 0":"M"+(o.x-u)+","+o.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(t,N)},_setPath:function(t,o){t._path.setAttribute("d",o)},_bringToFront:function(t){Wr(t._path)},_bringToBack:function(t){zn(t._path)}});ve.vml&&br.include(Cl);function Ks(t){return ve.svg||ve.vml?new br(t):null}Be.include({getRenderer:function(t){var o=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var o=this._paneRenderers[t];return o===void 0&&(o=this._createRenderer({pane:t}),this._paneRenderers[t]=o),o},_createRenderer:function(t){return this.options.preferCanvas&&ro(t)||Ks(t)}});var Sl=Bn.extend({initialize:function(t,o){Bn.prototype.initialize.call(this,this._boundsToLatLngs(t),o)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=le(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Su(t,o){return new Sl(t,o)}br.create=fn,br.pointsToPath=Na,Nn.geometryToLayer=Xr,Nn.coordsToLatLng=Ws,Nn.coordsToLatLngs=Zi,Nn.latLngToCoords=Hs,Nn.latLngsToCoords=Vs,Nn.getFeature=Yr,Nn.asFeature=Zs,Be.mergeOptions({boxZoom:!0});var ii=Zt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){et(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$e(),Ts(),this._startPoint=this._map.mouseEventToContainerPoint(t),ke(document,{contextmenu:cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Pe("div","leaflet-zoom-box",this._container),Se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var o=new A(this._point,this._startPoint),u=o.getSize();ut(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(et(this._box),Qe(this._container,"leaflet-crosshair")),Zr(),Ms(),Ge(document,{contextmenu:cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var o=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",ii),Be.mergeOptions({doubleClickZoom:!0});var Pl=Zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var o=this._map,u=o.getZoom(),m=o.options.zoomDelta,v=t.originalEvent.shiftKey?u-m:u+m;o.options.doubleClickZoom==="center"?o.setZoom(v):o.setZoomAround(t.containerPoint,v)}});Be.addInitHook("addHandler","doubleClickZoom",Pl),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var io=Zt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=le(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,o){return t-(t-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;t.x<o.min.x&&(t.x=this._viscousLimit(t.x,o.min.x)),t.y<o.min.y&&(t.y=this._viscousLimit(t.y,o.min.y)),t.x>o.max.x&&(t.x=this._viscousLimit(t.x,o.max.x)),t.y>o.max.y&&(t.y=this._viscousLimit(t.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,o=Math.round(t/2),u=this._initialWorldOffset,m=this._draggable._newPos.x,v=(m-o+u)%t+o-u,N=(m+o+u)%t-o-u,E=Math.abs(v+u)<Math.abs(N+u)?v:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(t){var o=this._map,u=o.options,m=!u.inertia||t.noInertia||this._times.length<2;if(o.fire("dragend",t),m)o.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,E=u.easeLinearity,U=v.multiplyBy(E/N),Z=U.distanceTo([0,0]),Y=Math.min(u.inertiaMaxSpeed,Z),oe=U.multiplyBy(Y/Z),be=Y/(u.inertiaDeceleration*E),Ee=oe.multiplyBy(-be/2).round();!Ee.x&&!Ee.y?o.fire("moveend"):(Ee=o._limitOffset(Ee,o.options.maxBounds),Fe(function(){o.panBy(Ee,{duration:be,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",io),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var so=Zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ke(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,o=document.documentElement,u=t.scrollTop||o.scrollTop,m=t.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(m,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var o=this._panKeys={},u=this.keyCodes,m,v;for(m=0,v=u.left.length;m<v;m++)o[u.left[m]]=[-1*t,0];for(m=0,v=u.right.length;m<v;m++)o[u.right[m]]=[t,0];for(m=0,v=u.down.length;m<v;m++)o[u.down[m]]=[0,t];for(m=0,v=u.up.length;m<v;m++)o[u.up[m]]=[0,-1*t]},_setZoomDelta:function(t){var o=this._zoomKeys={},u=this.keyCodes,m,v;for(m=0,v=u.zoomIn.length;m<v;m++)o[u.zoomIn[m]]=t;for(m=0,v=u.zoomOut.length;m<v;m++)o[u.zoomOut[m]]=-t},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o=t.keyCode,u=this._map,m;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(m=this._panKeys[o],t.shiftKey&&(m=X(m).multiplyBy(3)),u.options.maxBounds&&(m=u._limitOffset(X(m),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(m)));u.panTo(v)}else u.panBy(m)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;cn(t)}}});Be.addInitHook("addHandler","keyboard",so),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ke=Zt.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=cl(t),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var m=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),m),cn(t)},_performZoom:function(){var t=this._map,o=t.getZoom(),u=this._map.options.zoomSnap||0;t._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,N=u?Math.ceil(v/u)*u:v,E=t._limitZoom(o+(this._delta>0?N:-N))-o;this._delta=0,this._startTime=null,E&&(t.options.scrollWheelZoom==="center"?t.setZoom(o+E):t.setZoomAround(this._lastMousePos,o+E))}});Be.addInitHook("addHandler","scrollWheelZoom",Ke);var ao=600;Be.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var Ki=Zt.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var o=t.touches[0];this._startPos=this._newPos=new H(o.clientX,o.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",st),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),ao),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ge(document,"touchend",st),Ge(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)},_onMove:function(t){var o=t.touches[0];this._newPos=new H(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,o){var u=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});Be.addInitHook("addHandler","tapHold",Ki),Be.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var si=Zt.extend({addHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(!(!t.touches||t.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(t.touches[0]),m=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(m)._divideBy(2))),this._startDist=u.distanceTo(m),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),st(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(t.touches[0]),m=o.mouseEventToContainerPoint(t.touches[1]),v=u.distanceTo(m)/this._startDist;if(this._zoom=o.getScaleZoom(v,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&v<1||this._zoom>o.getMaxZoom()&&v>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var N=u._add(m)._divideBy(2)._subtract(this._centerPoint);if(v===1&&N.x===0&&N.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),De(this._animRequest);var E=g(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Fe(E,this,!0),st(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,De(this._animRequest),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",si),Be.BoxZoom=ii,Be.DoubleClickZoom=Pl,Be.Drag=io,Be.Keyboard=so,Be.ScrollWheelZoom=Ke,Be.TapHold=Ki,Be.TouchZoom=si,a.Bounds=A,a.Browser=ve,a.CRS=we,a.Canvas=no,a.Circle=Us,a.CircleMarker=Fs,a.Class=Ye,a.Control=Ut,a.DivIcon=Gs,a.DivOverlay=kn,a.DomEvent=As,a.DomUtil=Fi,a.Draggable=un,a.Evented=Ue,a.FeatureGroup=In,a.GeoJSON=Nn,a.GridLayer=tr,a.Handler=Zt,a.Icon=wr,a.ImageOverlay=er,a.LatLng=he,a.LatLngBounds=ce,a.Layer=dn,a.LayerGroup=Xn,a.LineUtil=gl,a.Map=Be,a.Marker=Dn,a.Mixin=Wa,a.Path=Yn,a.Point=H,a.PolyUtil=gu,a.Polygon=Bn,a.Polyline=$t,a.Popup=qs,a.PosAnimation=Os,a.Projection=wu,a.Rectangle=Sl,a.Renderer=Cn,a.SVG=br,a.SVGOverlay=Ya,a.TileLayer=nr,a.Tooltip=ti,a.Transformation=wn,a.Util=Je,a.VideoOverlay=Xa,a.bind=g,a.bounds=Q,a.canvas=ro,a.circle=Vi,a.circleMarker=_l,a.control=Qn,a.divIcon=Nl,a.extend=h,a.featureGroup=vl,a.geoJSON=wl,a.geoJson=hn,a.gridLayer=ni,a.icon=yl,a.imageOverlay=bl,a.latLng=ue,a.latLngBounds=le,a.layerGroup=Hi,a.map=Jn,a.marker=Nu,a.point=X,a.polygon=Cu,a.polyline=ku,a.popup=ei,a.rectangle=Su,a.setOptions=T,a.stamp=y,a.svg=Ks,a.svgOverlay=eo,a.tileLayer=to,a.tooltip=qi,a.transformation=sn,a.version=c,a.videoOverlay=jl;var El=window.L;a.noConflict=function(){return window.L=El,this},window.L=a}))})(So,So.exports)),So.exports}var Zo=z_();const A_=vp(Zo);function zh(r,i,a){return Object.freeze({instance:r,context:i,container:a})}function Ah(r,i){return i==null?function(c,h){const f=D.useRef();return f.current||(f.current=r(c,h)),f}:function(c,h){const f=D.useRef();f.current||(f.current=r(c,h));const g=D.useRef(c),{instance:w}=f.current;return D.useEffect(function(){g.current!==c&&(i(w,c,g.current),g.current=c)},[w,c,h]),f}}function O_(r,i){D.useEffect(function(){return(i.layerContainer??i.map).addLayer(r.instance),function(){var f;(f=i.layerContainer)==null||f.removeLayer(r.instance),i.map.removeLayer(r.instance)}},[i,r])}function D0(r){return function(a){const c=Mh(),h=r(Rh(a,c),c);return z0(c.map,a.attribution),I0(h.current,a.eventHandlers),O_(h.current,c),h}}function I_(r,i){const a=Ah(r,i),c=D0(a);return E_(c)}function D_(r,i){const a=Ah(r),c=M_(a,i);return L_(c)}function B_(r,i){const a=Ah(r,i),c=D0(a);return T_(c)}function F_(r,i,a){const{opacity:c,zIndex:h}=i;c!=null&&c!==a.opacity&&r.setOpacity(c),h!=null&&h!==a.zIndex&&r.setZIndex(h)}function U_(){return Mh().map}function xh(){return xh=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},xh.apply(this,arguments)}function $_({bounds:r,boundsOptions:i,center:a,children:c,className:h,id:f,placeholder:g,style:w,whenReady:y,zoom:_,...j},C){const[O]=D.useState({className:h,id:f,style:w}),[$,z]=D.useState(null);D.useImperativeHandle(C,()=>($==null?void 0:$.map)??null,[$]);const T=D.useCallback(P=>{if(P!==null&&$===null){const R=new Zo.Map(P,j);a!=null&&_!=null?R.setView(a,_):r!=null&&R.fitBounds(r,i),y!=null&&R.whenReady(y),z(S_(R))}},[]);D.useEffect(()=>()=>{$==null||$.map.remove()},[$]);const k=$?Bc.createElement(O0,{value:$},c):g??null;return Bc.createElement("div",xh({},O,{ref:T}),k)}const W_=D.forwardRef($_),B0=I_(function({position:i,...a},c){const h=new Zo.Marker(i,a);return zh(h,P_(c,{overlayContainer:h}))},function(i,a,c){a.position!==c.position&&i.setLatLng(a.position),a.icon!=null&&a.icon!==c.icon&&i.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==c.zIndexOffset&&i.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==c.opacity&&i.setOpacity(a.opacity),i.dragging!=null&&a.draggable!==c.draggable&&(a.draggable===!0?i.dragging.enable():i.dragging.disable())}),F0=D_(function(i,a){const c=new Zo.Popup(i,a.overlayContainer);return zh(c,a)},function(i,a,{position:c},h){D.useEffect(function(){const{instance:g}=i;function w(_){_.popup===g&&(g.update(),h(!0))}function y(_){_.popup===g&&h(!1)}return a.map.on({popupopen:w,popupclose:y}),a.overlayContainer==null?(c!=null&&g.setLatLng(c),g.openOn(a.map)):a.overlayContainer.bindPopup(g),function(){var j;a.map.off({popupopen:w,popupclose:y}),(j=a.overlayContainer)==null||j.unbindPopup(),a.map.removeLayer(g)}},[i,a,h,c])}),H_=B_(function({url:i,...a},c){const h=new Zo.TileLayer(i,Rh(a,c));return zh(h,c)},function(i,a,c){F_(i,a,c);const{url:h}=a;h!=null&&h!==c.url&&i.setUrl(h)}),V_={user:{color:"#3B82F6",icon:"",size:"large",pulseColor:"rgba(59, 130, 246, 0.4)",borderColor:"#1E40AF"},fixed_commerce:{color:"#059669",icon:"",size:"medium",pulseColor:"rgba(5, 150, 105, 0.3)",borderColor:"#047857"},ambulant_commerce:{color:"#DC2626",icon:"",size:"medium",pulseColor:"rgba(220, 38, 38, 0.4)",animated:!0,borderColor:"#B91C1C"}},U0=(r,i={})=>{const a=V_[r],{isOnline:c=!1,hasNotification:h=!1}=i,f=a.size==="large"?40:32,g=a.size==="large"?20:16,w=a.animated?"animate-pulse":"",y=c?"border-2 border-green-400":"",_=h?'<div style="position: absolute; top: -4px; right: -4px; width: 12px; height: 12px; background: #EF4444; border-radius: 50%; border: 2px solid white;"></div>':"",j=`
    <div class="relative ${w}">
      <div style="
        width: ${f}px;
        height: ${f}px;
        background: ${a.color};
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: ${g}px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        border: 3px solid ${a.borderColor||a.color};
        position: relative;
        ${y?"border-color: #4ADE80; border-width: 4px;":""}
        ${r==="user"?"z-index: 1000;":""}
      " class="marker-icon ${w}">
        ${a.icon}
        ${_}
      </div>
      ${a.animated?`
        <div style="
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: ${f+20}px;
          height: ${f+20}px;
          border-radius: 50%;
          background: ${a.pulseColor};
          animation: ping 1.5s infinite;
          z-index: -1;
        "></div>
      `:""}
    </div>
  `;return A_.divIcon({html:j,className:"custom-marker",iconSize:[f,f],iconAnchor:[f/2,f/2],popupAnchor:[0,-f/2]})},Z_=(r,i)=>r?`
    <div class="p-3 min-w-[200px]">
      <div class="flex items-center space-x-3 mb-3">
        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
          ${r.avatar?`<img src="${r.avatar}" alt="${r.name||"Utilisateur"}" class="w-12 h-12 rounded-full">`:`<span class="text-blue-600 font-bold text-lg">${(r.name||r.email||"U")[0].toUpperCase()}</span>`}
        </div>
        <div>
          <h3 class="font-semibold text-gray-900">${r.name||r.email||"Utilisateur"}</h3>
          <p class="text-sm text-blue-600 capitalize">${r.role||"utilisateur"}</p>
        </div>
      </div>
      
      <div class="text-xs text-gray-600 mb-3">
         Votre position actuelle
      </div>
      
      <button 
        onclick="window.handleProfileClick()"
        class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors"
      >
         Voir mon profil
      </button>
    </div>
  `:`
      <div class="p-3 min-w-[200px]">
        <div class="flex items-center space-x-3 mb-3">
          <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
            <span class="text-blue-600 font-bold text-lg"></span>
          </div>
          <div>
            <h3 class="font-semibold text-gray-900">Utilisateur</h3>
            <p class="text-sm text-blue-600">En ligne</p>
          </div>
        </div>
        
        <div class="text-xs text-gray-600 mb-3">
           Votre position actuelle
        </div>
        
        <button 
          onclick="window.handleProfileClick()"
          class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors"
        >
           Voir mon profil
        </button>
      </div>
    `,q_=(r,i,a)=>{const c=r.type==="itinerant",h=r.distance?` ${Number(r.distance||0).toFixed(1)} km`:"",f=r.rating?` ${Number(r.rating||0).toFixed(1)}`:" Non not";return`
    <div class="p-4 min-w-[250px]">
      <!-- Header avec icne commerce -->
      <div class="flex items-center space-x-3 mb-3">
        <div class="text-2xl">
          ${c?"":""}
        </div>
        <div class="flex-1">
          <h3 class="font-semibold text-gray-900 text-base">${r.name}</h3>
          <p class="text-sm text-gray-600">
            ${c?"Commerce ambulant":"Commerce fixe"}
            ${r.isVerified?" ":""}
          </p>
        </div>
      </div>

      <!-- Description -->
      ${r.description?`
        <p class="text-sm text-gray-700 mb-3 line-clamp-2">${r.description}</p>
      `:""}

      <!-- Informations -->
      <div class="space-y-2 mb-4">
        <div class="flex items-center justify-between text-sm">
          <span class="text-gray-600">${f}</span>
          <span class="text-gray-600">${h}</span>
        </div>
        
        ${r.category?`
          <div class="text-sm">
            <span class="inline-block bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full text-xs">
              ${r.category}
            </span>
          </div>
        `:""}

        ${c&&r.isOnline?`
          <div class="text-sm text-green-600 font-medium">
             En ligne - Position mise  jour
          </div>
        `:""}
      </div>

      <!-- Actions -->
      <div class="space-y-2">
        <button 
          onclick="window.handleProductsClick('${r.id}')"
          class="w-full bg-emerald-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-emerald-600 transition-colors"
        >
           Voir les produits
        </button>
        
        ${c?`
          <button 
            onclick="window.handleTrackClick('${r.id}')"
            class="w-full bg-amber-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-amber-600 transition-colors"
          >
             Suivre le trajet
          </button>
        `:""}
        
        <button 
          onclick="window.handleCommerceDetail('${r.id}')"
          class="w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"
        >
           Dtails du commerce
        </button>
      </div>
    </div>
  `},G_=`
<style>
@keyframes ping {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  75%, 100% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0;
  }
}

.custom-marker {
  background: transparent !important;
  border: none !important;
}

.leaflet-popup-content-wrapper {
  border-radius: 12px !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

.leaflet-popup-tip {
  background: white !important;
}
</style>
`,Xd={mapRefreshInterval:15,autoRefreshEnabled:!0,ambulantTrackingInterval:30,ambulantAutoTrack:!0,searchRadius:50,showUserLocation:!0,showTrackingIndicator:!0,showLastUpdate:!0,animateMovements:!0};class K_{constructor(){xn(this,"settings");xn(this,"refreshTimer",null);xn(this,"listeners",new Set);this.settings=this.loadSettings()}loadSettings(){try{const i=localStorage.getItem("mapSettings");if(i)return{...Xd,...JSON.parse(i)}}catch(i){console.warn("Erreur lors du chargement des paramtres carte:",i)}return{...Xd}}saveSettings(){try{localStorage.setItem("mapSettings",JSON.stringify(this.settings))}catch(i){console.warn("Erreur lors de la sauvegarde des paramtres carte:",i)}}getSettings(){return{...this.settings}}updateSettings(i){this.settings={...this.settings,...i},this.saveSettings(),this.notifyListeners(),("mapRefreshInterval"in i||"autoRefreshEnabled"in i)&&this.setupRefreshTimer()}setupRefreshTimer(){if(this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.settings.autoRefreshEnabled&&this.settings.mapRefreshInterval>0){const i=this.settings.mapRefreshInterval*60*1e3;this.refreshTimer=setInterval(()=>{window.dispatchEvent(new CustomEvent("map-auto-refresh",{detail:{timestamp:new Date,interval:this.settings.mapRefreshInterval}}))},i),console.log(` Rafrachissement automatique configur: ${this.settings.mapRefreshInterval} minutes`)}}forceRefresh(){window.dispatchEvent(new CustomEvent("map-force-refresh",{detail:{timestamp:new Date}}))}addListener(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notifyListeners(){this.listeners.forEach(i=>{try{i(this.settings)}catch(a){console.error("Erreur dans le listener de paramtres carte:",a)}})}getTrackingSettings(){return{updateInterval:this.settings.ambulantTrackingInterval*1e3,maxRetries:3,timeout:1e4}}cleanup(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.listeners.clear()}resetToDefaults(){this.settings={...Xd},this.saveSettings(),this.notifyListeners(),this.setupRefreshTimer()}getNextRefreshTime(){if(!this.settings.autoRefreshEnabled||!this.refreshTimer)return null;const i=this.settings.mapRefreshInterval*60*1e3;return new Date(Date.now()+i)}}const vn=new K_;vn.setupRefreshTimer();class J_{constructor(){xn(this,"trackedCommerces",new Map);xn(this,"trackingIntervals",new Map);xn(this,"trackingCallbacks",new Map);xn(this,"settings",{updateInterval:3e4,maxRetries:3,timeout:1e4});this.updateSettingsFromConfig(),vn.addListener(i=>{this.updateSettingsFromConfig(),this.restartAllTracking()})}updateSettingsFromConfig(){const i=vn.getSettings();this.settings={updateInterval:i.ambulantTrackingInterval*1e3,maxRetries:3,timeout:1e4}}restartAllTracking(){const i=Array.from(this.trackingCallbacks.entries());this.stopAllTracking(),i.forEach(([a,c])=>{console.log(` Redmarrage du suivi pour commerce ${a} avec nouvel intervalle: ${this.settings.updateInterval}ms`),this.startTracking(a,c)})}configure(i){this.settings={...this.settings,...i}}startTracking(i,a){this.stopTracking(i),this.trackingCallbacks.set(i,a);const c=setInterval(async()=>{try{const h=await this.fetchCommerceLocation(i);h&&(this.trackedCommerces.set(i,h),a(h),console.log(` Position mise  jour: ${h.name} (${h.latitude.toFixed(4)}, ${h.longitude.toFixed(4)})`))}catch(h){console.error(` Erreur lors du suivi du commerce ${i}:`,h)}},this.settings.updateInterval);this.trackingIntervals.set(i,c),console.log(` Dmarrage du suivi pour commerce ${i}, intervalle: ${this.settings.updateInterval/1e3}s`),this.fetchCommerceLocation(i).then(h=>{h&&(this.trackedCommerces.set(i,h),a(h))}).catch(h=>{console.error(` Erreur lors de la premire mise  jour du commerce ${i}:`,h)})}stopTracking(i){const a=this.trackingIntervals.get(i);a&&(clearInterval(a),this.trackingIntervals.delete(i),console.log(` Arrt du suivi pour commerce ${i}`)),this.trackedCommerces.delete(i),this.trackingCallbacks.delete(i)}stopAllTracking(){this.trackingIntervals.forEach(i=>{clearInterval(i)}),this.trackingIntervals.clear(),this.trackedCommerces.clear(),this.trackingCallbacks.clear(),console.log(" Arrt de tous les suivis")}async fetchCommerceLocation(i){var a;try{const c=await fetch(`/api/v1/commerces/${i}/location`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},signal:AbortSignal.timeout(this.settings.timeout)});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=await c.json();return{id:h.id,name:h.name,type:"itinerant",latitude:h.latitude,longitude:h.longitude,lastUpdate:new Date(h.last_update||Date.now()),isOnline:h.is_online||!1,route:h.route?{startTime:new Date(h.route.start_time),endTime:new Date(h.route.end_time),waypoints:((a=h.route.waypoints)==null?void 0:a.map(f=>({latitude:f.latitude,longitude:f.longitude,timestamp:new Date(f.timestamp),activity:f.activity})))||[]}:void 0}}catch(c){return console.error("Erreur lors de la rcupration de la position:",c),null}}simulateMovement(i,a){let c=a.latitude,h=a.longitude;const f=[{lat:.001,lng:.001},{lat:.001,lng:-.001},{lat:-.001,lng:-.001},{lat:-.001,lng:.001}];let g=0;this.startTracking(i,()=>{});const w=setInterval(()=>{const y=f[g%f.length];c+=y.lat,h+=y.lng,g++;const _={id:i,name:`Commerce Ambulant ${i}`,type:"itinerant",latitude:c,longitude:h,lastUpdate:new Date,isOnline:!0,route:{startTime:new Date(Date.now()-36e5),endTime:new Date(Date.now()+36e5),waypoints:[]}};this.trackedCommerces.set(i,_),window.dispatchEvent(new CustomEvent("commerce-location-update",{detail:{commerceId:i,commerce:_}}))},this.settings.updateInterval);this.trackingIntervals.set(i,w)}getTrackedCommerces(){return Array.from(this.trackedCommerces.values())}getTrackedCommerce(i){return this.trackedCommerces.get(i)}isTracking(i){return this.trackingIntervals.has(i)}updateTrackingInterval(i,a){if(this.isTracking(i)){this.stopTracking(i);const c=this.settings.updateInterval;this.settings.updateInterval=a,console.log(`Suivi du commerce ${i} arrt. Redmarrez avec le nouvel intervalle.`),this.settings.updateInterval=c}}}const Ni=new J_;function Q_(){return D.useEffect(()=>{const r="leaflet-custom-styles";if(!document.getElementById(r)){const i=document.createElement("div");i.id=r,i.innerHTML=G_,document.head.appendChild(i)}},[]),null}function X_({commerces:r}){const i=xs();return D.useEffect(()=>(window.handleProfileClick=()=>{i("/profile")},window.handleProductsClick=a=>{i(`/products?commerce=${a}`)},window.handleTrackClick=a=>{const c=r.find(h=>h.id===a);c&&c.type==="itinerant"&&Ni.startTracking(a,h=>{console.log("Position mise  jour:",h),window.dispatchEvent(new CustomEvent("commerce-location-update",{detail:{commerceId:a,commerce:h}}))})},window.handleCommerceDetail=a=>{i(`/commerces/${a}`)},()=>{delete window.handleProfileClick,delete window.handleProductsClick,delete window.handleTrackClick,delete window.handleCommerceDetail}),[i,r]),null}function Y_({position:r}){const{user:i}=Me(h=>h.auth),a=xs(),c=()=>{a("/profile")};return s.jsx(B0,{position:[r.latitude,r.longitude],icon:U0("user",{isOnline:!0}),eventHandlers:{click:c},children:s.jsx(F0,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:Z_(i)}})})})}function ew({commerces:r,onCommerceClick:i,selectedCommerce:a}){const[c,h]=D.useState(new Map);return D.useEffect(()=>{const f=g=>{const{commerceId:w,commerce:y}=g.detail;h(_=>{const j=new Map(_);return j.set(w,y),j})};return window.addEventListener("commerce-location-update",f),()=>{window.removeEventListener("commerce-location-update",f)}},[]),D.useEffect(()=>(r.filter(f=>f.type==="itinerant"&&f.isOnline).forEach(f=>{Ni.isTracking(f.id)||Ni.simulateMovement(f.id,{latitude:f.latitude,longitude:f.longitude})}),()=>{Ni.stopAllTracking()}),[r]),s.jsx(s.Fragment,{children:r.map(f=>{if(!f.latitude||!f.longitude)return null;const g=c.get(f.id),w=g?[g.latitude,g.longitude]:[f.latitude,f.longitude],y=(a==null?void 0:a.id)===f.id,_=f.type==="itinerant",j=f.isOnline||!1;let C="fixed_commerce";return _&&(C="ambulant_commerce"),s.jsx(B0,{position:w,icon:U0(C,{isOnline:j,hasNotification:y}),eventHandlers:{click:()=>i(f)},zIndexOffset:y?1e3:0,children:s.jsx(F0,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:q_({...f,isOnline:j})}})})},f.id)})})}function tw({selectedCommerce:r,userLocation:i,zoom:a}){const c=U_();return D.useEffect(()=>{r&&r.latitude&&r.longitude?c.flyTo([r.latitude,r.longitude],a+2,{animate:!0,duration:1}):i&&c.flyTo([i.latitude,i.longitude],a,{animate:!0,duration:1})},[c,r,i,a]),null}const $0=({userLocation:r,commerces:i,onCommerceClick:a,height:c,zoom:h,center:f,selectedCommerce:g})=>{const w=D.useRef(null);return s.jsxs("div",{style:{height:c,width:"100%"},className:"relative",children:[s.jsx(Q_,{}),s.jsx(X_,{commerces:i}),s.jsxs(W_,{center:f,zoom:h,style:{height:"100%",width:"100%"},className:"rounded-xl",ref:w,children:[s.jsx(H_,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(tw,{selectedCommerce:g,userLocation:r,zoom:h}),r&&s.jsx(Y_,{position:r}),s.jsx(ew,{commerces:i,onCommerceClick:a,selectedCommerce:g})]}),Ni.getTrackedCommerces().length>0&&s.jsx("div",{className:"absolute top-4 right-4 bg-amber-100 border border-amber-300 rounded-lg px-3 py-2 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-amber-800 font-medium",children:[Ni.getTrackedCommerces().length," commerce",Ni.getTrackedCommerces().length>1?"s":""," suivi",Ni.getTrackedCommerces().length>1?"s":""]})]})})]})};function nw({onLocationFound:r,className:i="",children:a}){const[c,h]=D.useState(!1),f=lt(),g=async()=>{if(!navigator.geolocation){f(Ec("La golocalisation n'est pas supporte par ce navigateur"));return}h(!0),f(u_());const w={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};try{navigator.geolocation.getCurrentPosition(y=>{const _={latitude:y.coords.latitude,longitude:y.coords.longitude};f(k0(_)),f(op(!0)),r==null||r(_),h(!1)},y=>{let _="Erreur de golocalisation";switch(y.code){case y.PERMISSION_DENIED:_="Permission de golocalisation refuse",f(op(!1));break;case y.POSITION_UNAVAILABLE:_="Position non disponible";break;case y.TIMEOUT:_="Dlai de golocalisation dpass";break}f(Ec(_)),h(!1)},w)}catch{f(Ec("Erreur lors de la demande de golocalisation")),h(!1)}};return s.jsx("button",{onClick:g,disabled:c,className:`
        inline-flex items-center justify-center px-4 py-2 
        bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300
        text-white font-medium rounded-lg
        transition-colors duration-200
        ${c?"cursor-not-allowed":"cursor-pointer"}
        ${i}
      `,title:"Obtenir ma position",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Localisation..."]}):s.jsx(s.Fragment,{children:a||s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-2",children:""}),"Ma position"]})})})}function W0(r){var i,a,c="";if(typeof r=="string"||typeof r=="number")c+=r;else if(typeof r=="object")if(Array.isArray(r)){var h=r.length;for(i=0;i<h;i++)r[i]&&(a=W0(r[i]))&&(c&&(c+=" "),c+=a)}else for(a in r)r[a]&&(c&&(c+=" "),c+=a);return c}function rw(){for(var r,i,a=0,c="",h=arguments.length;a<h;a++)(r=arguments[a])&&(i=W0(r))&&(c&&(c+=" "),c+=i);return c}const Oh="-",iw=r=>{const i=aw(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:c}=r;return{getClassGroupId:g=>{const w=g.split(Oh);return w[0]===""&&w.length!==1&&w.shift(),H0(w,i)||sw(g)},getConflictingClassGroupIds:(g,w)=>{const y=a[g]||[];return w&&c[g]?[...y,...c[g]]:y}}},H0=(r,i)=>{var g;if(r.length===0)return i.classGroupId;const a=r[0],c=i.nextPart.get(a),h=c?H0(r.slice(1),c):void 0;if(h)return h;if(i.validators.length===0)return;const f=r.join(Oh);return(g=i.validators.find(({validator:w})=>w(f)))==null?void 0:g.classGroupId},hp=/^\[(.+)\]$/,sw=r=>{if(hp.test(r)){const i=hp.exec(r)[1],a=i==null?void 0:i.substring(0,i.indexOf(":"));if(a)return"arbitrary.."+a}},aw=r=>{const{theme:i,classGroups:a}=r,c={nextPart:new Map,validators:[]};for(const h in a)vh(a[h],c,h,i);return c},vh=(r,i,a,c)=>{r.forEach(h=>{if(typeof h=="string"){const f=h===""?i:fp(i,h);f.classGroupId=a;return}if(typeof h=="function"){if(ow(h)){vh(h(c),i,a,c);return}i.validators.push({validator:h,classGroupId:a});return}Object.entries(h).forEach(([f,g])=>{vh(g,fp(i,f),a,c)})})},fp=(r,i)=>{let a=r;return i.split(Oh).forEach(c=>{a.nextPart.has(c)||a.nextPart.set(c,{nextPart:new Map,validators:[]}),a=a.nextPart.get(c)}),a},ow=r=>r.isThemeGetter,lw=r=>{if(r<1)return{get:()=>{},set:()=>{}};let i=0,a=new Map,c=new Map;const h=(f,g)=>{a.set(f,g),i++,i>r&&(i=0,c=a,a=new Map)};return{get(f){let g=a.get(f);if(g!==void 0)return g;if((g=c.get(f))!==void 0)return h(f,g),g},set(f,g){a.has(f)?a.set(f,g):h(f,g)}}},yh="!",_h=":",cw=_h.length,uw=r=>{const{prefix:i,experimentalParseClassName:a}=r;let c=h=>{const f=[];let g=0,w=0,y=0,_;for(let z=0;z<h.length;z++){let T=h[z];if(g===0&&w===0){if(T===_h){f.push(h.slice(y,z)),y=z+cw;continue}if(T==="/"){_=z;continue}}T==="["?g++:T==="]"?g--:T==="("?w++:T===")"&&w--}const j=f.length===0?h:h.substring(y),C=dw(j),O=C!==j,$=_&&_>y?_-y:void 0;return{modifiers:f,hasImportantModifier:O,baseClassName:C,maybePostfixModifierPosition:$}};if(i){const h=i+_h,f=c;c=g=>g.startsWith(h)?f(g.substring(h.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:g,maybePostfixModifierPosition:void 0}}if(a){const h=c;c=f=>a({className:f,parseClassName:h})}return c},dw=r=>r.endsWith(yh)?r.substring(0,r.length-1):r.startsWith(yh)?r.substring(1):r,hw=r=>{const i=Object.fromEntries(r.orderSensitiveModifiers.map(c=>[c,!0]));return c=>{if(c.length<=1)return c;const h=[];let f=[];return c.forEach(g=>{g[0]==="["||i[g]?(h.push(...f.sort(),g),f=[]):f.push(g)}),h.push(...f.sort()),h}},fw=r=>({cache:lw(r.cacheSize),parseClassName:uw(r),sortModifiers:hw(r),...iw(r)}),mw=/\s+/,pw=(r,i)=>{const{parseClassName:a,getClassGroupId:c,getConflictingClassGroupIds:h,sortModifiers:f}=i,g=[],w=r.trim().split(mw);let y="";for(let _=w.length-1;_>=0;_-=1){const j=w[_],{isExternal:C,modifiers:O,hasImportantModifier:$,baseClassName:z,maybePostfixModifierPosition:T}=a(j);if(C){y=j+(y.length>0?" "+y:y);continue}let k=!!T,P=c(k?z.substring(0,T):z);if(!P){if(!k){y=j+(y.length>0?" "+y:y);continue}if(P=c(z),!P){y=j+(y.length>0?" "+y:y);continue}k=!1}const R=f(O).join(":"),F=$?R+yh:R,B=F+P;if(g.includes(B))continue;g.push(B);const J=h(P,k);for(let se=0;se<J.length;++se){const ae=J[se];g.push(F+ae)}y=j+(y.length>0?" "+y:y)}return y};function gw(){let r=0,i,a,c="";for(;r<arguments.length;)(i=arguments[r++])&&(a=V0(i))&&(c&&(c+=" "),c+=a);return c}const V0=r=>{if(typeof r=="string")return r;let i,a="";for(let c=0;c<r.length;c++)r[c]&&(i=V0(r[c]))&&(a&&(a+=" "),a+=i);return a};function xw(r,...i){let a,c,h,f=g;function g(y){const _=i.reduce((j,C)=>C(j),r());return a=fw(_),c=a.cache.get,h=a.cache.set,f=w,w(y)}function w(y){const _=c(y);if(_)return _;const j=pw(y,a);return h(y,j),j}return function(){return f(gw.apply(null,arguments))}}const Nt=r=>{const i=a=>a[r]||[];return i.isThemeGetter=!0,i},Z0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,q0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vw=/^\d+\/\d+$/,yw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_w=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ww=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,da=r=>vw.test(r),ze=r=>!!r&&!Number.isNaN(Number(r)),wi=r=>!!r&&Number.isInteger(Number(r)),Yd=r=>r.endsWith("%")&&ze(r.slice(0,-1)),zr=r=>yw.test(r),Nw=()=>!0,kw=r=>_w.test(r)&&!ww.test(r),G0=()=>!1,Cw=r=>bw.test(r),Sw=r=>jw.test(r),Pw=r=>!pe(r)&&!ge(r),Ew=r=>_a(r,Q0,G0),pe=r=>Z0.test(r),os=r=>_a(r,X0,kw),eh=r=>_a(r,zw,ze),mp=r=>_a(r,K0,G0),Lw=r=>_a(r,J0,Sw),vc=r=>_a(r,Y0,Cw),ge=r=>q0.test(r),ko=r=>wa(r,X0),Tw=r=>wa(r,Aw),pp=r=>wa(r,K0),Mw=r=>wa(r,Q0),Rw=r=>wa(r,J0),yc=r=>wa(r,Y0,!0),_a=(r,i,a)=>{const c=Z0.exec(r);return c?c[1]?i(c[1]):a(c[2]):!1},wa=(r,i,a=!1)=>{const c=q0.exec(r);return c?c[1]?i(c[1]):a:!1},K0=r=>r==="position"||r==="percentage",J0=r=>r==="image"||r==="url",Q0=r=>r==="length"||r==="size"||r==="bg-size",X0=r=>r==="length",zw=r=>r==="number",Aw=r=>r==="family-name",Y0=r=>r==="shadow",Ow=()=>{const r=Nt("color"),i=Nt("font"),a=Nt("text"),c=Nt("font-weight"),h=Nt("tracking"),f=Nt("leading"),g=Nt("breakpoint"),w=Nt("container"),y=Nt("spacing"),_=Nt("radius"),j=Nt("shadow"),C=Nt("inset-shadow"),O=Nt("text-shadow"),$=Nt("drop-shadow"),z=Nt("blur"),T=Nt("perspective"),k=Nt("aspect"),P=Nt("ease"),R=Nt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...B(),ge,pe],se=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto","contain","none"],te=()=>[ge,pe,y],q=()=>[da,"full","auto",...te()],Re=()=>[wi,"none","subgrid",ge,pe],Fe=()=>["auto",{span:["full",wi,ge,pe]},wi,ge,pe],De=()=>[wi,"auto",ge,pe],Je=()=>["auto","min","max","fr",ge,pe],Ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],yt=()=>["start","end","center","stretch","center-safe","end-safe"],Ae=()=>["auto",...te()],Ue=()=>[da,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...te()],H=()=>[r,ge,pe],_e=()=>[...B(),pp,mp,{position:[ge,pe]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",Mw,Ew,{size:[ge,pe]}],Q=()=>[Yd,ko,os],ce=()=>["","none","full",_,ge,pe],le=()=>["",ze,ko,os],he=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[ze,Yd,pp,mp],Te=()=>["","none",z,ge,pe],Ve=()=>["none",ze,ge,pe],ct=()=>["none",ze,ge,pe],wn=()=>[ze,ge,pe],sn=()=>[da,"full",...te()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zr],breakpoint:[zr],color:[Nw],container:[zr],"drop-shadow":[zr],ease:["in","out","in-out"],font:[Pw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zr],shadow:[zr],spacing:["px",ze],text:[zr],"text-shadow":[zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",da,pe,ge,k]}],container:["container"],columns:[{columns:[ze,pe,ge,w]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:ae()}],"overscroll-x":[{"overscroll-x":ae()}],"overscroll-y":[{"overscroll-y":ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",ge,pe]}],basis:[{basis:[da,"full","auto",w,...te()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,da,"auto","initial","none",pe]}],grow:[{grow:["",ze,ge,pe]}],shrink:[{shrink:["",ze,ge,pe]}],order:[{order:[wi,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":Re()}],"col-start-end":[{col:Fe()}],"col-start":[{"col-start":De()}],"col-end":[{"col-end":De()}],"grid-rows":[{"grid-rows":Re()}],"row-start-end":[{row:Fe()}],"row-start":[{"row-start":De()}],"row-end":[{"row-end":De()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Je()}],"auto-rows":[{"auto-rows":Je()}],gap:[{gap:te()}],"gap-x":[{"gap-x":te()}],"gap-y":[{"gap-y":te()}],"justify-content":[{justify:[...Ye(),"normal"]}],"justify-items":[{"justify-items":[...yt(),"normal"]}],"justify-self":[{"justify-self":["auto",...yt()]}],"align-content":[{content:["normal",...Ye()]}],"align-items":[{items:[...yt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...yt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ye()}],"place-items":[{"place-items":[...yt(),"baseline"]}],"place-self":[{"place-self":["auto",...yt()]}],p:[{p:te()}],px:[{px:te()}],py:[{py:te()}],ps:[{ps:te()}],pe:[{pe:te()}],pt:[{pt:te()}],pr:[{pr:te()}],pb:[{pb:te()}],pl:[{pl:te()}],m:[{m:Ae()}],mx:[{mx:Ae()}],my:[{my:Ae()}],ms:[{ms:Ae()}],me:[{me:Ae()}],mt:[{mt:Ae()}],mr:[{mr:Ae()}],mb:[{mb:Ae()}],ml:[{ml:Ae()}],"space-x":[{"space-x":te()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":te()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ue()}],w:[{w:[w,"screen",...Ue()]}],"min-w":[{"min-w":[w,"screen","none",...Ue()]}],"max-w":[{"max-w":[w,"screen","none","prose",{screen:[g]},...Ue()]}],h:[{h:["screen","lh",...Ue()]}],"min-h":[{"min-h":["screen","lh","none",...Ue()]}],"max-h":[{"max-h":["screen","lh",...Ue()]}],"font-size":[{text:["base",a,ko,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[c,ge,eh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yd,pe]}],"font-family":[{font:[Tw,pe,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[h,ge,pe]}],"line-clamp":[{"line-clamp":[ze,"none",ge,eh]}],leading:[{leading:[f,...te()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",ge,os]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[ze,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:te()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,ge,pe],radial:["",ge,pe],conic:[wi,ge,pe]},Rw,Lw]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,ge,pe]}],"outline-w":[{outline:["",ze,ko,os]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",j,yc,vc]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",C,yc,vc]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[ze,os]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",O,yc,vc]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[ze,ge,pe]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:Te()}],brightness:[{brightness:[ze,ge,pe]}],contrast:[{contrast:[ze,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",$,yc,vc]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",ze,ge,pe]}],"hue-rotate":[{"hue-rotate":[ze,ge,pe]}],invert:[{invert:["",ze,ge,pe]}],saturate:[{saturate:[ze,ge,pe]}],sepia:[{sepia:["",ze,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[ze,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[ze,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",ze,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[ze,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[ze,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":te()}],"border-spacing-x":[{"border-spacing-x":te()}],"border-spacing-y":[{"border-spacing-y":te()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",ge,pe]}],ease:[{ease:["linear","initial",P,ge,pe]}],delay:[{delay:[ze,ge,pe]}],animate:[{animate:["none",R,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ge,pe]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:ct()}],"scale-x":[{"scale-x":ct()}],"scale-y":[{"scale-y":ct()}],"scale-z":[{"scale-z":ct()}],"scale-3d":["scale-3d"],skew:[{skew:wn()}],"skew-x":[{"skew-x":wn()}],"skew-y":[{"skew-y":wn()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:sn()}],"translate-x":[{"translate-x":sn()}],"translate-y":[{"translate-y":sn()}],"translate-z":[{"translate-z":sn()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":te()}],"scroll-mx":[{"scroll-mx":te()}],"scroll-my":[{"scroll-my":te()}],"scroll-ms":[{"scroll-ms":te()}],"scroll-me":[{"scroll-me":te()}],"scroll-mt":[{"scroll-mt":te()}],"scroll-mr":[{"scroll-mr":te()}],"scroll-mb":[{"scroll-mb":te()}],"scroll-ml":[{"scroll-ml":te()}],"scroll-p":[{"scroll-p":te()}],"scroll-px":[{"scroll-px":te()}],"scroll-py":[{"scroll-py":te()}],"scroll-ps":[{"scroll-ps":te()}],"scroll-pe":[{"scroll-pe":te()}],"scroll-pt":[{"scroll-pt":te()}],"scroll-pr":[{"scroll-pr":te()}],"scroll-pb":[{"scroll-pb":te()}],"scroll-pl":[{"scroll-pl":te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[ze,ko,os,eh]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Iw=xw(Ow);function ur(...r){return Iw(rw(r))}const tn=({variant:r="primary",size:i="md",loading:a=!1,disabled:c,className:h,children:f,...g})=>{const w="inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-40 disabled:cursor-not-allowed",y={primary:"bg-brand-600 text-white hover:bg-brand-700 shadow-card focus:ring-brand-500",secondary:"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50 focus:ring-brand-500",accent:"bg-accent-500 text-slate-900 hover:bg-accent-700 hover:text-white focus:ring-accent-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-brand-500"},_={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};return s.jsxs("button",{className:ur(w,y[r],_[i],h),disabled:c||a,...g,children:[a&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),f]})},To=({variant:r="brand",children:i,className:a})=>{const c="inline-flex items-center gap-1 rounded-pill px-3 py-1 text-xs font-medium",h={brand:"bg-brand-50 text-brand-700",accent:"bg-accent-100 text-accent-700",success:"bg-green-50 text-green-700",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-700",info:"bg-blue-50 text-blue-700"};return s.jsx("span",{className:ur(c,h[r],a),children:i})},nt=({children:r,className:i})=>s.jsx("div",{className:ur("rounded-lg bg-white shadow-card border border-slate-100",i),children:r}),Dw=({children:r,className:i})=>s.jsx("div",{className:ur("p-5 border-b border-slate-100",i),children:r}),Bw=({children:r,className:i})=>s.jsx("div",{className:ur("p-5",i),children:r}),Fw=({children:r,className:i})=>s.jsx("div",{className:ur("p-4 border-t border-slate-100 flex justify-end gap-3",i),children:r});nt.Header=Dw;nt.Body=Bw;nt.Footer=Fw;const Gc=({label:r,error:i,helpText:a,className:c,id:h,...f})=>{const g=h||(r==null?void 0:r.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("label",{htmlFor:g,className:"block text-sm font-medium text-slate-700",children:r}),s.jsx("input",{id:g,className:ur("block w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600 text-slate-900 transition-all duration-200",i&&"border-red-300 focus:border-red-500 focus:ring-red-500",c),...f}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),a&&!i&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a})]})},Uw=({label:r,error:i,helpText:a,className:c,id:h,...f})=>{const g=h||(r==null?void 0:r.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("label",{htmlFor:g,className:"block text-sm font-medium text-slate-700",children:r}),s.jsx("textarea",{id:g,className:ur("block w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600 text-slate-900 transition-all duration-200 min-h-[120px] resize-none",i&&"border-red-300 focus:border-red-500 focus:ring-red-500",c),...f}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),a&&!i&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a})]})},$w=({label:r,error:i,helpText:a,className:c,id:h,children:f,...g})=>{const w=h||(r==null?void 0:r.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("label",{htmlFor:w,className:"block text-sm font-medium text-slate-700",children:r}),s.jsx("select",{id:w,className:ur("block w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600 text-slate-900 transition-all duration-200 pr-8",i&&"border-red-300 focus:border-red-500 focus:ring-red-500",c),...g,children:f}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),a&&!i&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a})]})};Gc.Textarea=Uw;Gc.Select=$w;const Io=({variant:r="info",children:i,className:a,onClose:c})=>{const h="rounded-md p-4 flex items-start gap-3 shadow-card",f={info:"bg-blue-50 text-blue-900 border border-blue-200",success:"bg-green-50 text-green-900 border border-green-200",warning:"bg-yellow-50 text-yellow-900 border border-yellow-200",error:"bg-red-50 text-red-900 border border-red-200"},g={info:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};return s.jsxs("div",{className:ur(h,f[r],a),children:[g[r],s.jsx("div",{className:"flex-1 text-sm",children:i}),c&&s.jsx("button",{onClick:c,className:"flex-shrink-0 ml-auto pl-3 -mr-1 -mt-1",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},Pi=({isOpen:r,onClose:i,title:a,size:c="lg",children:h})=>{const f=xs();D.useEffect(()=>{const y=_=>{_.key==="Escape"&&g()};return r&&(document.addEventListener("keydown",y),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",y),document.body.style.overflow="unset"}},[r]);const g=()=>{i(),f("/")};if(!r)return null;const w={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl w-full mx-4"};return s.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:g}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-hidden ${w[c]} z-[10000]`,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a}),s.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Fermer la modal",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-4rem)]",children:h})]})})]})},Ww=({isOpen:r,onClose:i})=>{const[a,c]=D.useState(vn.getSettings()),[h,f]=D.useState(!1);D.useEffect(()=>{r&&(c(vn.getSettings()),f(!1))},[r]);const g=(_,j)=>{c(C=>({...C,[_]:j})),f(!0)},w=()=>{vn.updateSettings(a),f(!1),i()},y=()=>{vn.resetToDefaults(),c(vn.getSettings()),f(!1)};return r?s.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-hidden w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" Paramtres de la carte"}),s.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Fermer les paramtres",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-8rem)] p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Rafrachissement automatique"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Activer le rafrachissement automatique"}),s.jsx("input",{type:"checkbox",checked:a.autoRefreshEnabled,onChange:_=>g("autoRefreshEnabled",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),a.autoRefreshEnabled&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalle de rafrachissement (minutes)"}),s.jsx("input",{type:"range",min:"5",max:"60",step:"5",value:a.mapRefreshInterval,onChange:_=>g("mapRefreshInterval",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"5 min"}),s.jsxs("span",{className:"font-medium",children:[a.mapRefreshInterval," min"]}),s.jsx("span",{children:"60 min"})]})]})]}),s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Commerces ambulants"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suivre automatiquement les commerces ambulants"}),s.jsx("input",{type:"checkbox",checked:a.ambulantAutoTrack,onChange:_=>g("ambulantAutoTrack",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalle de suivi (secondes)"}),s.jsx("input",{type:"range",min:"10",max:"300",step:"10",value:a.ambulantTrackingInterval,onChange:_=>g("ambulantTrackingInterval",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"10s"}),s.jsxs("span",{className:"font-medium",children:[a.ambulantTrackingInterval,"s"]}),s.jsx("span",{children:"5min"})]})]})]}),s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Golocalisation"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rayon de recherche (km)"}),s.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:a.searchRadius,onChange:_=>g("searchRadius",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"5 km"}),s.jsxs("span",{className:"font-medium",children:[a.searchRadius," km"]}),s.jsx("span",{children:"100 km"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Afficher ma position sur la carte"}),s.jsx("input",{type:"checkbox",checked:a.showUserLocation,onChange:_=>g("showUserLocation",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]})]}),s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Interface"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Afficher l'indicateur de suivi"}),s.jsx("input",{type:"checkbox",checked:a.showTrackingIndicator,onChange:_=>g("showTrackingIndicator",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Afficher l'heure de dernire mise  jour"}),s.jsx("input",{type:"checkbox",checked:a.showLastUpdate,onChange:_=>g("showLastUpdate",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Animer les mouvements"}),s.jsx("input",{type:"checkbox",checked:a.animateMovements,onChange:_=>g("animateMovements",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex justify-between",children:[s.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" Rinitialiser"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{onClick:w,disabled:!h,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${h?"text-white bg-emerald-500 hover:bg-emerald-600":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,children:" Sauvegarder"})]})]})]})})]}):null},Hw=({children:r})=>{const i=lt(),a=xa(),{commerces:c,loading:h}=Me(B=>B.commerce),{currentLocation:f,loading:g}=Me(B=>B.location),[w,y]=D.useState(null),[_,j]=D.useState(!1),[C,O]=D.useState(""),[$,z]=D.useState(new Date),[T,k]=D.useState(!1);D.useEffect(()=>{!f&&!g&&i(ha())},[i,f,g]);const P=()=>{if(f){const B=vn.getSettings();i(Ci({location:f,radius:B.searchRadius})),z(new Date),console.log(` Rafrachissement des commerces (rayon: ${B.searchRadius}km)`)}};D.useEffect(()=>{f&&Array.isArray(c)&&c.length===0&&!h&&P()},[f,i,c,h]),D.useEffect(()=>{const B=()=>{console.log(" Rafrachissement automatique dclench"),P()},J=()=>{console.log(" Rafrachissement forc dclench"),P()};return window.addEventListener("map-auto-refresh",B),window.addEventListener("map-force-refresh",J),()=>{window.removeEventListener("map-auto-refresh",B),window.removeEventListener("map-force-refresh",J)}},[f]),D.useEffect(()=>{const B=a.pathname;B==="/"?j(!1):B==="/commerces"?(O("Commerces locaux"),j(!0)):B==="/products"?(O("Catalogue produits"),j(!0)):B==="/orders"?(O("Mes commandes"),j(!0)):B==="/profile"?(O("Mon profil"),j(!0)):B==="/auth"?(O("Authentification"),j(!0)):B==="/checkout"?(O("Finaliser la commande"),j(!0)):B==="/cart"?(O("Mon panier"),j(!0)):B==="/interests"?(O("Manifestations d'intrt"),j(!0)):B==="/dashboard"?(O("Dashboard Vendeur"),j(!0)):B.startsWith("/commerces/")?(O("Dtails du commerce"),j(!0)):B.startsWith("/products/")?(O("Dtails du produit"),j(!0)):j(!1)},[a.pathname]);const R=B=>{y(B)},F=Array.isArray(c)?c:[];return s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s.jsx(k_,{}),s.jsxs("div",{className:"flex-1 transition-all duration-300 relative",style:{marginLeft:"var(--sidebar-width, 256px)"},children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white/95 backdrop-blur-sm shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace Golocalis"}),s.jsx("p",{className:"text-sm text-gray-600",children:f?`${F.length} commerce${F.length!==1?"s":""} dans un rayon de 50km`:"Activez la golocalisation pour dcouvrir les commerces prs de vous"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[!f&&s.jsx(nw,{onLocationFound:B=>{i(Ci({location:B,radius:50}))},className:"btn-primary",children:" Golocalisation"}),f&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-emerald-600",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Position active"})]}),s.jsx("button",{onClick:()=>k(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Paramtres de la carte",children:s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})}),s.jsx("div",{className:"h-full pt-20",children:s.jsx($0,{userLocation:f,commerces:F,onCommerceClick:R,height:"100%",zoom:f?12:6,center:f?[f.latitude,f.longitude]:[4.0511,9.7679]})}),g&&s.jsx("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Golocalisation en cours..."})]})}),h&&s.jsx("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Chargement des commerces..."})]})}),f&&F.length>0&&s.jsx("div",{className:"absolute bottom-6 right-6 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Statistiques"}),s.jsxs("p",{className:"text-gray-600",children:[F.length," commerces"]}),s.jsxs("p",{className:"text-gray-600",children:["Rayon: ",vn.getSettings().searchRadius,"km"]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-2",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["Dernire MAJ: ",$.toLocaleTimeString()]}),vn.getSettings().autoRefreshEnabled&&s.jsxs("p",{className:"text-xs text-emerald-600",children:[" Auto-refresh: ",vn.getSettings().mapRefreshInterval,"min"]}),s.jsx("button",{onClick:()=>vn.forceRefresh(),className:"mt-1 text-xs text-blue-600 hover:text-blue-800 underline",children:" Actualiser maintenant"})]})]})})]}),s.jsx(Pi,{isOpen:_,onClose:()=>j(!1),title:C,size:"xl",children:r}),s.jsx(Ww,{isOpen:T,onClose:()=>k(!1)})]})},Vw=({notification:r})=>{const i=lt();D.useEffect(()=>{if(r.duration&&r.duration>0){const f=setTimeout(()=>{i(lp(r.id))},r.duration);return()=>clearTimeout(f)}},[r.id,r.duration,i]);const a=()=>{i(lp(r.id))},c=()=>{switch(r.type){case"success":return s.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return s.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return s.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return s.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});default:return null}},h=()=>{const f="relative flex items-start p-4 mb-4 rounded-lg shadow-lg border-l-4 bg-white";switch(r.type){case"success":return`${f} border-green-400`;case"error":return`${f} border-red-400`;case"warning":return`${f} border-yellow-400`;case"info":return`${f} border-blue-400`;default:return`${f} border-gray-400`}};return s.jsxs("div",{className:`${h()} animate-slide-up`,children:[s.jsx("div",{className:"flex-shrink-0 mr-3 pt-0.5",children:c()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:r.title}),r.message&&s.jsx("p",{className:"text-sm text-gray-600",children:r.message})]}),s.jsx("button",{onClick:a,className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.duration&&r.duration>0&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b-lg overflow-hidden",children:s.jsx("div",{className:`h-full ${r.type==="success"?"bg-green-400":r.type==="error"?"bg-red-400":r.type==="warning"?"bg-yellow-400":"bg-blue-400"} transition-all ease-linear`,style:{animation:`shrinkProgress ${r.duration}ms linear forwards`}})}),s.jsx("style",{jsx:!0,children:`
        @keyframes shrinkProgress {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},Zw=()=>{const r=Me(i=>i.notification.notifications);return r.length===0?null:s.jsx("div",{className:"fixed top-20 right-4 space-y-2 z-50 max-w-sm",children:r.map(i=>s.jsx(Vw,{notification:i},i.id))})},qw=()=>{const r=lt(),{isOpen:i,items:a,totalItems:c,totalPrice:h,deliveryFee:f}=Me(j=>j.cart),g=()=>{r(a_(!1))},w=j=>{r(w0(j))},y=(j,C)=>{r(b0({itemId:j,quantity:C}))},_=()=>{r(j0())};return i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:g}),s.jsx("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl z-[9999] transform transition-transform duration-300",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Panier (",c,")"]}),s.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fermer le panier",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Panier vide"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Dcouvrez nos produits frais et ajoutez-les  votre panier"}),s.jsx(mt,{to:"/products",onClick:g,className:"btn-primary",children:"Voir les produits"})]}):s.jsxs("div",{className:"p-4 space-y-4",children:[a.map(j=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:j.product.imageUrl?s.jsx("img",{src:j.product.imageUrl,alt:j.product.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:j.product.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[j.unitPrice.toFixed(2)," / ",j.product.unit]}),j.product.commerce&&s.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.product.commerce.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>y(j.id,j.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors",disabled:j.quantity<=1,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"text-sm font-medium w-8 text-center",children:j.quantity}),s.jsx("button",{onClick:()=>y(j.id,j.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("button",{onClick:()=>w(j.id),className:"p-1 text-red-400 hover:text-red-600 transition-colors","aria-label":"Supprimer du panier",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},j.id)),a.length>0&&s.jsx("button",{onClick:_,className:"w-full text-sm text-red-600 hover:text-red-800 transition-colors py-2",children:"Vider le panier"})]})}),a.length>0&&s.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sous-total"}),s.jsxs("span",{children:[h.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Livraison"}),s.jsxs("span",{children:[f.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t border-gray-200 pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:[(h+f).toFixed(2),""]})]})]}),s.jsx(mt,{to:"/checkout",onClick:g,className:"btn-primary w-full text-center block",children:"Passer commande"})]})]})})]}):null},Gw=()=>{const r=lt(),{commerces:i,loading:a}=Me(k=>k.commerce),{currentLocation:c}=Me(k=>k.location),[h,f]=D.useState(""),[g,w]=D.useState(""),[y,_]=D.useState(0),[j,C]=D.useState(!1),O=["Tous","Alimentation gnrale","Fruits et lgumes","Bananes plantain","picerie fine","Produits bio","March local"];D.useEffect(()=>{c&&r(Ci({location:c,radius:50}))},[c,r]);const $=()=>{h.trim()?r(Cc({query:h,location:c||void 0,filters:{category:g||void 0,rating:y>0?y:void 0,verified:j||void 0}})):c&&r(Ci({location:c,radius:50}))},z=()=>{r(ha())},T=Array.isArray(i)?i.filter(k=>!(g&&g!=="Tous"&&k.category!==g||y>0&&(k.rating||0)<y||j&&!k.isVerified)):[];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-gray-600",children:[T.length," commerce",T.length!==1?"s":""," dans un rayon de 50km"]})}),!c&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:s.jsx("p",{className:"text-amber-800 text-sm",children:" Activez la golocalisation depuis la carte pour voir les commerces prs de vous"})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Rechercher un commerce...",value:h,onChange:k=>f(k.target.value),className:"form-input",onKeyPress:k=>k.key==="Enter"&&$()})}),s.jsx("button",{onClick:$,disabled:a,className:"btn-primary px-8",children:a?"Recherche...":"Rechercher"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catgorie"}),s.jsx("select",{value:g,onChange:k=>w(k.target.value),className:"form-input",children:O.map(k=>s.jsx("option",{value:k==="Tous"?"":k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Note minimale"}),s.jsxs("select",{value:y,onChange:k=>_(Number(k.target.value)),className:"form-input",children:[s.jsx("option",{value:0,children:"Toutes les notes"}),s.jsx("option",{value:4,children:"4+ toiles"}),s.jsx("option",{value:3,children:"3+ toiles"}),s.jsx("option",{value:2,children:"2+ toiles"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx("input",{type:"checkbox",id:"verified",checked:j,onChange:k=>C(k.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),s.jsx("label",{htmlFor:"verified",className:"text-sm text-gray-700",children:"Commerces vrifis uniquement"})]}),s.jsx("div",{className:"pt-8",children:s.jsx("button",{onClick:()=>{f(""),w(""),_(0),C(!1),c&&r(Ci({location:c,radius:50}))},className:"btn-secondary w-full",children:"Rinitialiser"})})]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[T.length," commerce",T.length!==1?"s":""," trouv",T.length!==1?"s":""]}),c&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 inline mr-1 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Rayon de 50km"]})]}),a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((k,P)=>s.jsxs("div",{className:"card animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200 rounded-t-xl"}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},P))}):T.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(k=>s.jsxs(mt,{to:`/commerces/${k.id}`,className:"card hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-t-xl flex items-center justify-center relative",children:[s.jsx("svg",{className:"w-16 h-16 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),k.isVerified&&s.jsx("div",{className:"absolute top-3 right-3 bg-emerald-500 text-white p-1 rounded-full",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:k.name}),s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:k.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"truncate",children:k.address})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-emerald-600 font-medium",children:k.category}),k.distance&&s.jsxs("span",{className:"text-gray-500",children:[Number(k.distance||0).toFixed(1)," km"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((P,R)=>s.jsx("svg",{className:`w-4 h-4 ${R<Math.floor(k.rating||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},R))}),s.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",Number(k.rating||0).toFixed(1),")"]})]})]})]})]},k.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun commerce trouv"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche ou d'activer la golocalisation"}),!c&&s.jsx("button",{onClick:z,className:"btn-primary",children:"Activer la golocalisation"})]})]})]})},Kc=({rating:r,maxRating:i=5,size:a="md",interactive:c=!1,onChange:h,showValue:f=!1,className:g=""})=>{const w={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},y=j=>{c&&h&&h(j)},_=()=>{const j=[];for(let C=1;C<=i;C++){const O=C<=r,$=C===Math.ceil(r)&&r%1!==0;j.push(s.jsx("button",{type:"button",onClick:()=>y(C),disabled:!c,className:`
            ${w[a]}
            ${c?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"}
            ${O?"text-yellow-400":$?"text-yellow-300":"text-gray-300"}
            ${c?"hover:text-yellow-400":""}
            focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-1 rounded
          `,children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},C))}return j};return s.jsxs("div",{className:`flex items-center space-x-1 ${g}`,children:[s.jsx("div",{className:"flex items-center space-x-0.5",children:_()}),f&&s.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[r.toFixed(1),"/",i]})]})},Ih=({isOpen:r,onClose:i,rateableType:a,rateableId:c,rateableName:h,existingRating:f,orderId:g})=>{const w=lt(),[y,_]=D.useState({rating:(f==null?void 0:f.rating)||0,comment:(f==null?void 0:f.comment)||""}),[j,C]=D.useState(!1),[O,$]=D.useState(""),z=!!f,T=async P=>{if(P.preventDefault(),y.rating===0){$("Veuillez slectionner une note");return}C(!0),$("");try{if(z)await w(Oc({id:f.id,rating:y.rating,comment:y.comment})).unwrap();else{const R={rating:y.rating,comment:y.comment,rateableType:a,rateableId:c,orderId:g};await w(Ac(R)).unwrap()}i(),_({rating:0,comment:""})}catch(R){$(R.message||"Une erreur est survenue")}finally{C(!1)}},k=()=>{i(),$(""),z||_({rating:0,comment:""})};return s.jsx(Pi,{isOpen:r,onClose:k,title:z?"Modifier mon valuation":"valuer",size:"md",children:s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-2xl",children:a==="Commerce"?"":""}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:h}),s.jsx("p",{className:"text-sm text-gray-600",children:a==="Commerce"?"Commerce":"Produit"})]})]})}),O&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-600",children:O})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Votre note *"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Kc,{rating:y.rating,interactive:!0,onChange:P=>_(R=>({...R,rating:P})),size:"lg"}),s.jsx("span",{className:"text-sm text-gray-600",children:y.rating>0?`${y.rating}/5`:"Cliquez pour noter"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre avis (optionnel)"}),s.jsx("textarea",{id:"comment",value:y.comment,onChange:P=>_(R=>({...R,comment:P.target.value})),rows:4,maxLength:1e3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",placeholder:"Partagez votre exprience avec les autres utilisateurs..."}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.comment.length,"/1000 caractres"]})]}),g&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm text-green-700",children:"Cette valuation sera marque comme vrifie (achat confirm)"})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:j,children:"Annuler"}),s.jsx("button",{type:"submit",disabled:j||y.rating===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:j?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Envoi..."})]}):z?"Mettre  jour":"Publier l'valuation"})]})]})})},eg=({rateableType:r,rateableId:i,rateableName:a,showAddButton:c=!0,maxHeight:h="600px"})=>{const f=lt(),{user:g,isAuthenticated:w}=Me(q=>q.auth),{ratings:y,currentRatingStats:_,loading:j}=Me(q=>q.rating),[C,O]=D.useState(!1),[$,z]=D.useState(null),[T,k]=D.useState(void 0);D.useEffect(()=>(f(zc({rateableType:r,rateableId:i,verified:T})),()=>{f(b_())}),[f,r,i,T]);const P=q=>{w&&f(M0(q))},R=async q=>{confirm("tes-vous sr de vouloir supprimer cette valuation ?")&&await f(Ic(q))},F=q=>{z(q),O(!0)},B=()=>{O(!1),z(null)},J=y.find(q=>q.user.id===(g==null?void 0:g.id)),se=w&&!J&&c,ae=q=>new Date(q).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),te=q=>{const Re=new Date,Fe=new Date(q),De=Re.getTime()-Fe.getTime(),Je=Math.floor(De/(1e3*60*60*24));return Je===0?"Aujourd'hui":Je===1?"Hier":Je<7?`Il y a ${Je} jours`:Je<30?`Il y a ${Math.floor(Je/7)} semaines`:ae(q)};return s.jsxs("div",{className:"space-y-6",children:[_&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"valuations des clients"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kc,{rating:_.averageRating,size:"md"}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:_.averageRating.toFixed(1)})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["(",_.totalRatings," avis)"]}),_.verifiedRatings>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-green-600",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsxs("span",{children:[_.verifiedRatings," vrifis"]})]})]})]}),se&&s.jsx("button",{onClick:()=>O(!0),className:"mt-4 md:mt-0 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:" Laisser un avis"})]}),Object.keys(_.distribution).length>0&&s.jsx("div",{className:"grid grid-cols-5 gap-2 text-xs",children:[5,4,3,2,1].map(q=>{const Re=_.distribution[q]||0,Fe=_.totalRatings>0?Re/_.totalRatings*100:0;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:q}),s.jsx("svg",{className:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${Fe}%`}})}),s.jsx("span",{className:"text-gray-600",children:Re})]},q)})})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>k(void 0),className:`px-3 py-1 rounded-full text-sm transition-colors ${T===void 0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tous les avis"}),s.jsx("button",{onClick:()=>k(!0),className:`px-3 py-1 rounded-full text-sm transition-colors ${T===!0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Vrifis uniquement"})]})}),s.jsx("div",{className:"space-y-4",style:{maxHeight:h,overflowY:"auto"},children:j?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block w-6 h-6 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement des avis..."})]}):y.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun avis pour le moment"}),s.jsx("p",{className:"text-gray-600",children:"Soyez le premier  partager votre exprience !"})]}):y.map(q=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-green-700",children:q.user.initials})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:q.user.name}),q.verified&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Achat vrifi"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(Kc,{rating:q.rating,size:"sm"}),s.jsx("span",{className:"text-sm text-gray-500",children:te(q.createdAt)})]})]})]}),(g==null?void 0:g.id)===q.user.id&&s.jsxs("div",{className:"flex items-center space-x-2",children:[q.canEdit&&s.jsx("button",{onClick:()=>F(q),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Modifier"}),q.canDelete&&s.jsx("button",{onClick:()=>R(q.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Supprimer"})]})]}),q.comment&&s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:q.comment})}),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:s.jsxs("button",{onClick:()=>P(q.id),disabled:!w||(g==null?void 0:g.id)===q.user.id,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),s.jsxs("span",{children:["Utile (",q.helpfulCount,")"]})]})})]},q.id))}),s.jsx(Ih,{isOpen:C,onClose:B,rateableType:r,rateableId:i,rateableName:a,existingRating:$||void 0})]})},tg=({stats:r,size:i="md",showDistribution:a=!0,className:c=""})=>{const f={sm:{starSize:"sm",textSize:"text-sm",titleSize:"text-base",spacing:"space-y-2"},md:{starSize:"md",textSize:"text-base",titleSize:"text-lg",spacing:"space-y-3"},lg:{starSize:"lg",textSize:"text-lg",titleSize:"text-xl",spacing:"space-y-4"}}[i],g=y=>y>=4.5?"Excellent":y>=4?"Trs bien":y>=3.5?"Bien":y>=3?"Correct":y>=2?"Mdiocre":"Mauvais",w=y=>y>=4.5?"text-green-600":y>=4?"text-green-500":y>=3.5?"text-yellow-500":y>=3?"text-yellow-600":y>=2?"text-orange-500":"text-red-500";return r.totalRatings===0?s.jsxs("div",{className:`text-center ${c}`,children:[s.jsx("div",{className:"text-gray-400 text-2xl mb-2",children:""}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune valuation"})]}):s.jsxs("div",{className:`${f.spacing} ${c}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`font-bold ${f.titleSize} ${w(r.averageRating)}`,children:r.averageRating.toFixed(1)}),s.jsx(Kc,{rating:r.averageRating,size:f.starSize})]}),s.jsxs("div",{children:[s.jsx("div",{className:`font-medium ${w(r.averageRating)}`,children:g(r.averageRating)}),s.jsxs("div",{className:`text-gray-600 ${f.textSize}`,children:[r.totalRatings," avis",r.verifiedRatings>0&&s.jsxs("span",{className:"ml-2 text-green-600",children:["(",r.verifiedRatings," vrifis)"]})]})]})]}),a&&Object.keys(r.distribution).length>0&&s.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(y=>{const _=r.distribution[y.toString()]||0,j=r.totalRatings>0?_/r.totalRatings*100:0;return s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1 w-12",children:[s.jsx("span",{children:y}),s.jsx("svg",{className:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})}),s.jsx("div",{className:"w-8 text-right text-gray-600",children:_}),s.jsxs("div",{className:"w-12 text-right text-gray-500 text-xs",children:[j.toFixed(0),"%"]})]},y)})}),r.verifiedRatings/r.totalRatings>=.5&&s.jsxs("div",{className:"inline-flex items-center space-x-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Avis de confiance"})]})]})},Kw=()=>{const{id:r}=Lp(),i=lt(),{currentCommerce:a,loading:c,error:h}=Me(B=>B.commerce),{products:f,loading:g}=Me(B=>B.product),{currentLocation:w}=Me(B=>B.location),{user:y}=Me(B=>B.auth),[_,j]=D.useState(""),[C,O]=D.useState("name"),[$,z]=D.useState(!1);D.useEffect(()=>{r&&(i(Eo(Number(r))),i(Lo(Number(r))))},[r,i]);const T=B=>{i(Th({product:B,quantity:1}))},k=Array.isArray(f)?f.filter(B=>B.isAvailable&&B.stock>0):[],R=[...Array.isArray(k)?k.filter(B=>!(_&&B.category!==_)):[]].sort((B,J)=>{switch(C){case"price":return B.price-J.price;case"stock":return J.stock-B.stock;case"name":default:return B.name.localeCompare(J.name)}}),F=Array.from(new Set(k.map(B=>B.category)));return c?s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(6)].map((B,J)=>s.jsx("div",{className:"h-64 bg-gray-200 rounded"},J))})]})}):h||!a?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Commerce introuvable"}),s.jsx("p",{className:"text-gray-600 mb-6",children:h||"Ce commerce n'existe pas ou a t supprim"}),s.jsx(mt,{to:"/commerces",className:"btn-primary",children:"Retour aux commerces"})]}):s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:s.jsx("div",{className:"p-6 lg:p-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),a.isVerified&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Vrifi"]})]}),a.category&&s.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full mb-3",children:a.category}),a.description&&s.jsx("p",{className:"text-gray-600 text-lg mb-4 max-w-2xl",children:a.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[a.rating&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((B,J)=>s.jsx("svg",{className:`w-5 h-5 ${J<Math.floor(Number(a.rating)||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},J))}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:Number(a.rating||0).toFixed(1)})]}),y&&s.jsx("button",{onClick:()=>z(!0),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-emerald-600 bg-emerald-50 rounded-lg hover:bg-emerald-100 transition-colors",children:" Laisser un avis"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),a.adress1||a.address]}),a.phone&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.phone]}),a.email&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.email]}),a.distance&&s.jsxs("div",{className:"flex items-center text-emerald-600 font-medium",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.distance.toFixed(1)," km"]})]})]}),a.latitude&&a.longitude&&s.jsx("div",{className:"w-full lg:w-80 h-64 lg:h-80",children:s.jsx($0,{center:[a.latitude,a.longitude],zoom:15,commerces:[a],userLocation:w,height:"100%",className:"w-full h-full rounded-lg"})})]})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6 lg:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Produits disponibles"}),s.jsxs("p",{className:"text-gray-600",children:[k.length," produit",k.length!==1?"s":""," en stock"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 sm:mt-0",children:[s.jsxs("select",{value:_,onChange:B=>j(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[s.jsx("option",{value:"",children:"Toutes catgories"}),F.map(B=>s.jsx("option",{value:B,children:B},B))]}),s.jsxs("select",{value:C,onChange:B=>O(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[s.jsx("option",{value:"name",children:"Trier par nom"}),s.jsx("option",{value:"price",children:"Trier par prix"}),s.jsx("option",{value:"stock",children:"Trier par stock"})]})]})]}),g?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((B,J)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},J))}):R.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit disponible"}),s.jsx("p",{className:"text-gray-600",children:"Ce commerce n'a pas encore ajout de produits ou tous sont en rupture de stock."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(B=>s.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:[s.jsx("div",{className:"h-48 bg-gray-100 rounded-t-xl overflow-hidden",children:B.imageUrl?s.jsx("img",{src:B.imageUrl,alt:B.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 flex-1",children:B.name}),s.jsx("span",{className:"ml-2 inline-block px-2 py-1 bg-emerald-100 text-emerald-800 text-xs font-medium rounded-full",children:B.category})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:B.description}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[B.price.toFixed(2),""]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["par ",B.unit]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Stock: ",B.stock]}),B.stock<=5&&B.stock>0&&s.jsx("div",{className:"text-xs text-orange-600 font-medium",children:"Stock faible"})]})]}),s.jsx("button",{onClick:()=>T(B),disabled:B.stock===0,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:B.stock===0?"Rupture de stock":"Ajouter au panier"})]})]},B.id))})]})}),s.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200",children:s.jsx("div",{className:"p-6 lg:p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-8",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Avis clients"}),s.jsx(tg,{entityId:a.id,entityType:"commerce"})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx(eg,{entityId:a.id,entityType:"commerce"})})]})})}),s.jsx(Pi,{isOpen:$,onClose:()=>z(!1),title:"Laisser un avis sur ce commerce",size:"md",children:s.jsx(Ih,{entityId:a.id,entityType:"commerce",onSuccess:()=>z(!1),onCancel:()=>z(!1)})})]})},Jw=()=>{const r=lt(),{products:i,loading:a,sortBy:c}=Me(R=>R.product),{currentLocation:h}=Me(R=>R.location),[f,g]=D.useState(""),[w,y]=D.useState(""),[_,j]=D.useState(""),[C,O]=D.useState(""),$=["Tous","Bananes plantain","Fruits locaux","Lgumes frais","pices","Crales","Tubercules"];D.useEffect(()=>{r(h?ds({location:h||void 0}):ds())},[h,r]);const z=()=>{f.trim()?r(Pc({query:f,location:h||void 0,filters:{category:w||void 0,minPrice:_?Number(_):void 0,maxPrice:C?Number(C):void 0}})):r(ds({location:h||void 0}))},T=R=>{r(Th({product:R,quantity:1})),window.addNotification&&window.addNotification({type:"success",title:"Produit ajout",message:`${R.name} a t ajout au panier`})},k=()=>{r(ha())},P=Array.isArray(i)?i.filter(R=>!(w&&w!=="Tous"&&R.category!==w||_&&R.price&&R.price<Number(_)||C&&R.price&&R.price>Number(C))):[];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-gray-600",children:[P.length," produit",P.length!==1?"s":""," disponible",P.length!==1?"s":""]})}),!h&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Activez la golocalisation"}),s.jsx("p",{className:"text-gray-600",children:"Pour voir les produits les plus proches"})]})]}),s.jsx("button",{onClick:k,className:"btn-primary",children:"Activer"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:f,onChange:R=>g(R.target.value),className:"form-input",onKeyPress:R=>R.key==="Enter"&&z()})}),s.jsx("button",{onClick:z,disabled:a,className:"btn-primary px-8",children:a?"Recherche...":"Rechercher"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catgorie"}),s.jsx("select",{value:w,onChange:R=>y(R.target.value),className:"form-input",children:$.map(R=>s.jsx("option",{value:R==="Tous"?"":R,children:R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Prix min ()"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:_,onChange:R=>j(R.target.value),className:"form-input",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Prix max ()"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:C,onChange:R=>O(R.target.value),className:"form-input",placeholder:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Trier par"}),s.jsxs("select",{value:c,onChange:R=>r(n_(R.target.value)),className:"form-input",children:[s.jsx("option",{value:"name",children:"Nom"}),s.jsx("option",{value:"price",children:"Prix"}),s.jsx("option",{value:"rating",children:"Note"}),s.jsx("option",{value:"distance",children:"Distance"})]})]}),s.jsx("div",{className:"pt-8",children:s.jsx("button",{onClick:()=>{g(""),y(""),j(""),O(""),r(ds({location:h||void 0}))},className:"btn-secondary w-full",children:"Rinitialiser"})})]})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[P.length," produit",P.length!==1?"s":""," trouv",P.length!==1?"s":""]})}),a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((R,F)=>s.jsxs("div",{className:"card animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200 rounded-t-xl"}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},F))}):P.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map(R=>s.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-t-xl flex items-center justify-center relative",children:[R.imageUrl?s.jsx("img",{src:R.imageUrl,alt:R.name,className:"w-full h-full object-cover rounded-t-xl"}):s.jsx("svg",{className:"w-16 h-16 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),!R.isAvailable&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-t-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:"Indisponible"})})]}),s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:R.name}),s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:R.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[R.price?R.price.toFixed(2):"0.00",""]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["/ ",R.unit||"unit"]})]}),R.commerce&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"truncate",children:R.commerce.name})]}),R.commerce.distance&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[typeof R.commerce.distance=="number"?R.commerce.distance.toFixed(1):R.commerce.distance," km"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:R.category||"Non catgoris"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",R.stock||0]})]}),s.jsx("button",{onClick:()=>T(R),disabled:!R.isAvailable||(R.stock||0)===0,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${R.isAvailable&&(R.stock||0)>0?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:R.isAvailable?(R.stock||0)===0?"Rupture de stock":"Ajouter au panier":"Indisponible"})]})]})]},R.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit trouv"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche"})]})]})]})},ng=({initialProductName:r="",onSuccess:i,onCancel:a,className:c=""})=>{const h=lt(),{creating:f,createError:g}=Me(T=>T.productInterest),{position:w}=Me(T=>T.location),{user:y}=Me(T=>T.auth),[_,j]=D.useState({product_name:r,message:"",search_radius:25}),[C,O]=D.useState(!0);D.useEffect(()=>{r&&j(T=>({...T,product_name:r}))},[r]),D.useEffect(()=>()=>{h(x_())},[h]);const $=async T=>{if(T.preventDefault(),!y){h(ji({type:"error",message:"Vous devez tre connect pour manifester votre intrt"}));return}if(!_.product_name.trim()){h(ji({type:"error",message:"Veuillez spcifier le nom du produit"}));return}let k,P;if(C&&w&&(k=w.latitude,P=w.longitude),!k||!P){h(ji({type:"error",message:"Position gographique requise pour crer une manifestation d'intrt"}));return}try{await h(Mc({..._,latitude:k,longitude:P})).unwrap(),h(ji({type:"success",message:"Manifestation d'intrt enregistre ! Nous vous notifierons ds qu'un produit correspondant sera disponible."})),j({product_name:"",message:"",search_radius:25}),i==null||i()}catch{}},z=T=>{const{name:k,value:P}=T.target;j(R=>({...R,[k]:k==="search_radius"?parseInt(P)||0:P}))};return s.jsxs(nt,{className:c,children:[s.jsxs(nt.Header,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Manifester votre intrt"}),a&&s.jsx("button",{onClick:a,className:"text-slate-400 hover:text-slate-600 p-1 rounded transition-all duration-200",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Vous ne trouvez pas un produit ? Manifestez votre intrt et nous vous notifierons ds qu'il sera disponible prs de vous !"})]}),s.jsx(nt.Body,{children:s.jsxs("form",{id:"product-interest-form",onSubmit:$,className:"space-y-6",children:[s.jsx(Gc,{label:"Nom du produit *",type:"text",name:"product_name",value:_.product_name,onChange:z,placeholder:"Ex: Tomates fraches, Pain complet, etc.",disabled:f,required:!0}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"search_radius",className:"block text-sm font-medium text-slate-700 mb-2",children:["Rayon de recherche: ",_.search_radius," km"]}),s.jsx("input",{type:"range",id:"search_radius",name:"search_radius",min:"5",max:"100",step:"5",value:_.search_radius,onChange:z,className:"w-full h-2 bg-slate-200 rounded-pill appearance-none cursor-pointer accent-brand-500",disabled:f}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[s.jsx("span",{children:"5 km"}),s.jsx("span",{children:"100 km"})]})]}),s.jsx(Gc.Textarea,{label:"Message complmentaire (optionnel)",name:"message",value:_.message,onChange:z,placeholder:"Prcisez vos prfrences (quantit, qualit, prix, etc.)",rows:3,disabled:f}),s.jsxs(Io,{variant:"info",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-sm",children:[" Position: ",w?"Dtecte":"Non disponible"]})}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:T=>O(T.target.checked),className:"mr-2 rounded border-slate-300 text-brand-600 focus:ring-brand-500",disabled:!w||f}),s.jsx("span",{className:"text-sm",children:"Utiliser ma position"})]})]}),w&&s.jsxs("p",{className:"text-xs mt-2 opacity-75",children:["Lat: ",w.latitude.toFixed(4),", Lng: ",w.longitude.toFixed(4)]})]}),g&&s.jsx(Io,{variant:"error",children:g})]})}),s.jsxs(nt.Footer,{className:"justify-between",children:[a&&s.jsx(tn,{type:"button",variant:"secondary",onClick:a,disabled:f,children:"Annuler"}),s.jsx(tn,{type:"submit",form:"product-interest-form",loading:f,disabled:!w||!_.product_name.trim(),className:a?"":"ml-auto",children:f?"Enregistrement...":" Notifier quand disponible"})]})]})};function wh(r){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},wh(r)}function qn(r,i){if(i.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+i.length+" present")}function Ft(r){qn(1,arguments);var i=Object.prototype.toString.call(r);return r instanceof Date||wh(r)==="object"&&i==="[object Date]"?new Date(r.getTime()):typeof r=="number"||i==="[object Number]"?new Date(r):((typeof r=="string"||i==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Qw={};function Xw(){return Qw}function gp(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}function Dc(r,i){qn(2,arguments);var a=Ft(r),c=Ft(i),h=a.getTime()-c.getTime();return h<0?-1:h>0?1:h}function Yw(r,i){qn(2,arguments);var a=Ft(r),c=Ft(i),h=a.getFullYear()-c.getFullYear(),f=a.getMonth()-c.getMonth();return h*12+f}function e2(r,i){return qn(2,arguments),Ft(r).getTime()-Ft(i).getTime()}var t2={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(i){return i<0?Math.ceil(i):Math.floor(i)}},n2="trunc";function r2(r){return t2[n2]}function i2(r){qn(1,arguments);var i=Ft(r);return i.setHours(23,59,59,999),i}function s2(r){qn(1,arguments);var i=Ft(r),a=i.getMonth();return i.setFullYear(i.getFullYear(),a+1,0),i.setHours(23,59,59,999),i}function a2(r){qn(1,arguments);var i=Ft(r);return i2(i).getTime()===s2(i).getTime()}function o2(r,i){qn(2,arguments);var a=Ft(r),c=Ft(i),h=Dc(a,c),f=Math.abs(Yw(a,c)),g;if(f<1)g=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-h*f);var w=Dc(a,c)===-h;a2(Ft(r))&&f===1&&Dc(r,c)===1&&(w=!1),g=h*(f-Number(w))}return g===0?0:g}function l2(r,i,a){qn(2,arguments);var c=e2(r,i)/1e3;return r2()(c)}var c2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u2=function(i,a,c){var h,f=c2[i];return typeof f=="string"?h=f:a===1?h=f.one:h=f.other.replace("{{count}}",a.toString()),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"in "+h:h+" ago":h};function ma(r){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=i.width?String(i.width):r.defaultWidth,c=r.formats[a]||r.formats[r.defaultWidth];return c}}var d2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m2={date:ma({formats:d2,defaultWidth:"full"}),time:ma({formats:h2,defaultWidth:"full"}),dateTime:ma({formats:f2,defaultWidth:"full"})},p2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g2=function(i,a,c,h){return p2[i]};function lr(r){return function(i,a){var c=a!=null&&a.context?String(a.context):"standalone",h;if(c==="formatting"&&r.formattingValues){var f=r.defaultFormattingWidth||r.defaultWidth,g=a!=null&&a.width?String(a.width):f;h=r.formattingValues[g]||r.formattingValues[f]}else{var w=r.defaultWidth,y=a!=null&&a.width?String(a.width):r.defaultWidth;h=r.values[y]||r.values[w]}var _=r.argumentCallback?r.argumentCallback(i):i;return h[_]}}var x2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},v2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},y2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},j2=function(i,a){var c=Number(i),h=c%100;if(h>20||h<10)switch(h%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},N2={ordinalNumber:j2,era:lr({values:x2,defaultWidth:"wide"}),quarter:lr({values:v2,defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:lr({values:y2,defaultWidth:"wide"}),day:lr({values:_2,defaultWidth:"wide"}),dayPeriod:lr({values:w2,defaultWidth:"wide",formattingValues:b2,defaultFormattingWidth:"wide"})};function cr(r){return function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=a.width,h=c&&r.matchPatterns[c]||r.matchPatterns[r.defaultMatchWidth],f=i.match(h);if(!f)return null;var g=f[0],w=c&&r.parsePatterns[c]||r.parsePatterns[r.defaultParseWidth],y=Array.isArray(w)?C2(w,function(C){return C.test(g)}):k2(w,function(C){return C.test(g)}),_;_=r.valueCallback?r.valueCallback(y):y,_=a.valueCallback?a.valueCallback(_):_;var j=i.slice(g.length);return{value:_,rest:j}}}function k2(r,i){for(var a in r)if(r.hasOwnProperty(a)&&i(r[a]))return a}function C2(r,i){for(var a=0;a<r.length;a++)if(i(r[a]))return a}function rg(r){return function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.match(r.matchPattern);if(!c)return null;var h=c[0],f=i.match(r.parsePattern);if(!f)return null;var g=r.valueCallback?r.valueCallback(f[0]):f[0];g=a.valueCallback?a.valueCallback(g):g;var w=i.slice(h.length);return{value:g,rest:w}}}var S2=/^(\d+)(th|st|nd|rd)?/i,P2=/\d+/i,E2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L2={any:[/^b/i,/^(a|c)/i]},T2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M2={any:[/1/i,/2/i,/3/i,/4/i]},R2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},D2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B2={ordinalNumber:rg({matchPattern:S2,parsePattern:P2,valueCallback:function(i){return parseInt(i,10)}}),era:cr({matchPatterns:E2,defaultMatchWidth:"wide",parsePatterns:L2,defaultParseWidth:"any"}),quarter:cr({matchPatterns:T2,defaultMatchWidth:"wide",parsePatterns:M2,defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:cr({matchPatterns:R2,defaultMatchWidth:"wide",parsePatterns:z2,defaultParseWidth:"any"}),day:cr({matchPatterns:A2,defaultMatchWidth:"wide",parsePatterns:O2,defaultParseWidth:"any"}),dayPeriod:cr({matchPatterns:I2,defaultMatchWidth:"any",parsePatterns:D2,defaultParseWidth:"any"})},F2={code:"en-US",formatDistance:u2,formatLong:m2,formatRelative:g2,localize:N2,match:B2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ig(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return r}function U2(r){return ig({},r)}var xp=1440,$2=2520,th=43200,W2=86400;function H2(r,i,a){var c,h;qn(2,arguments);var f=Xw(),g=(c=(h=a==null?void 0:a.locale)!==null&&h!==void 0?h:f.locale)!==null&&c!==void 0?c:F2;if(!g.formatDistance)throw new RangeError("locale must contain formatDistance property");var w=Dc(r,i);if(isNaN(w))throw new RangeError("Invalid time value");var y=ig(U2(a),{addSuffix:!!(a!=null&&a.addSuffix),comparison:w}),_,j;w>0?(_=Ft(i),j=Ft(r)):(_=Ft(r),j=Ft(i));var C=l2(j,_),O=(gp(j)-gp(_))/1e3,$=Math.round((C-O)/60),z;if($<2)return a!=null&&a.includeSeconds?C<5?g.formatDistance("lessThanXSeconds",5,y):C<10?g.formatDistance("lessThanXSeconds",10,y):C<20?g.formatDistance("lessThanXSeconds",20,y):C<40?g.formatDistance("halfAMinute",0,y):C<60?g.formatDistance("lessThanXMinutes",1,y):g.formatDistance("xMinutes",1,y):$===0?g.formatDistance("lessThanXMinutes",1,y):g.formatDistance("xMinutes",$,y);if($<45)return g.formatDistance("xMinutes",$,y);if($<90)return g.formatDistance("aboutXHours",1,y);if($<xp){var T=Math.round($/60);return g.formatDistance("aboutXHours",T,y)}else{if($<$2)return g.formatDistance("xDays",1,y);if($<th){var k=Math.round($/xp);return g.formatDistance("xDays",k,y)}else if($<W2)return z=Math.round($/th),g.formatDistance("aboutXMonths",z,y)}if(z=o2(j,_),z<12){var P=Math.round($/th);return g.formatDistance("xMonths",P,y)}else{var R=z%12,F=Math.floor(z/12);return R<3?g.formatDistance("aboutXYears",F,y):R<9?g.formatDistance("overXYears",F,y):g.formatDistance("almostXYears",F+1,y)}}function sg(r,i){return qn(1,arguments),H2(r,Date.now(),i)}var V2={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},Z2=function(i,a,c){var h,f=V2[i];return typeof f=="string"?h=f:a===1?h=f.one:h=f.other.replace("{{count}}",String(a)),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"dans "+h:"il y a "+h:h},q2={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},G2={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},K2={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J2={date:ma({formats:q2,defaultWidth:"full"}),time:ma({formats:G2,defaultWidth:"full"}),dateTime:ma({formats:K2,defaultWidth:"full"})},Q2={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},X2=function(i,a,c,h){return Q2[i]},Y2={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},eb={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},tb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},nb={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},rb={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},ib=function(i,a){var c=Number(i),h=a==null?void 0:a.unit;if(c===0)return"0";var f=["year","week","hour","minute","second"],g;return c===1?g=h&&f.includes(h)?"re":"er":g="me",c+g},sb={ordinalNumber:ib,era:lr({values:Y2,defaultWidth:"wide"}),quarter:lr({values:eb,defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:lr({values:tb,defaultWidth:"wide"}),day:lr({values:nb,defaultWidth:"wide"}),dayPeriod:lr({values:rb,defaultWidth:"wide"})},ab=/^(\d+)(ime|re|me|er|e)?/i,ob=/\d+/i,lb={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},cb={any:[/^av/i,/^ap/i]},ub={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},db={any:[/1/i,/2/i,/3/i,/4/i]},hb={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},fb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},mb={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},pb={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},gb={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},xb={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},vb={ordinalNumber:rg({matchPattern:ab,parsePattern:ob,valueCallback:function(i){return parseInt(i)}}),era:cr({matchPatterns:lb,defaultMatchWidth:"wide",parsePatterns:cb,defaultParseWidth:"any"}),quarter:cr({matchPatterns:ub,defaultMatchWidth:"wide",parsePatterns:db,defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:cr({matchPatterns:hb,defaultMatchWidth:"wide",parsePatterns:fb,defaultParseWidth:"any"}),day:cr({matchPatterns:mb,defaultMatchWidth:"wide",parsePatterns:pb,defaultParseWidth:"any"}),dayPeriod:cr({matchPatterns:gb,defaultMatchWidth:"any",parsePatterns:xb,defaultParseWidth:"any"})},ag={code:"fr",formatDistance:Z2,formatLong:J2,formatRelative:X2,localize:sb,match:vb,options:{weekStartsOn:1,firstWeekContainsDate:4}};const yb=({className:r="",showCreateButton:i=!0,onCreateClick:a})=>{const c=lt(),{interests:h,loading:f,error:g,currentPage:w,totalPages:y,totalCount:_}=Me(k=>k.productInterest),{user:j}=Me(k=>k.auth),[C,O]=D.useState(new Set);D.useEffect(()=>{j&&c(Tc({page:w}))},[c,j,w]);const $=async k=>{if(window.confirm("tes-vous sr de vouloir supprimer cette manifestation d'intrt ?")){O(P=>new Set(P).add(k));try{await c(E0(k)).unwrap(),c(ji({type:"success",message:"Manifestation d'intrt supprime"}))}catch{c(ji({type:"error",message:"Erreur lors de la suppression"}))}finally{O(P=>{const R=new Set(P);return R.delete(k),R})}}},z=k=>{c(v_(k))},T=k=>sg(new Date(k),{addSuffix:!0,locale:ag});return j?f&&h.length===0?s.jsx(nt,{className:r,children:s.jsx(nt.Body,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((k,P)=>s.jsx("div",{className:"h-20 bg-slate-100 rounded-md"},P))})})}):s.jsxs(nt,{className:r,children:[s.jsx(nt.Header,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Mes manifestations d'intrt"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[_," manifestation",_!==1?"s":""," d'intrt"]})]}),i&&s.jsx(tn,{onClick:a,size:"sm",className:"shrink-0",children:" Nouvelle manifestation"})]})}),s.jsxs(nt.Body,{children:[g&&s.jsx("div",{className:"mb-6",children:s.jsx(Io,{variant:"error",children:g})}),s.jsx("div",{className:"space-y-6",children:h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Aucune manifestation d'intrt"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Vous n'avez pas encore manifest votre intrt pour des produits."}),i&&a&&s.jsx(tn,{onClick:a,children:"Crer une manifestation d'intrt"})]}):h.map(k=>s.jsx("div",{className:"p-6 border border-slate-200 rounded-lg hover:border-slate-300 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h4",{className:"text-md font-semibold text-slate-900",children:k.product_name}),k.fulfilled?s.jsx(To,{variant:"success",children:" Satisfait"}):s.jsx(To,{variant:"warning",children:" En attente"}),k.email_sent&&s.jsx(To,{variant:"info",children:" Notifi"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("p",{children:[" Rayon de recherche: ",k.search_radius," km"]}),s.jsxs("p",{children:[" Cr ",T(k.created_at)]}),k.message&&s.jsx("div",{className:"bg-slate-50 p-3 rounded-md border-l-4 border-brand-200",children:s.jsxs("p",{className:"text-sm italic text-slate-700",children:[' "',k.message,'"']})}),k.fulfilled_at&&s.jsxs("p",{className:"text-brand-600 font-medium",children:[" Satisfait le ",T(k.fulfilled_at)]})]})]}),s.jsx("div",{className:"ml-4 flex items-center space-x-2",children:!k.fulfilled&&s.jsx(tn,{variant:"ghost",size:"sm",onClick:()=>$(k.id),loading:C.has(k.id),disabled:C.has(k.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]})},k.id))})]}),y>1&&s.jsxs(nt.Footer,{className:"justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",w," sur ",y]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>z(w-1),disabled:w===1||f,children:"Prcdent"}),s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>z(w+1),disabled:w===y||f,children:"Suivant"})]})]})]}):s.jsx(nt,{className:r,children:s.jsxs(nt.Body,{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Connexion requise"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Connectez-vous pour voir vos manifestations d'intrt"}),s.jsx(tn,{onClick:()=>window.location.href="/auth",children:"Se connecter"})]})})},_b=({className:r=""})=>{const i=lt(),{merchantInterests:a,merchantLoading:c,merchantError:h,merchantCurrentPage:f,merchantTotalPages:g,merchantTotalCount:w}=Me(J=>J.productInterest),{user:y}=Me(J=>J.auth),{products:_}=Me(J=>J.product),[j,C]=D.useState(new Set),[O,$]=D.useState(50),z=(y==null?void 0:y.statut_type)==="itinerant"||(y==null?void 0:y.statut_type)==="sedentary";D.useEffect(()=>{z&&i(Rc({page:f}))},[i,z,f]);const T=async(J,se)=>{C(ae=>new Set(ae).add(J));try{const ae=await i(L0({productId:J,radius:O})).unwrap();i(ji({type:"success",message:`${ae.interests_notified} notifications envoyes pour "${se}"`}))}catch(ae){i(ji({type:"error",message:typeof ae=="string"?ae:"Erreur lors de l'envoi des notifications"}))}finally{C(ae=>{const te=new Set(ae);return te.delete(J),te})}},k=J=>{i(y_(J))},P=J=>sg(new Date(J),{addSuffix:!0,locale:ag}),R=()=>{const J={};return a.forEach(se=>{const ae=se.product_name.toLowerCase();J[ae]||(J[ae]=[]),J[ae].push(se)}),J},F=J=>_.filter(se=>se.name.toLowerCase().includes(J.toLowerCase())&&se.unitsinstock>0);if(!z)return s.jsx(nt,{className:r,children:s.jsxs(nt.Body,{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Accs marchand requis"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Cette section est rserve aux marchands pour grer les manifestations d'intrt."}),s.jsx(tn,{onClick:()=>window.location.href="/dashboard",children:"Tableau de bord marchand"})]})});if(c&&a.length===0)return s.jsx(nt,{className:r,children:s.jsx(nt.Body,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((J,se)=>s.jsx("div",{className:"h-24 bg-slate-100 rounded-md"},se))})})});const B=R();return s.jsxs(nt,{className:r,children:[s.jsx(nt.Header,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Manifestations d'intrt pour mes produits"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[w," manifestation",w!==1?"s":""," d'intrt active",w!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Rayon de notification:"}),s.jsxs("select",{value:O,onChange:J=>$(parseInt(J.target.value)),className:"px-3 py-2 border border-slate-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-all duration-200",children:[s.jsx("option",{value:25,children:"25 km"}),s.jsx("option",{value:50,children:"50 km"}),s.jsx("option",{value:75,children:"75 km"}),s.jsx("option",{value:100,children:"100 km"})]})]})]})}),s.jsxs(nt.Body,{children:[h&&s.jsx("div",{className:"mb-6",children:s.jsx(Io,{variant:"error",children:h})}),s.jsx("div",{className:"space-y-8",children:Object.keys(B).length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Aucune manifestation d'intrt"}),s.jsx("p",{className:"text-slate-600",children:"Il n'y a actuellement aucune manifestation d'intrt pour vos produits."})]}):Object.entries(B).map(([J,se])=>{const ae=F(J);return s.jsxs("div",{className:"p-6 border border-slate-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:[" ",se[0].product_name]}),s.jsxs("p",{className:"text-sm text-slate-600",children:[se.length," personne",se.length!==1?"s":""," intresse",se.length!==1?"s":""]})]}),ae.length>0&&s.jsxs("div",{className:"text-right",children:[s.jsxs(To,{variant:"success",className:"mb-3",children:[" ",ae.length," produit",ae.length!==1?"s":""," en stock"]}),s.jsx("div",{className:"space-y-2",children:ae.map(te=>s.jsx(tn,{size:"sm",onClick:()=>T(te.id,te.name),loading:j.has(te.id),disabled:j.has(te.id),className:"block w-full",children:j.has(te.id)?"Notification...":` Notifier pour "${te.name}"`},te.id))})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:se.map(te=>s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-slate-900 text-sm",children:[" ",te.user.name]}),s.jsx("p",{className:"text-xs text-slate-600",children:te.user.email})]}),te.distance&&s.jsxs(To,{variant:"info",className:"text-xs",children:[te.distance," km"]})]}),s.jsxs("div",{className:"space-y-2 text-xs text-slate-600",children:[s.jsxs("p",{children:[" Rayon: ",te.search_radius," km"]}),s.jsxs("p",{children:[" ",P(te.created_at)]}),te.message&&s.jsx("div",{className:"bg-white p-3 rounded-md border border-slate-200 mt-3",children:s.jsxs("p",{className:"text-xs italic text-slate-700",children:[' "',te.message,'"']})})]})]},te.id))}),ae.length===0&&s.jsx("div",{className:"mt-6",children:s.jsxs(Io,{variant:"warning",children:[' Aucun produit correspondant en stock. Ajoutez "',J,'"  votre inventaire pour notifier ces clients.']})})]},J)})})]}),g>1&&s.jsxs(nt.Footer,{className:"justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",f," sur ",g]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>k(f-1),disabled:f===1||c,children:"Prcdent"}),s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>k(f+1),disabled:f===g||c,children:"Suivant"})]})]})]})},wb=()=>{const{id:r}=Lp(),i=lt(),{currentProduct:a,loading:c,error:h}=Me(F=>F.product),{user:f}=Me(F=>F.auth),[g,w]=D.useState(1),[y,_]=D.useState(0),[j,C]=D.useState(!1),[O,$]=D.useState(!1);D.useEffect(()=>{r&&i(Sc(Number(r)))},[r,i]);const z=()=>{a&&i(Th({product:a,quantity:g}))},T=F=>{F>=1&&F<=((a==null?void 0:a.stock)||1)&&w(F)},k=()=>{if(!f){window.location.href="/auth";return}C(!0)},P=()=>{C(!1)},R=a!=null&&a.imageUrl?[a.imageUrl]:[];return c?s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg mb-4"}),s.jsx("div",{className:"flex space-x-2",children:[...Array(3)].map((F,B)=>s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded"},B))})]}),s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-2/3"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4 w-1/3"}),s.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})}):h||!a?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Produit introuvable"}),s.jsx("p",{className:"text-gray-600 mb-6",children:h||"Ce produit n'existe pas ou a t supprim"}),s.jsx(mt,{to:"/products",className:"btn-primary",children:"Retour aux produits"})]}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:s.jsxs("ol",{className:"flex items-center space-x-4",children:[s.jsx("li",{children:s.jsx(mt,{to:"/",className:"text-gray-400 hover:text-gray-500",children:"Accueil"})}),s.jsx("li",{children:s.jsx("svg",{className:"flex-shrink-0 h-4 w-4 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})}),s.jsx("li",{children:s.jsx(mt,{to:"/products",className:"text-gray-400 hover:text-gray-500",children:"Produits"})}),s.jsx("li",{children:s.jsx("svg",{className:"flex-shrink-0 h-4 w-4 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})}),s.jsx("li",{children:s.jsx("span",{className:"text-gray-500 font-medium",children:a.name})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-xl overflow-hidden mb-4",children:R.length>0?s.jsx("img",{src:R[y],alt:a.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-24 h-24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),R.length>1&&s.jsx("div",{className:"flex space-x-2",children:R.map((F,B)=>s.jsx("button",{onClick:()=>_(B),className:`flex-1 aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 ${y===B?"border-emerald-500":"border-transparent"}`,children:s.jsx("img",{src:F,alt:`${a.name} - vue ${B+1}`,className:"w-full h-full object-cover"})},B))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"inline-block px-3 py-1 bg-emerald-100 text-emerald-800 text-sm font-medium rounded-full mb-3",children:a.category}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a.name}),s.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:a.description})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[a.price.toFixed(2),""]}),s.jsxs("span",{className:"text-lg text-gray-500",children:["par ",a.unit]})]})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${a.stock>10?"bg-green-500":a.stock>0?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.stock>0?s.jsxs(s.Fragment,{children:[a.stock," ",a.unit,a.stock>1?"s":""," en stock",a.stock<=5&&s.jsx("span",{className:"text-orange-600 ml-2",children:"(Stock faible)"})]}):s.jsx("span",{className:"text-red-600",children:"Rupture de stock"})})]})}),a.commerce&&s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Vendu par"}),s.jsxs(mt,{to:`/commerces/${a.commerce.id}`,className:"flex items-center space-x-3 hover:bg-gray-100 rounded-lg p-2 transition-colors",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-600 font-medium text-lg",children:a.commerce.name[0]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:a.commerce.name}),a.commerce.isVerified&&s.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:a.commerce.category}),a.commerce.distance&&s.jsxs("p",{className:"text-sm text-emerald-600 font-medium",children:[a.commerce.distance.toFixed(1)," km"]})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),a.stock>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Quantit"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>T(g-1),disabled:g<=1,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"px-4 py-2 text-lg font-medium text-gray-900 min-w-[3rem] text-center",children:g}),s.jsx("button",{onClick:()=>T(g+1),disabled:g>=a.stock,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[a.unit," disponible",a.stock>1?"s":""]})]}),s.jsx("div",{className:"mb-4 p-3 bg-emerald-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Prix total"}),s.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[(a.price*g).toFixed(2),""]})]})}),s.jsxs("button",{onClick:z,className:"w-full btn-primary text-lg py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),"Ajouter au panier"]})]}),a.stock===0&&s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("h4",{className:"text-yellow-800 font-medium",children:"Produit en rupture de stock"})]}),s.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"Ce produit n'est actuellement pas disponible. Manifestez votre intrt et nous vous notifierons ds qu'il sera  nouveau en stock prs de vous !"}),s.jsxs("button",{onClick:k,className:"w-full bg-yellow-600 text-white font-medium py-3 px-4 rounded-lg hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5v-9a4 4 0 118 0v9z"})})," Me notifier quand disponible"]})]})}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informations produit"}),s.jsxs("dl",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Catgorie"}),s.jsx("dd",{className:"text-sm font-medium text-gray-900",children:a.category})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Unit de vente"}),s.jsx("dd",{className:"text-sm font-medium text-gray-900",children:a.unit})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Disponibilit"}),s.jsx("dd",{className:`text-sm font-medium ${a.isAvailable?"text-green-600":"text-red-600"}`,children:a.isAvailable?"Disponible":"Non disponible"})]}),a.createdAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Ajout le"}),s.jsx("dd",{className:"text-sm font-medium text-gray-900",children:new Date(a.createdAt).toLocaleDateString("fr-FR")})]})]})]})]})]}),s.jsx("div",{className:"mt-16 border-t border-gray-200 pt-16",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-8",children:[s.jsx(tg,{entityId:a.id,entityType:"product"}),f&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>$(!0),className:"w-full btn-secondary",children:" Laisser un avis"})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx(eg,{entityId:a.id,entityType:"product"})})]})}),s.jsx(Pi,{isOpen:j,onClose:()=>C(!1),title:"Manifestation d'intrt",size:"md",children:s.jsx(ng,{initialProductName:(a==null?void 0:a.name)||"",onSuccess:P,onCancel:()=>C(!1)})}),s.jsx(Pi,{isOpen:O,onClose:()=>$(!1),title:"Laisser un avis",size:"md",children:s.jsx(Ih,{entityId:a.id,entityType:"product",onSuccess:()=>$(!1),onCancel:()=>$(!1)})})]})},bb=()=>{const r=lt(),{items:i,totalItems:a,totalPrice:c,deliveryFee:h}=Me(_=>_.cart),f=_=>{r(w0(_))},g=(_,j)=>{r(b0({itemId:_,quantity:j}))},w=()=>{r(j0())},y=c+h;return i.length===0?s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Votre panier est vide"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Dcouvrez nos produits frais et ajoutez-les  votre panier"}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(mt,{to:"/products",className:"btn-primary",children:"Voir les produits"}),s.jsx(mt,{to:"/commerces",className:"btn-secondary",children:"Dcouvrir les commerces"})]})]})}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Panier (",a," article",a!==1?"s":"",")"]}),s.jsx("p",{className:"text-gray-600",children:"Vrifiez vos articles avant de passer commande"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," article",i.length!==1?"s":""," dans votre panier"]}),s.jsx("button",{onClick:w,className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Vider le panier"})]}),s.jsx("div",{className:"space-y-4",children:i.map(_=>s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:_.product.imageUrl?s.jsx("img",{src:_.product.imageUrl,alt:_.product.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.product.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:_.product.description}),_.product.commerce&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Vendu par ",_.product.commerce.name]}),s.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:_.product.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[_.unitPrice.toFixed(2),""]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["/ ",_.product.unit]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>g(_.id,_.quantity-1),className:"w-10 h-10 flex items-center justify-center bg-gray-100 border border-gray-300 rounded-full hover:bg-gray-200 transition-colors",disabled:_.quantity<=1,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"text-lg font-medium w-12 text-center",children:_.quantity}),s.jsx("button",{onClick:()=>g(_.id,_.quantity+1),className:"w-10 h-10 flex items-center justify-center bg-gray-100 border border-gray-300 rounded-full hover:bg-gray-200 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[_.totalPrice.toFixed(2),""]})}),s.jsx("button",{onClick:()=>f(_.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors","aria-label":"Supprimer du panier",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})},_.id))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"card sticky top-6",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Rcapitulatif"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["Sous-total (",a," articles)"]}),s.jsxs("span",{className:"font-medium",children:[c.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Frais de livraison"}),s.jsxs("span",{className:"font-medium",children:[h.toFixed(2),""]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[y.toFixed(2),""]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(mt,{to:"/checkout",className:"btn-primary w-full text-center block",children:"Passer commande"}),s.jsx(mt,{to:"/products",className:"btn-secondary w-full text-center block",children:"Continuer mes achats"})]}),s.jsx("div",{className:"mt-6 p-4 bg-emerald-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("svg",{className:"w-5 h-5 text-emerald-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),s.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707L16 7.586A1 1 0 0015.414 7H14z"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-emerald-900",children:"Livraison sous 24-48h"}),s.jsx("p",{className:"text-sm text-emerald-700",children:"Livraison gratuite  partir de 50"})]})]})})]})})})]})]})},jb=()=>{const r=xs(),i=lt(),{items:a,totalPrice:c,deliveryFee:h}=Me(F=>F.cart),{user:f,isAuthenticated:g}=Me(F=>F.auth),{loading:w}=Me(F=>F.order),[y,_]=D.useState({deliveryAddress:{street:"",city:"",postalCode:"",country:"France",latitude:0,longitude:0},phone:(f==null?void 0:f.phone)||"",notes:"",paymentMethod:"card"}),[j,C]=D.useState({}),[O,$]=D.useState(!1),[z]=D.useState([]),T=c+h;D.useEffect(()=>{if(!g){r("/auth?redirect=/checkout");return}if(a.length===0){r("/cart");return}},[g,a.length,r]);const k=()=>{const F={};return y.deliveryAddress.street.trim()||(F.street="L'adresse est requise"),y.deliveryAddress.city.trim()||(F.city="La ville est requise"),y.deliveryAddress.postalCode.trim()||(F.postalCode="Le code postal est requis"),y.phone.trim()||(F.phone="Le tlphone est requis"),C(F),Object.keys(F).length===0},P=(F,B)=>{if(F.startsWith("address.")){const J=F.replace("address.","");_(se=>({...se,deliveryAddress:{...se.deliveryAddress,[J]:B}}))}else _(J=>({...J,[F]:B}));j[F]&&C(J=>({...J,[F]:""}))},R=async()=>{if(k())try{const F={items:a.map(J=>({productId:J.productId,quantity:J.quantity,unitPrice:J.unitPrice})),deliveryAddress:y.deliveryAddress,phone:y.phone,notes:y.notes,paymentMethod:y.paymentMethod,totalPrice:c,deliveryFee:h,grandTotal:T},B=await i(Lc(F)).unwrap();B&&(i(o_()),r(`/orders/${B.id}`,{state:{success:!0,message:"Commande passe avec succs !"}}))}catch(F){console.error("Erreur lors de la commande:",F)}};return!g||a.length===0?null:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Finaliser la commande"}),s.jsx("p",{className:"text-gray-600",children:"Vrifiez vos informations de livraison et finalisez votre commande"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Adresse de livraison"}),z.length>0&&s.jsx("div",{className:"mb-6",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:O,onChange:F=>$(F.target.checked),className:"mr-3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Utiliser une adresse enregistre"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Adresse *"}),s.jsx("input",{type:"text",value:y.deliveryAddress.street,onChange:F=>P("address.street",F.target.value),className:`form-input ${j.street?"border-red-500":""}`,placeholder:"123 Rue de la Rpublique"}),j.street&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.street})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Ville *"}),s.jsx("input",{type:"text",value:y.deliveryAddress.city,onChange:F=>P("address.city",F.target.value),className:`form-input ${j.city?"border-red-500":""}`,placeholder:"Angers"}),j.city&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Code postal *"}),s.jsx("input",{type:"text",value:y.deliveryAddress.postalCode,onChange:F=>P("address.postalCode",F.target.value),className:`form-input ${j.postalCode?"border-red-500":""}`,placeholder:"49000"}),j.postalCode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.postalCode})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informations de contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Tlphone *"}),s.jsx("input",{type:"tel",value:y.phone,onChange:F=>P("phone",F.target.value),className:`form-input ${j.phone?"border-red-500":""}`,placeholder:"06 12 34 56 78"}),j.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.phone})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Notes pour le livreur (optionnel)"}),s.jsx("textarea",{value:y.notes,onChange:F=>P("notes",F.target.value),className:"form-textarea",rows:3,placeholder:"Instructions spciales, code d'accs, etc."})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Mode de paiement"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:y.paymentMethod==="card",onChange:F=>P("paymentMethod",F.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9z"})}),s.jsx("span",{className:"font-medium",children:"Carte bancaire"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:y.paymentMethod==="cash",onChange:F=>P("paymentMethod",F.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm5 3a1 1 0 000 2h2a1 1 0 100-2H9z"})}),s.jsx("span",{className:"font-medium",children:"Paiement  la livraison"})]})]})]})]})})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"card sticky top-6",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Rcapitulatif de commande"}),s.jsx("div",{className:"space-y-3 mb-6",children:a.map(F=>s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:F.product.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[F.quantity,"  ",F.unitPrice.toFixed(2),""]})]}),s.jsxs("div",{className:"text-sm font-medium",children:[F.totalPrice.toFixed(2),""]})]},F.id))}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Sous-total"}),s.jsxs("span",{className:"font-medium",children:[c.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Frais de livraison"}),s.jsxs("span",{className:"font-medium",children:[h.toFixed(2),""]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[T.toFixed(2),""]})]})})]}),s.jsx("button",{onClick:R,disabled:w,className:"btn-primary w-full",children:w?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Traitement..."]}):"Confirmer la commande"}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Paiement scuris"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Vos donnes sont protges et chiffres"})]})]})})]})})})]})]})},Nb=()=>{const r=lt(),{orders:i,loading:a,error:c}=Me(_=>_.order),{isAuthenticated:h}=Me(_=>_.auth);D.useEffect(()=>{h&&r(fa())},[r,h]);const f=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=_=>{switch(_){case"pending":return"En attente";case"confirmed":return"Confirme";case"preparing":return"En prparation";case"delivered":return"Livre";case"cancelled":return"Annule";default:return _}},w=async _=>{if(confirm("tes-vous sr de vouloir annuler cette commande ?"))try{await r(C0(_)).unwrap()}catch(j){console.error("Erreur lors de l'annulation:",j)}},y=_=>_.status==="pending"||_.status==="confirmed";return h?a?s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mes commandes"})}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((_,j)=>s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},j))})]}):c?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-gray-600 mb-6",children:c}),s.jsx("button",{onClick:()=>r(fa()),className:"btn-primary",children:"Ressayer"})]}):i.length===0?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aucune commande"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Vous n'avez pas encore pass de commande"}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(mt,{to:"/products",className:"btn-primary",children:"Voir les produits"}),s.jsx(mt,{to:"/commerces",className:"btn-secondary",children:"Dcouvrir les commerces"})]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Mes commandes (",i.length,")"]}),s.jsx("p",{className:"text-gray-600",children:"Suivez l'tat de vos commandes et grez vos livraisons"})]}),s.jsx("div",{className:"space-y-6",children:i.map(_=>{var j,C,O,$,z;return s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Commande #",_.id]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Passe le ",new Date(_.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(_.status)}`,children:g(_.status)}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[_.grandTotal?Number(_.grandTotal).toFixed(2):"0.00",""]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[_.items?_.items.reduce((T,k)=>T+(k.quantity||0),0):0," article",(((j=_.items)==null?void 0:j.length)||0)>1?"s":""]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Articles commands"}),s.jsx("div",{className:"space-y-3",children:(_.items||[]).map((T,k)=>{var P,R,F,B;return s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:(P=T.product)!=null&&P.imageUrl?s.jsx("img",{src:T.product.imageUrl,alt:((R=T.product)==null?void 0:R.name)||"Produit",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900",children:((F=T.product)==null?void 0:F.name)||"Produit inconnu"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[T.quantity||0,"  ",T.unitPrice?Number(T.unitPrice).toFixed(2):"0.00",""]}),((B=T.product)==null?void 0:B.commerce)&&s.jsx("p",{className:"text-sm text-gray-500",children:T.product.commerce.name})]})]}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[T.totalPrice?Number(T.totalPrice).toFixed(2):"0.00",""]})]},k)})})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Adresse de livraison"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:((C=_.deliveryAddress)==null?void 0:C.street)||"Adresse non renseigne"}),s.jsxs("p",{children:[((O=_.deliveryAddress)==null?void 0:O.postalCode)||""," ",(($=_.deliveryAddress)==null?void 0:$.city)||""]}),s.jsx("p",{children:((z=_.deliveryAddress)==null?void 0:z.country)||""})]}),_.phone&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Tlphone :"})," ",_.phone]}),_.notes&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Notes :"})," ",_.notes]})]}),s.jsx("div",{className:"border-t border-gray-100 pt-4 mb-6",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Sous-total"}),s.jsxs("span",{children:[_.totalAmount?Number(_.totalAmount).toFixed(2):"0.00",""]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Frais de livraison"}),s.jsxs("span",{children:[_.deliveryFee?Number(_.deliveryFee).toFixed(2):"0.00",""]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:[_.grandTotal?Number(_.grandTotal).toFixed(2):"0.00",""]})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-4",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(mt,{to:`/orders/${_.id}`,className:"btn-secondary",children:"Voir les dtails"}),_.status==="delivered"&&s.jsx("button",{className:"btn-secondary",children:"Renouveler la commande"})]}),y(_)&&s.jsx("button",{onClick:()=>w(_.id),className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Annuler la commande"})]})]})},_.id)})}),i.length>=10&&s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-4 py-2 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:"Prcdent"}),s.jsx("button",{className:"px-4 py-2 text-sm bg-emerald-600 text-white rounded-lg",children:"1"}),s.jsx("button",{className:"px-4 py-2 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:"Suivant"})]})})]}):s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Connectez-vous pour voir vos commandes"}),s.jsx(mt,{to:"/auth",className:"btn-primary",children:"Se connecter"})]})},kb=()=>{var h;const{user:r,isAuthenticated:i}=Me(f=>f.auth),[a,c]=D.useState(!1);return!i||!r?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Accs non autoris"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Vous devez tre connect pour accder  votre profil"}),s.jsx("a",{href:"/auth",className:"btn-primary",children:"Se connecter"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center",children:r.avatar?s.jsx("img",{src:r.avatar,alt:r.name,className:"w-24 h-24 rounded-full object-cover"}):s.jsx("span",{className:"text-3xl font-bold text-emerald-600",children:((h=r.name)==null?void 0:h[0])||r.email[0].toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.name||"Utilisateur"}),s.jsx("p",{className:"text-gray-600 mb-2",children:r.email}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r.role==="itinerant"?"bg-blue-100 text-blue-800":r.role==="sedentary"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.role==="itinerant"?"Commerant itinrant":r.role==="sedentary"?"Commerant sdentaire":"Client"}),r.isVerified&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Compte vrifi"]})]})]}),s.jsx("button",{onClick:()=>c(!a),className:"btn-secondary",children:a?"Annuler":"Modifier"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations personnelles"}),a?s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Nom complet"}),s.jsx("input",{type:"text",defaultValue:r.name||"",className:"form-input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Tlphone"}),s.jsx("input",{type:"tel",defaultValue:r.phone||"",className:"form-input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",defaultValue:r.email,className:"form-input",disabled:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"L'email ne peut pas tre modifi"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:"Sauvegarder"}),s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Annuler"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nom complet"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.name||"Non renseign"})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tlphone"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.phone||"Non renseign"})]})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.email})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Type de compte"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.role==="itinerant"?"Commerant itinrant":r.role==="sedentary"?"Commerant sdentaire":"Client"})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("a",{href:"/orders",className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),s.jsx("span",{className:"text-gray-900",children:"Mes commandes"})]})}),(r.role==="itinerant"||r.role==="sedentary")&&s.jsx("a",{href:"/dashboard",className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"text-gray-900",children:"Mon commerce"})]})}),s.jsx("a",{href:"/favorites",className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsx("span",{className:"text-gray-900",children:"Mes favoris"})]})})]})]})}),(r.role==="itinerant"||r.role==="sedentary")&&s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Commandes ce mois"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"12"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Chiffre d'affaires"}),s.jsx("span",{className:"text-lg font-bold text-emerald-600",children:"385.50"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Note moyenne"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"4.8"}),s.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]})})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scurit"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),s.jsx("span",{className:"text-gray-900",children:"Changer mot de passe"})]})}),s.jsx("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-gray-900",children:"Vrification deux facteurs"})]})})]})]})})]})]})]})},Cb=()=>{const r=lt(),i=xs(),{loading:a,error:c}=Me(j=>j.auth),[h,f]=D.useState(!0),[g,w]=D.useState({email:"",password:"",name:"",role:"others",confirmPassword:""}),y=j=>{w({...g,[j.target.name]:j.target.value})},_=async j=>{if(j.preventDefault(),!h&&g.password!==g.confirmPassword){window.addNotification&&window.addNotification({type:"error",title:"Erreur",message:"Les mots de passe ne correspondent pas"});return}try{h?await r(jc({email:g.email,password:g.password})).unwrap():await r(Nc({email:g.email,password:g.password,role:g.role,name:g.name})).unwrap(),i("/"),window.addNotification&&window.addNotification({type:"success",title:"Succs",message:h?"Connexion russie":"Inscription russie"})}catch{}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mx-auto h-12 w-12 bg-emerald-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:h?"Connectez-vous":"Crez votre compte"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:h?s.jsxs(s.Fragment,{children:["Pas encore de compte ?"," ",s.jsx("button",{onClick:()=>f(!1),className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Inscrivez-vous"})]}):s.jsxs(s.Fragment,{children:["Dj un compte ?"," ",s.jsx("button",{onClick:()=>f(!0),className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Connectez-vous"})]})})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur d'authentification"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:c})]})]})}),s.jsxs("div",{className:"space-y-4",children:[!h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"form-label",children:"Nom complet"}),s.jsx("input",{id:"name",name:"name",type:"text",required:!h,value:g.name,onChange:y,className:"form-input",placeholder:"Votre nom complet"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"form-label",children:"Adresse email"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:g.email,onChange:y,className:"form-input",placeholder:"votre@email.com"})]}),!h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"form-label",children:"Type de compte"}),s.jsxs("select",{id:"role",name:"role",required:!h,value:g.role,onChange:y,className:"form-input",children:[s.jsx("option",{value:"others",children:"Client"}),s.jsx("option",{value:"itinerant",children:"Commerant itinrant"}),s.jsx("option",{value:"sedentary",children:"Commerant sdentaire"})]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[g.role==="itinerant"&&"Vendeur mobile qui se dplace",g.role==="sedentary"&&"Commerce avec adresse fixe",g.role==="others"&&"Acheteur de produits"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Mot de passe"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:h?"current-password":"new-password",required:!0,value:g.password,onChange:y,className:"form-input",placeholder:""})]}),!h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmer le mot de passe"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!h,value:g.confirmPassword,onChange:y,className:"form-input",placeholder:""})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full",children:a?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h?"Connexion...":"Inscription..."]}):s.jsx(s.Fragment,{children:h?"Se connecter":"S'inscrire"})})}),!h&&s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("p",{children:["En crant un compte, vous acceptez nos"," ",s.jsx("a",{href:"/terms",className:"text-emerald-600 hover:text-emerald-500",children:"conditions d'utilisation"})," ","et notre"," ",s.jsx("a",{href:"/privacy",className:"text-emerald-600 hover:text-emerald-500",children:"politique de confidentialit"}),"."]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Ou"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("a",{href:"/",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Continuer sans compte"})})]})]})})},Sb=()=>{const{user:r}=Me(w=>w.auth),[i,a]=D.useState(!1),[c,h]=D.useState("interests"),f=(r==null?void 0:r.statut_type)==="itinerant"||(r==null?void 0:r.statut_type)==="sedentary",g=()=>{a(!1)};return s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Manifestations d'intrt"}),s.jsx("p",{className:"text-gray-600",children:f?"Grez vos manifestations d'intrt et notifiez vos clients de la disponibilit de vos produits":"Manifestez votre intrt pour des produits et recevez des notifications quand ils sont disponibles"})]}),f&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>h("interests"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="interests"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Mes manifestations"}),s.jsx("button",{onClick:()=>h("merchant"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="merchant"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Dashboard marchand"})]})})}),s.jsxs("div",{className:"space-y-6",children:[(!f||c==="interests")&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:()=>a(!0),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:" Nouvelle manifestation d'intrt"})}),s.jsx(yb,{onCreateClick:()=>a(!0),showCreateButton:!1})]}),f&&c==="merchant"&&s.jsx(_b,{})]}),s.jsx(Pi,{isOpen:i,onClose:()=>a(!1),title:"Nouvelle manifestation d'intrt",size:"md",children:s.jsx(ng,{onSuccess:g,onCancel:()=>a(!1)})})]})},Pb=()=>s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center px-4",children:s.jsx(nt,{className:"max-w-md w-full",children:s.jsxs(nt.Body,{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-6",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Accs Non Autoris"}),s.jsx("p",{className:"text-slate-600 mb-8",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(tn,{as:mt,to:"/",className:"w-full",children:"Retour  l'accueil"}),s.jsx(tn,{variant:"secondary",as:mt,to:"/auth",className:"w-full",children:"Se connecter avec un autre compte"})]})]})})}),Eb=({products:r,orders:i,commerce:a})=>{const c=r.length,h=r.filter(k=>k.isAvailable&&k.stock>0).length,f=r.filter(k=>k.stock===0).length,g=i.length,w=i.filter(k=>new Date(k.createdAt).toDateString()===new Date().toDateString()).length;i.filter(k=>{const P=new Date(k.createdAt),R=new Date,F=new Date(R.getTime()-10080*60*1e3);return P>=F}).length;const y=i.filter(k=>k.status!=="cancelled").reduce((k,P)=>k+P.grandTotal,0),_=i.filter(k=>k.status!=="cancelled"&&new Date(k.createdAt).toDateString()===new Date().toDateString()).reduce((k,P)=>k+P.grandTotal,0),j=g>0?y/g:0,C=i.filter(k=>k.status==="pending").length,O=i.filter(k=>k.status==="preparing").length,$=[{title:"Produits actifs",value:h,total:c,icon:"",color:"green",trend:f>0?"warning":"positive"},{title:"Commandes aujourd'hui",value:w,total:g,icon:"",color:"blue",trend:"neutral"},{title:"Revenus aujourd'hui",value:`${_.toFixed(2)}`,total:`${y.toFixed(2)}`,icon:"",color:"yellow",trend:"positive"},{title:"Commandes en attente",value:C,total:O,icon:"",color:"orange",trend:C>0?"warning":"positive"}],z=k=>{const P={green:"bg-green-500 text-green-50",blue:"bg-blue-500 text-blue-50",yellow:"bg-yellow-500 text-yellow-50",orange:"bg-orange-500 text-orange-50"};return P[k]||P.green},T=k=>{switch(k){case"positive":return"";case"warning":return"";default:return""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:$.map((k,P)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-xl ${z(k.color)}`,children:k.icon}),s.jsx("span",{className:"text-lg",children:T(k.trend)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:k.title}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:k.value}),typeof k.total=="string"&&k.total!==k.value&&s.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",k.total]}),typeof k.total=="number"&&k.total!==k.value&&s.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",k.total]})]})]})]},P))}),a&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" Statut du commerce"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nom du commerce"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.name})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Type"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-lg",children:a.userId?"":""}),s.jsx("span",{className:"text-gray-900",children:a.userId?"Commerce itinrant":"Commerce fixe"})]})]}),a.category&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Catgorie"}),s.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full",children:a.category})]})]}),s.jsxs("div",{className:"space-y-4",children:[a.isVerified&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Commerce vrifi"})]}),a.rating&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Note moyenne"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((k,P)=>s.jsx("svg",{className:`w-4 h-4 ${P<Math.floor(a.rating||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},P))}),s.jsxs("span",{className:"text-sm text-gray-600",children:[a.rating.toFixed(1),"/5"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Panier moyen"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[j.toFixed(2),""]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" Actions rapides"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-green-600",children:"Ajouter un produit"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Voir les rapports"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-orange-600",children:"Commandes en attente"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-600",children:"Paramtres"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" Activit rcente"}),i.slice(0,5).length>0?s.jsx("div",{className:"space-y-3",children:i.slice(0,5).map(k=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:""})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Commande #",k.id]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleDateString("fr-FR")})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[k.grandTotal.toFixed(2),""]}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${k.status==="delivered"?"bg-green-100 text-green-800":k.status==="preparing"?"bg-yellow-100 text-yellow-800":k.status==="pending"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:k.status})]})]},k.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("span",{className:"text-4xl mb-2 block",children:""}),s.jsx("p",{children:"Aucune commande rcente"})]})]})]})},Lb=({commerce:r,products:i})=>{lt();const[a,c]=D.useState(!1),[h,f]=D.useState(!1),[g,w]=D.useState(null),[y,_]=D.useState(""),[j,C]=D.useState(""),[O,$]=D.useState("all"),[z,T]=D.useState({name:"",description:"",price:0,unit:"pice",category:"",stock:0,isAvailable:!0}),k=i.filter(q=>{const Re=q.name.toLowerCase().includes(y.toLowerCase())||q.description.toLowerCase().includes(y.toLowerCase()),Fe=!j||q.category===j,De=O==="all"||O==="available"&&q.isAvailable&&q.stock>0||O==="out_of_stock"&&q.stock===0;return Re&&Fe&&De}),P=[...new Set(i.map(q=>q.category))],R=q=>{const{name:Re,value:Fe,type:De}=q.target;T(Je=>({...Je,[Re]:De==="checkbox"?q.target.checked:De==="number"?parseFloat(Fe)||0:Fe}))},F=async q=>{q.preventDefault();try{g?console.log("Updating product:",g.id,z):console.log("Creating product:",z),B()}catch(Re){console.error("Error saving product:",Re)}},B=()=>{T({name:"",description:"",price:0,unit:"pice",category:"",stock:0,isAvailable:!0}),w(null),c(!1),f(!1)},J=q=>{w(q),T({name:q.name,description:q.description,price:q.price,unit:q.unit,category:q.category,stock:q.stock,isAvailable:q.isAvailable}),f(!0)},se=async q=>{if(confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{console.log("Deleting product:",q)}catch(Re){console.error("Error deleting product:",Re)}},ae=async q=>{try{console.log("Toggling availability for:",q.id)}catch(Re){console.error("Error updating product availability:",Re)}},te=()=>s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du produit *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:z.name,onChange:R,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Ex: Bananes plantains"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie *"}),s.jsxs("select",{id:"category",name:"category",value:z.category,onChange:R,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Slectionner une catgorie"}),s.jsx("option",{value:"Fruits",children:"Fruits"}),s.jsx("option",{value:"Lgumes",children:"Lgumes"}),s.jsx("option",{value:"pices",children:"pices"}),s.jsx("option",{value:"Poissons",children:"Poissons"}),s.jsx("option",{value:"Viandes",children:"Viandes"}),s.jsx("option",{value:"Autres",children:"Autres"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:z.description,onChange:R,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Description du produit..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",id:"price",name:"price",value:z.price,onChange:R,step:"0.01",min:"0",required:!0,className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"0.00"}),s.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),s.jsxs("select",{id:"unit",name:"unit",value:z.unit,onChange:R,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"pice",children:"pice"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"litre",children:"litre"}),s.jsx("option",{value:"paquet",children:"paquet"}),s.jsx("option",{value:"botte",children:"botte"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock *"}),s.jsx("input",{type:"number",id:"stock",name:"stock",value:z.stock,onChange:R,min:"0",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"0"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isAvailable",name:"isAvailable",checked:z.isAvailable,onChange:R,className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isAvailable",className:"ml-2 text-sm text-gray-700",children:"Produit disponible  la vente"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:g?"Mettre  jour":"Crer le produit"})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" Gestion des produits"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[i.length," produit",i.length!==1?"s":""," dans votre catalogue"]})]}),s.jsxs("button",{onClick:()=>c(!0),className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:[s.jsx("span",{className:"mr-2",children:""}),"Nouveau produit"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:y,onChange:q=>_(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),s.jsx("div",{children:s.jsxs("select",{value:j,onChange:q=>C(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Toutes les catgories"}),P.map(q=>s.jsx("option",{value:q,children:q},q))]})}),s.jsx("div",{children:s.jsxs("select",{value:O,onChange:q=>$(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"available",children:"Disponibles"}),s.jsx("option",{value:"out_of_stock",children:"Rupture de stock"})]})}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[k.length," produit",k.length!==1?"s":""," affich",k.length!==1?"s":""]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:k.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i.length===0?"Aucun produit":"Aucun rsultat"}),s.jsx("p",{className:"text-gray-600 mb-4",children:i.length===0?"Commencez par ajouter votre premier produit":"Aucun produit ne correspond  vos critres de recherche"}),i.length===0&&s.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:[s.jsx("span",{className:"mr-2",children:""}),"Ajouter un produit"]})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:k.map(q=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:q.name}),s.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:q.category}),!q.isAvailable&&s.jsx("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"Indisponible"}),q.stock===0&&s.jsx("span",{className:"inline-block px-2 py-1 bg-orange-100 text-orange-700 text-xs font-medium rounded-full",children:"Rupture de stock"}),q.stock<=5&&q.stock>0&&s.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:"Stock faible"})]}),q.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:q.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[s.jsxs("span",{className:"font-semibold text-gray-900",children:[q.price.toFixed(2)," / ",q.unit]}),s.jsxs("span",{children:["Stock: ",q.stock]}),s.jsxs("span",{children:["Ajout le ",new Date(q.createdAt).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>ae(q),className:`p-2 rounded-lg transition-colors ${q.isAvailable?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:q.isAvailable?"Dsactiver":"Activer",children:q.isAvailable?"":""}),s.jsx("button",{onClick:()=>J(q),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Modifier",children:""}),s.jsx("button",{onClick:()=>se(q.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Supprimer",children:""})]})]})},q.id))})}),s.jsx(Pi,{isOpen:a,onClose:()=>c(!1),title:" Nouveau produit",size:"lg",children:s.jsx(te,{})}),s.jsx(Pi,{isOpen:h,onClose:()=>f(!1),title:" Modifier le produit",size:"lg",children:s.jsx(te,{})})]})},Tb=({orders:r,commerce:i})=>{lt();const[a,c]=D.useState("all"),[h,f]=D.useState(""),[g,w]=D.useState(null),y=r.filter(P=>{const R=a==="all"||P.status===a,F=P.id.toString().includes(h)||P.phone.includes(h);return R&&F}),_=P=>{const R={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200",preparing:"bg-orange-100 text-orange-800 border-orange-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"};return R[P]||R.pending},j=P=>({pending:"",confirmed:"",preparing:"",delivered:"",cancelled:""})[P]||"",C=P=>({pending:"En attente",confirmed:"Confirme",preparing:"En prparation",delivered:"Livre",cancelled:"Annule"})[P]||P,O=async(P,R)=>{try{console.log("Changing order status:",P,R)}catch(F){console.error("Error updating order status:",F)}},$=P=>({pending:"confirmed",confirmed:"preparing",preparing:"delivered",delivered:null,cancelled:null})[P],z=P=>$(P)!==null,T=({order:P})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Informations de commande"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Numro:"}),s.jsxs("span",{className:"font-medium",children:["#",P.id]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date:"}),s.jsx("span",{children:new Date(P.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Statut:"}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(P.status)}`,children:[j(P.status)," ",C(P.status)]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact client"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tlphone:"}),s.jsx("span",{className:"font-medium",children:P.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Mode de paiement:"}),s.jsx("span",{className:"capitalize",children:P.paymentMethod})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Adresse de livraison"}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[s.jsx("p",{children:P.deliveryAddress.street}),s.jsxs("p",{children:[P.deliveryAddress.postalCode," ",P.deliveryAddress.city]}),s.jsx("p",{children:P.deliveryAddress.country})]})]}),P.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes du client"}),s.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg text-sm border border-yellow-200",children:P.notes})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Produits commands"}),s.jsx("div",{className:"space-y-2",children:P.items.map(R=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:R.product.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[R.unitPrice.toFixed(2)," / ",R.product.unit]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["x",R.quantity]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[R.totalPrice.toFixed(2),""]})]})]},R.id))})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sous-total:"}),s.jsxs("span",{children:[P.totalAmount.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Frais de livraison:"}),s.jsxs("span",{children:[P.deliveryFee.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:[P.grandTotal.toFixed(2),""]})]})]})})]}),k={pending:r.filter(P=>P.status==="pending").length,confirmed:r.filter(P=>P.status==="confirmed").length,preparing:r.filter(P=>P.status==="preparing").length,delivered:r.filter(P=>P.status==="delivered").length,cancelled:r.filter(P=>P.status==="cancelled").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(k).map(([P,R])=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[s.jsx("div",{className:"text-2xl mb-1",children:j(P)}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R}),s.jsx("div",{className:"text-xs text-gray-600",children:C(P)})]},P))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" Gestion des commandes"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[r.length," commande",r.length!==1?"s":""," au total"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Rechercher par numro ou tlphone...",value:h,onChange:P=>f(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),s.jsx("div",{children:s.jsxs("select",{value:a,onChange:P=>c(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"confirmed",children:"Confirmes"}),s.jsx("option",{value:"preparing",children:"En prparation"}),s.jsx("option",{value:"delivered",children:"Livres"}),s.jsx("option",{value:"cancelled",children:"Annules"})]})}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[y.length," commande",y.length!==1?"s":""," affich",y.length!==1?"es":"e"]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r.length===0?"Aucune commande":"Aucun rsultat"}),s.jsx("p",{className:"text-gray-600",children:r.length===0?"Vous n'avez pas encore reu de commandes":"Aucune commande ne correspond  vos critres de recherche"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:y.map(P=>s.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Commande #",P.id]}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${_(P.status)}`,children:[j(P.status)," ",C(P.status)]}),P.paymentMethod==="cash"&&s.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:" Paiement cash"})]}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{children:[" ",P.phone]}),s.jsxs("span",{children:[" ",new Date(P.createdAt).toLocaleDateString("fr-FR")]}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[P.grandTotal.toFixed(2),""]}),s.jsxs("span",{children:[P.items.length," article",P.items.length!==1?"s":""]})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[" ",P.deliveryAddress.street,", ",P.deliveryAddress.city]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[z(P.status)&&s.jsxs("button",{onClick:()=>O(P.id,$(P.status)),className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-lg hover:bg-green-200 transition-colors",children:[" ",C($(P.status))]}),P.status==="pending"&&s.jsx("button",{onClick:()=>O(P.id,"cancelled"),className:"px-3 py-1 bg-red-100 text-red-700 text-sm font-medium rounded-lg hover:bg-red-200 transition-colors",children:" Annuler"}),s.jsx("button",{onClick:()=>w((g==null?void 0:g.id)===P.id?null:P),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-lg hover:bg-blue-200 transition-colors",children:(g==null?void 0:g.id)===P.id?" Masquer":" Dtails"})]})]}),(g==null?void 0:g.id)===P.id&&s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx(T,{order:P})})]},P.id))})})]})},Mb=({commerce:r,user:i})=>{lt();const[a,c]=D.useState(!1),[h,f]=D.useState("info"),[g,w]=D.useState({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",adress1:(r==null?void 0:r.adress1)||"",ville:(r==null?void 0:r.ville)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||"",category:(r==null?void 0:r.category)||""}),y=C=>{const{name:O,value:$}=C.target;w(z=>({...z,[O]:$}))},_=async C=>{C.preventDefault();try{console.log("Updating commerce:",g),c(!1)}catch(O){console.error("Error updating commerce:",O)}},j=()=>{w({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",adress1:(r==null?void 0:r.adress1)||"",ville:(r==null?void 0:r.ville)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||"",category:(r==null?void 0:r.category)||""}),c(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-2xl",children:(i==null?void 0:i.role)==="itinerant"?"":""}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.name)||"Mon commerce"}),s.jsxs("p",{className:"text-gray-600",children:["Commerce ",(i==null?void 0:i.role)==="itinerant"?"itinrant":"sdentaire"]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[(r==null?void 0:r.isVerified)&&s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-100 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Vrifi"})]}),(i==null?void 0:i.role)==="itinerant"&&s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 rounded-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"En ligne"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"info",label:" Informations",icon:""},{id:"settings",label:" Paramtres",icon:""},{id:"hours",label:" Horaires",icon:""}].map(C=>s.jsx("button",{onClick:()=>f(C.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${h===C.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:C.label},C.id))})}),s.jsxs("div",{className:"p-6",children:[h==="info"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informations du commerce"}),a?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{onClick:_,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Sauvegarder"})]}):s.jsx("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:" Modifier"})]}),a?s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du commerce *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:g.name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie"}),s.jsxs("select",{id:"category",name:"category",value:g.category,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Slectionner une catgorie"}),s.jsx("option",{value:"Fruits et lgumes",children:"Fruits et lgumes"}),s.jsx("option",{value:"picerie",children:"picerie"}),s.jsx("option",{value:"Boucherie",children:"Boucherie"}),s.jsx("option",{value:"Poissonnerie",children:"Poissonnerie"}),s.jsx("option",{value:"Boulangerie",children:"Boulangerie"}),s.jsx("option",{value:"Restauration",children:"Restauration"}),s.jsx("option",{value:"Autres",children:"Autres"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:g.description,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Dcrivez votre commerce, vos spcialits..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"adress1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),s.jsx("input",{type:"text",id:"adress1",name:"adress1",value:g.adress1,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ville",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),s.jsx("input",{type:"text",id:"ville",name:"ville",value:g.ville,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:g.phone,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:g.email,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nom du commerce"}),s.jsx("p",{className:"text-lg text-gray-900",children:(r==null?void 0:r.name)||"Non renseign"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Catgorie"}),s.jsx("p",{className:"text-lg text-gray-900",children:r!=null&&r.category?s.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 rounded-full",children:r.category}):"Non renseigne"})]})]}),(r==null?void 0:r.description)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Adresse"}),s.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.adress1)||"Non renseigne"}),(r==null?void 0:r.ville)&&s.jsx("p",{className:"text-gray-600",children:r.ville})]}),s.jsxs("div",{className:"space-y-4",children:[(r==null?void 0:r.phone)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tlphone"}),s.jsx("p",{className:"text-gray-900",children:r.phone})]}),(r==null?void 0:r.email)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:r.email})]})]})]})]})]}),h==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Paramtres"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications de nouvelles commandes"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Visibilit du commerce"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Afficher mon commerce sur la carte"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]}),(i==null?void 0:i.role)==="itinerant"&&s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Suivi GPS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Partager ma position en temps rel"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Accepter les nouveaux clients"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Autoriser de nouveaux clients  commander"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]})]})]}),h==="hours"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Horaires d'ouverture"}),s.jsx("div",{className:"space-y-4",children:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"].map(C=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"w-20",children:s.jsx("span",{className:"font-medium text-gray-900",children:C})}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:C!=="Dimanche"}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Ouverture"}),s.jsx("input",{type:"time",defaultValue:"08:00",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Fermeture"}),s.jsx("input",{type:"time",defaultValue:"18:00",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]},C))}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx("button",{className:"w-full md:w-auto px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:"Sauvegarder les horaires"})})]})]})]})]})},Rb=()=>{const r=lt(),{user:i}=Me(_=>_.auth),{products:a}=Me(_=>_.product),{orders:c}=Me(_=>_.order),{currentCommerce:h}=Me(_=>_.commerce),[f,g]=D.useState("overview"),w=(i==null?void 0:i.role)==="itinerant"||(i==null?void 0:i.role)==="sedentary";if(D.useEffect(()=>{i&&w&&(r(fa()),i.id&&r(Eo(i.id)))},[i,w,r]),D.useEffect(()=>{h&&r(Lo(h.id))},[h,r]),!w)return s.jsx("div",{className:"max-w-2xl mx-auto text-center py-16",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[s.jsx("svg",{className:"w-12 h-12 text-yellow-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Accs rserv aux vendeurs"}),s.jsx("p",{className:"text-gray-600",children:"Ce tableau de bord est rserv aux commerants itinrants et sdentaires."})]})});const y=[{id:"overview",label:" Vue d'ensemble",icon:""},{id:"products",label:" Mes produits",icon:""},{id:"orders",label:" Commandes",icon:""},{id:"profile",label:" Mon commerce",icon:""}];return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[(i==null?void 0:i.role)==="itinerant"?"":""," Dashboard Vendeur"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez votre activit commerciale en temps rel"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[(i==null?void 0:i.role)==="itinerant"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"En ligne"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Ventes aujourd'hui"}),s.jsx("div",{className:"text-xl font-bold text-green-600",children:(c==null?void 0:c.filter(_=>new Date(_.createdAt).toDateString()===new Date().toDateString()).length)||0})]})]})]})}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(_=>s.jsx("button",{onClick:()=>g(_.id),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${f===_.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:_.label},_.id))})}),s.jsxs("div",{className:"space-y-6",children:[f==="overview"&&s.jsx(Eb,{products:a||[],orders:c||[],commerce:h}),f==="products"&&s.jsx(Lb,{commerce:h,products:a||[]}),f==="orders"&&s.jsx(Tb,{orders:c||[],commerce:h}),f==="profile"&&s.jsx(Mb,{commerce:h,user:i})]})]})};function zb(){const r=lt();return D.useEffect(()=>{r(kc())},[r]),s.jsxs(s.Fragment,{children:[s.jsx(Hw,{children:s.jsxs(hv,{children:[s.jsx(en,{path:"/",element:null}),s.jsx(en,{path:"/commerces",element:s.jsx(Gw,{})}),s.jsx(en,{path:"/commerces/:id",element:s.jsx(Kw,{})}),s.jsx(en,{path:"/products",element:s.jsx(Jw,{})}),s.jsx(en,{path:"/products/:id",element:s.jsx(wb,{})}),s.jsx(en,{path:"/cart",element:s.jsx(bb,{})}),s.jsx(en,{path:"/checkout",element:s.jsx(jb,{})}),s.jsx(en,{path:"/orders",element:s.jsx(Nb,{})}),s.jsx(en,{path:"/profile",element:s.jsx(kb,{})}),s.jsx(en,{path:"/auth",element:s.jsx(Cb,{})}),s.jsx(en,{path:"/interests",element:s.jsx(Sb,{})}),s.jsx(en,{path:"/dashboard",element:s.jsx(Rb,{})}),s.jsx(en,{path:"/unauthorized",element:s.jsx(Pb,{})})]})}),s.jsx(Zw,{}),s.jsx(qw,{})]})}Yg.createRoot(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(mx,{store:N_,children:s.jsx(yv,{children:s.jsx(zb,{})})})}));
