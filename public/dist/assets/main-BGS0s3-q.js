var T0=Object.defineProperty;var M0=(r,i,a)=>i in r?T0(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a;var xn=(r,i,a)=>M0(r,typeof i!="symbol"?i+"":i,a);function R0(r,i){for(var a=0;a<i.length;a++){const c=i[a];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in r)){const p=Object.getOwnPropertyDescriptor(c,h);p&&Object.defineProperty(r,h,p.get?p:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function a(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=a(h);fetch(h.href,p)}})();function dp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},ba={},Ed={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function z0(){if(um)return ze;um=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.iterator;function I(z){return z===null||typeof z!="object"?null:(z=C&&z[C]||z["@@iterator"],typeof z=="function"?z:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function k(z,J,ce){this.props=z,this.context=J,this.refs=T,this.updater=ce||W}k.prototype.isReactComponent={},k.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=k.prototype;function R(z,J,ce){this.props=z,this.context=J,this.refs=T,this.updater=ce||W}var $=R.prototype=new S;$.constructor=R,O($,k.prototype),$.isPureReactComponent=!0;var K=Array.isArray,G=Object.prototype.hasOwnProperty,se={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ne(z,J,ce){var le,he={},ue=null,we=null;if(J!=null)for(le in J.ref!==void 0&&(we=J.ref),J.key!==void 0&&(ue=""+J.key),J)G.call(J,le)&&!oe.hasOwnProperty(le)&&(he[le]=J[le]);var Te=arguments.length-2;if(Te===1)he.children=ce;else if(1<Te){for(var $e=Array(Te),at=0;at<Te;at++)$e[at]=arguments[at+2];he.children=$e}if(z&&z.defaultProps)for(le in Te=z.defaultProps,Te)he[le]===void 0&&(he[le]=Te[le]);return{$$typeof:r,type:z,key:ue,ref:we,props:he,_owner:se.current}}function X(z,J){return{$$typeof:r,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function Fe(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function We(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return J[ce]})}var De=/\/+/g;function pt(z,J){return typeof z=="object"&&z!==null&&z.key!=null?We(""+z.key):J.toString(36)}function Xe(z,J,ce,le,he){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(ue){case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case r:case i:we=!0}}if(we)return we=z,he=he(we),z=le===""?"."+pt(we,0):le,K(he)?(ce="",z!=null&&(ce=z.replace(De,"$&/")+"/"),Xe(he,J,ce,"",function(at){return at})):he!=null&&(Fe(he)&&(he=X(he,ce+(!he.key||we&&we.key===he.key?"":(""+he.key).replace(De,"$&/")+"/")+z)),J.push(he)),1;if(we=0,le=le===""?".":le+":",K(z))for(var Te=0;Te<z.length;Te++){ue=z[Te];var $e=le+pt(ue,Te);we+=Xe(ue,J,ce,$e,he)}else if($e=I(z),typeof $e=="function")for(z=$e.call(z),Te=0;!(ue=z.next()).done;)ue=ue.value,$e=le+pt(ue,Te++),we+=Xe(ue,J,ce,$e,he);else if(ue==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return we}function yt(z,J,ce){if(z==null)return z;var le=[],he=0;return Xe(z,le,"","",function(ue){return J.call(ce,ue,he++)}),le}function Re(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var Ie={current:null},U={transition:null},_e={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:U,ReactCurrentOwner:se};function Q(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:yt,forEach:function(z,J,ce){yt(z,function(){J.apply(this,arguments)},ce)},count:function(z){var J=0;return yt(z,function(){J++}),J},toArray:function(z){return yt(z,function(J){return J})||[]},only:function(z){if(!Fe(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ze.Component=k,ze.Fragment=a,ze.Profiler=h,ze.PureComponent=R,ze.StrictMode=c,ze.Suspense=y,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,ze.act=Q,ze.cloneElement=function(z,J,ce){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var le=O({},z.props),he=z.key,ue=z.ref,we=z._owner;if(J!=null){if(J.ref!==void 0&&(ue=J.ref,we=se.current),J.key!==void 0&&(he=""+J.key),z.type&&z.type.defaultProps)var Te=z.type.defaultProps;for($e in J)G.call(J,$e)&&!oe.hasOwnProperty($e)&&(le[$e]=J[$e]===void 0&&Te!==void 0?Te[$e]:J[$e])}var $e=arguments.length-2;if($e===1)le.children=ce;else if(1<$e){Te=Array($e);for(var at=0;at<$e;at++)Te[at]=arguments[at+2];le.children=Te}return{$$typeof:r,type:z.type,key:he,ref:ue,props:le,_owner:we}},ze.createContext=function(z){return z={$$typeof:g,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:p,_context:z},z.Consumer=z},ze.createElement=ne,ze.createFactory=function(z){var J=ne.bind(null,z);return J.type=z,J},ze.createRef=function(){return{current:null}},ze.forwardRef=function(z){return{$$typeof:w,render:z}},ze.isValidElement=Fe,ze.lazy=function(z){return{$$typeof:N,_payload:{_status:-1,_result:z},_init:Re}},ze.memo=function(z,J){return{$$typeof:_,type:z,compare:J===void 0?null:J}},ze.startTransition=function(z){var J=U.transition;U.transition={};try{z()}finally{U.transition=J}},ze.unstable_act=Q,ze.useCallback=function(z,J){return Ie.current.useCallback(z,J)},ze.useContext=function(z){return Ie.current.useContext(z)},ze.useDebugValue=function(){},ze.useDeferredValue=function(z){return Ie.current.useDeferredValue(z)},ze.useEffect=function(z,J){return Ie.current.useEffect(z,J)},ze.useId=function(){return Ie.current.useId()},ze.useImperativeHandle=function(z,J,ce){return Ie.current.useImperativeHandle(z,J,ce)},ze.useInsertionEffect=function(z,J){return Ie.current.useInsertionEffect(z,J)},ze.useLayoutEffect=function(z,J){return Ie.current.useLayoutEffect(z,J)},ze.useMemo=function(z,J){return Ie.current.useMemo(z,J)},ze.useReducer=function(z,J,ce){return Ie.current.useReducer(z,J,ce)},ze.useRef=function(z){return Ie.current.useRef(z)},ze.useState=function(z){return Ie.current.useState(z)},ze.useSyncExternalStore=function(z,J,ce){return Ie.current.useSyncExternalStore(z,J,ce)},ze.useTransition=function(){return Ie.current.useTransition()},ze.version="18.3.1",ze}var dm;function Zc(){return dm||(dm=1,Ed.exports=z0()),Ed.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function A0(){if(hm)return ba;hm=1;var r=Zc(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(w,y,_){var N,C={},I=null,W=null;_!==void 0&&(I=""+_),y.key!==void 0&&(I=""+y.key),y.ref!==void 0&&(W=y.ref);for(N in y)c.call(y,N)&&!p.hasOwnProperty(N)&&(C[N]=y[N]);if(w&&w.defaultProps)for(N in y=w.defaultProps,y)C[N]===void 0&&(C[N]=y[N]);return{$$typeof:i,type:w,key:I,ref:W,props:C,_owner:h.current}}return ba.Fragment=a,ba.jsx=g,ba.jsxs=g,ba}var fm;function O0(){return fm||(fm=1,Pd.exports=A0()),Pd.exports}var s=O0(),D=Zc();const Ac=dp(D),I0=R0({__proto__:null,default:Ac},[D]);var pc={},Ld={exports:{}},Yt={},Td={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function D0(){return mm||(mm=1,(function(r){function i(U,_e){var Q=U.length;U.push(_e);e:for(;0<Q;){var z=Q-1>>>1,J=U[z];if(0<h(J,_e))U[z]=_e,U[Q]=J,Q=z;else break e}}function a(U){return U.length===0?null:U[0]}function c(U){if(U.length===0)return null;var _e=U[0],Q=U.pop();if(Q!==_e){U[0]=Q;e:for(var z=0,J=U.length,ce=J>>>1;z<ce;){var le=2*(z+1)-1,he=U[le],ue=le+1,we=U[ue];if(0>h(he,Q))ue<J&&0>h(we,he)?(U[z]=we,U[ue]=Q,z=ue):(U[z]=he,U[le]=Q,z=le);else if(ue<J&&0>h(we,Q))U[z]=we,U[ue]=Q,z=ue;else break e}}return _e}function h(U,_e){var Q=U.sortIndex-_e.sortIndex;return Q!==0?Q:U.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var g=Date,w=g.now();r.unstable_now=function(){return g.now()-w}}var y=[],_=[],N=1,C=null,I=3,W=!1,O=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(U){for(var _e=a(_);_e!==null;){if(_e.callback===null)c(_);else if(_e.startTime<=U)c(_),_e.sortIndex=_e.expirationTime,i(y,_e);else break;_e=a(_)}}function K(U){if(T=!1,$(U),!O)if(a(y)!==null)O=!0,Re(G);else{var _e=a(_);_e!==null&&Ie(K,_e.startTime-U)}}function G(U,_e){O=!1,T&&(T=!1,S(ne),ne=-1),W=!0;var Q=I;try{for($(_e),C=a(y);C!==null&&(!(C.expirationTime>_e)||U&&!We());){var z=C.callback;if(typeof z=="function"){C.callback=null,I=C.priorityLevel;var J=z(C.expirationTime<=_e);_e=r.unstable_now(),typeof J=="function"?C.callback=J:C===a(y)&&c(y),$(_e)}else c(y);C=a(y)}if(C!==null)var ce=!0;else{var le=a(_);le!==null&&Ie(K,le.startTime-_e),ce=!1}return ce}finally{C=null,I=Q,W=!1}}var se=!1,oe=null,ne=-1,X=5,Fe=-1;function We(){return!(r.unstable_now()-Fe<X)}function De(){if(oe!==null){var U=r.unstable_now();Fe=U;var _e=!0;try{_e=oe(!0,U)}finally{_e?pt():(se=!1,oe=null)}}else se=!1}var pt;if(typeof R=="function")pt=function(){R(De)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,yt=Xe.port2;Xe.port1.onmessage=De,pt=function(){yt.postMessage(null)}}else pt=function(){k(De,0)};function Re(U){oe=U,se||(se=!0,pt())}function Ie(U,_e){ne=k(function(){U(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_continueExecution=function(){O||W||(O=!0,Re(G))},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return a(y)},r.unstable_next=function(U){switch(I){case 1:case 2:case 3:var _e=3;break;default:_e=I}var Q=I;I=_e;try{return U()}finally{I=Q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(U,_e){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=I;I=U;try{return _e()}finally{I=Q}},r.unstable_scheduleCallback=function(U,_e,Q){var z=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,U={id:N++,callback:_e,priorityLevel:U,startTime:Q,expirationTime:J,sortIndex:-1},Q>z?(U.sortIndex=Q,i(_,U),a(y)===null&&U===a(_)&&(T?(S(ne),ne=-1):T=!0,Ie(K,Q-z))):(U.sortIndex=J,i(y,U),O||W||(O=!0,Re(G))),U},r.unstable_shouldYield=We,r.unstable_wrapCallback=function(U){var _e=I;return function(){var Q=I;I=_e;try{return U.apply(this,arguments)}finally{I=Q}}}})(Md)),Md}var pm;function B0(){return pm||(pm=1,Td.exports=D0()),Td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function F0(){if(gm)return Yt;gm=1;var r=Zc(),i=B0();function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function p(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(h[e]=n,e=0;e<n.length;e++)c.add(n[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},C={};function I(e){return y.call(C,e)?!0:y.call(N,e)?!1:_.test(e)?C[e]=!0:(N[e]=!0,!1)}function W(e,n,l,d){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,l,d){if(n===null||typeof n>"u"||W(e,n,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(e,n,l,d,m,x,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=x,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];k[n]=new T(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(S,R);k[n]=new T(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(S,R);k[n]=new T(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(S,R);k[n]=new T(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,n,l,d){var m=k.hasOwnProperty(n)?k[n]:null;(m!==null?m.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,l,m,d)&&(l=null),d||m===null?I(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):m.mustUseProperty?e[m.propertyName]=l===null?m.type===3?!1:"":l:(n=m.attributeName,d=m.attributeNamespace,l===null?e.removeAttribute(n):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?e.setAttributeNS(d,n,l):e.setAttribute(n,l))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),se=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),We=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),U=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,z;function J(e){if(z===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);z=n&&n[1]||""}return`
`+z+e}var ce=!1;function le(e,n){if(!e||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(V){var d=V}Reflect.construct(e,[],n)}else{try{n.call()}catch(V){d=V}e.call(n.prototype)}else{try{throw Error()}catch(V){d=V}e()}}catch(V){if(V&&d&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),x=d.stack.split(`
`),b=m.length-1,P=x.length-1;1<=b&&0<=P&&m[b]!==x[P];)P--;for(;1<=b&&0<=P;b--,P--)if(m[b]!==x[P]){if(b!==1||P!==1)do if(b--,P--,0>P||m[b]!==x[P]){var M=`
`+m[b].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=b&&0<=P);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?J(e):""}function he(e){switch(e.tag){case 5:return J(e.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case se:return"Portal";case X:return"Profiler";case ne:return"StrictMode";case pt:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case We:return(e.displayName||"Context")+".Consumer";case Fe:return(e._context.displayName||"Context")+".Provider";case De:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case Re:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function we(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $e(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function at(e){var n=$e(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,x=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,x.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wn(e){e._valueTracker||(e._valueTracker=at(e))}function sn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),d="";return e&&(d=$e(e)?e.checked?"true":"false":e.value),e=d,e!==l?(n.setValue(e),!0):!1}function Ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,n){var l=n.checked;return Q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function jo(e,n){var l=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;l=Te(n.value!=null?n.value:l),e._wrapperState={initialChecked:d,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function No(e,n){n=n.checked,n!=null&&$(e,"checked",n,!1)}function Ei(e,n){No(e,n);var l=Te(n.value),d=n.type;if(l!=null)d==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ko(e,n.type,l):n.hasOwnProperty("defaultValue")&&ko(e,n.type,Te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Li(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function ko(e,n,l){(n!=="number"||Ir(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var Dr=Array.isArray;function Gn(e,n,l,d){if(e=e.options,n){n={};for(var m=0;m<l.length;m++)n["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=n.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&d&&(e[l].defaultSelected=!0)}else{for(l=""+Te(l),n=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,d&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function vs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return Q({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Co(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(a(92));if(Dr(l)){if(1<l.length)throw Error(a(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:Te(l)}}function qa(e,n){var l=Te(n.value),d=Te(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),d!=null&&(e.defaultValue=""+d)}function Ga(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ys(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _s(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ys(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ti,Ka=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,d,m){MSApp.execUnsafeLocalFunction(function(){return e(n,l,d,m)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Br(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iu=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(e){iu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Fr[n]=Fr[e]})});function So(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||Fr.hasOwnProperty(e)&&Fr[e]?(""+n).trim():n+"px"}function ws(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=So(l,n[l],d);l==="float"&&(l="cssFloat"),d?e.setProperty(l,m):e[l]=m}}var Ja=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(e,n){if(n){if(Ja[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function dr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,hr=null,fr=null;function Qa(e){if(e=kr(e)){if(typeof bs!="function")throw Error(a(280));var n=e.stateNode;n&&(n=Ks(n),bs(e.stateNode,e.type,n))}}function Xa(e){hr?fr?fr.push(e):fr=[e]:hr=e}function Ya(){if(hr){var e=hr,n=fr;if(fr=hr=null,Qa(e),n)for(e=0;e<n.length;e++)Qa(n[e])}}function el(e,n){return e(n)}function tl(){}var To=!1;function js(e,n,l){if(To)return e(n,l);To=!0;try{return el(e,n,l)}finally{To=!1,(hr!==null||fr!==null)&&(tl(),Ya())}}function Mi(e,n){var l=e.stateNode;if(l===null)return null;var d=Ks(l);if(d===null)return null;l=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var Mo=!1;if(w)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Mo=!1}function su(e,n,l,d,m,x,b,P,M){var V=Array.prototype.slice.call(arguments,3);try{n.apply(l,V)}catch(te){this.onError(te)}}var Tt=!1,ve=null,zi=!1,Ns=null,nl={onError:function(e){Tt=!0,ve=e}};function rl(e,n,l,d,m,x,b,P,M){Tt=!1,ve=null,su.apply(nl,arguments)}function Ro(e,n,l,d,m,x,b,P,M){if(rl.apply(this,arguments),Tt){if(Tt){var V=ve;Tt=!1,ve=null}else throw Error(a(198));zi||(zi=!0,Ns=V)}}function Kn(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function mr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function zo(e){if(Kn(e)!==e)throw Error(a(188))}function ou(e){var n=e.alternate;if(!n){if(n=Kn(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,d=n;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return zo(m),e;if(x===d)return zo(m),n;x=x.sibling}throw Error(a(188))}if(l.return!==d.return)l=m,d=x;else{for(var b=!1,P=m.child;P;){if(P===l){b=!0,l=m,d=x;break}if(P===d){b=!0,d=m,l=x;break}P=P.sibling}if(!b){for(P=x.child;P;){if(P===l){b=!0,l=x,d=m;break}if(P===d){b=!0,d=x,l=m;break}P=P.sibling}if(!b)throw Error(a(189))}}if(l.alternate!==d)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function il(e){return e=ou(e),e!==null?sl(e):null}function sl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=sl(e);if(n!==null)return n;e=e.sibling}return null}var ol=i.unstable_scheduleCallback,Ao=i.unstable_cancelCallback,au=i.unstable_shouldYield,ks=i.unstable_requestPaint,rt=i.unstable_now,lu=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,al=i.unstable_UserBlockingPriority,Cs=i.unstable_NormalPriority,Io=i.unstable_LowPriority,Ur=i.unstable_IdlePriority,Ai=null,on=null;function Oi(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ai,e,void 0,(e.current.flags&128)===128)}catch{}}var Pe=Math.clz32?Math.clz32:Wr,Ye=Math.log,Ss=Math.LN2;function Wr(e){return e>>>=0,e===0?32:31-(Ye(e)/Ss|0)|0}var zn=64,$r=4194304;function Se(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Je(e,n){var l=e.pendingLanes;if(l===0)return 0;var d=0,m=e.suspendedLanes,x=e.pingedLanes,b=l&268435455;if(b!==0){var P=b&~m;P!==0?d=Se(P):(x&=b,x!==0&&(d=Se(x)))}else b=l&~m,b!==0?d=Se(b):x!==0&&(d=Se(x));if(d===0)return 0;if(n!==0&&n!==d&&(n&m)===0&&(m=d&-d,x=n&-n,m>=x||m===16&&(x&4194240)!==0))return n;if((d&4)!==0&&(d|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)l=31-Pe(n),m=1<<l,d|=e[l],n&=~m;return d}function Do(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(e,n){for(var l=e.suspendedLanes,d=e.pingedLanes,m=e.expirationTimes,x=e.pendingLanes;0<x;){var b=31-Pe(x),P=1<<b,M=m[b];M===-1?((P&l)===0||(P&d)!==0)&&(m[b]=Do(P,n)):M<=n&&(e.expiredLanes|=P),x&=~P}}function Mt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ll(){var e=zn;return zn<<=1,(zn&4194240)===0&&(zn=64),e}function Hr(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function an(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pe(n),e[n]=l}function lt(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<l;){var m=31-Pe(l),x=1<<m;n[m]=0,d[m]=-1,e[m]=-1,l&=~x}}function An(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var d=31-Pe(l),m=1<<d;m&n|e[d]&n&&(e[d]|=n),l&=~m}}var Be=0;function Zr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Es,pr,Ls,Ts,Ii,Di=!1,Vr=[],ln=null,On=null,bn=null,Bi=new Map,ke=new Map,_t=[],qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bo(e,n){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Bi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ke.delete(n.pointerId)}}function gr(e,n,l,d,m,x){return e===null||e.nativeEvent!==x?(e={blockedOn:n,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},n!==null&&(n=kr(n),n!==null&&pr(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Fo(e,n,l,d,m){switch(n){case"focusin":return ln=gr(ln,e,n,l,d,m),!0;case"dragenter":return On=gr(On,e,n,l,d,m),!0;case"mouseover":return bn=gr(bn,e,n,l,d,m),!0;case"pointerover":var x=m.pointerId;return Bi.set(x,gr(Bi.get(x)||null,e,n,l,d,m)),!0;case"gotpointercapture":return x=m.pointerId,ke.set(x,gr(ke.get(x)||null,e,n,l,d,m)),!0}return!1}function Ms(e){var n=Nr(e.target);if(n!==null){var l=Kn(n);if(l!==null){if(n=l.tag,n===13){if(n=mr(l),n!==null){e.blockedOn=n,Ii(e.priority,function(){Ls(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=As(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var d=new l.constructor(l.type,l);Eo=d,l.target.dispatchEvent(d),Eo=null}else return n=kr(l),n!==null&&pr(n),e.blockedOn=l,!1;n.shift()}return!0}function Rs(e,n,l){jn(e)&&l.delete(n)}function Fi(){Di=!1,ln!==null&&jn(ln)&&(ln=null),On!==null&&jn(On)&&(On=null),bn!==null&&jn(bn)&&(bn=null),Bi.forEach(Rs),ke.forEach(Rs)}function it(e,n){e.blockedOn===n&&(e.blockedOn=null,Di||(Di=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Fi)))}function cn(e){function n(m){return it(m,e)}if(0<Vr.length){it(Vr[0],e);for(var l=1;l<Vr.length;l++){var d=Vr[l];d.blockedOn===e&&(d.blockedOn=null)}}for(ln!==null&&it(ln,e),On!==null&&it(On,e),bn!==null&&it(bn,e),Bi.forEach(n),ke.forEach(n),l=0;l<_t.length;l++)d=_t[l],d.blockedOn===e&&(d.blockedOn=null);for(;0<_t.length&&(l=_t[0],l.blockedOn===null);)Ms(l),l.blockedOn===null&&_t.shift()}var xr=K.ReactCurrentBatchConfig,Ui=!0;function cu(e,n,l,d){var m=Be,x=xr.transition;xr.transition=null;try{Be=1,Wi(e,n,l,d)}finally{Be=m,xr.transition=x}}function cl(e,n,l,d){var m=Be,x=xr.transition;xr.transition=null;try{Be=4,Wi(e,n,l,d)}finally{Be=m,xr.transition=x}}function Wi(e,n,l,d){if(Ui){var m=As(e,n,l,d);if(m===null)t(e,n,d,zs,l),Bo(e,d);else if(Fo(m,e,n,l,d))d.stopPropagation();else if(Bo(e,d),n&4&&-1<qe.indexOf(e)){for(;m!==null;){var x=kr(m);if(x!==null&&Es(x),x=As(e,n,l,d),x===null&&t(e,n,d,zs,l),x===m)break;m=x}m!==null&&d.stopPropagation()}else t(e,n,d,null,l)}}var zs=null;function As(e,n,l,d){if(zs=null,e=Lo(d),e=Nr(e),e!==null)if(n=Kn(e),n===null)e=null;else if(l=n.tag,l===13){if(e=mr(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return zs=e,null}function Oe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lu()){case Oo:return 1;case al:return 4;case Cs:case Io:return 16;case Ur:return 536870912;default:return 16}default:return 16}}var Jn=null,Ut=null,Qn=null;function Uo(){if(Qn)return Qn;var e,n=Ut,l=n.length,d,m="value"in Jn?Jn.value:Jn.textContent,x=m.length;for(e=0;e<l&&n[e]===m[e];e++);var b=l-e;for(d=1;d<=b&&n[l-d]===m[x-d];d++);return Qn=m.slice(e,1<d?1-d:void 0)}function Os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qr(){return!0}function ul(){return!1}function Rt(e){function n(l,d,m,x,b){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(l=e[P],this[P]=l?l(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?qr:ul,this.isPropagationStopped=ul,this}return Q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),n}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=Rt(Gr),vr=Q({},Gr,{view:0,detail:0}),uu=Rt(vr),Vt,$o,Kr,un=Q({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(Vt=e.screenX-Kr.screenX,$o=e.screenY-Kr.screenY):$o=Vt=0,Kr=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Ho=Rt(un),dl=Q({},un,{dataTransfer:0}),Zo=Rt(dl),du=Q({},vr,{relatedTarget:0}),Is=Rt(du),hl=Q({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Rt(hl),fu=Q({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vo=Rt(fu),mu=Q({},Gr,{data:0}),qo=Rt(mu),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yr[e])?!!n[e]:!1}function _r(){return pu}var qt=Q({},vr,{key:function(e){if(e.key){var n=fl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ds[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ml=Rt(qt),pl=Q({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Rt(pl),Go=Q({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),Ko=Rt(Go),gu=Q({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xu=Rt(gu),xl=Q({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vu=Rt(xl),dn=[9,13,27,32],Xn=w&&"CompositionEvent"in window,$i=null;w&&"documentMode"in document&&($i=document.documentMode);var In=w&&"TextEvent"in window&&!$i,vl=w&&(!Xn||$i&&8<$i&&11>=$i),wr=" ",yl=!1;function Jr(e,n){switch(e){case"keyup":return dn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function yu(e,n){switch(e){case"compositionend":return Jo(n);case"keypress":return n.which!==32?null:(yl=!0,wr);case"textInput":return e=n.data,e===wr&&yl?null:e;default:return null}}function Yn(e,n){if(Dn)return e==="compositionend"||!Xn&&Jr(e,n)?(e=Uo(),Qn=Ut=Jn=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vl&&n.locale!=="ko"?null:n.data;default:return null}}var Bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _l(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Bs[e.type]:n==="textarea"}function Fs(e,n,l,d){Xa(d),n=u(n,"onChange"),0<n.length&&(l=new Wo("onChange","change",null,l,d),e.push({event:l,listeners:n}))}var Hi=null,Wt=null;function _u(e){sa(e,0)}function Bn(e){var n=Cr(e);if(sn(n))return e}function wu(e,n){if(e==="change")return n}var Nn=!1;if(w){var Qr;if(w){var Us="oninput"in document;if(!Us){var Ws=document.createElement("div");Ws.setAttribute("oninput","return;"),Us=typeof Ws.oninput=="function"}Qr=Us}else Qr=!1;Nn=Qr&&(!document.documentMode||9<document.documentMode)}function Zi(){Hi&&(Hi.detachEvent("onpropertychange",$s),Wt=Hi=null)}function $s(e){if(e.propertyName==="value"&&Bn(Wt)){var n=[];Fs(n,Wt,e,Lo(e)),js(_u,n)}}function Hs(e,n,l){e==="focusin"?(Zi(),Hi=n,Wt=l,Hi.attachEvent("onpropertychange",$s)):e==="focusout"&&Zi()}function Xr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bn(Wt)}function Zs(e,n){if(e==="click")return Bn(n)}function Qo(e,n){if(e==="input"||e==="change")return Bn(n)}function wl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:wl;function er(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),d=Object.keys(n);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!y.call(n,m)||!hn(e[m],n[m]))return!1}return!0}function bl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xo(e,n){var l=bl(e);e=0;for(var d;l;){if(l.nodeType===3){if(d=e+l.textContent.length,e<=n&&d>=n)return{node:l,offset:n-e};e=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bl(l)}}function jl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yo(){for(var e=window,n=Ir();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Ir(e.document)}return n}function ea(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function kn(e){var n=Yo(),l=e.focusedElem,d=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&jl(l.ownerDocument.documentElement,l)){if(d!==null&&ea(l)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=l.textContent.length,x=Math.min(d.start,m);d=d.end===void 0?x:Math.min(d.end,m),!e.extend&&x>d&&(m=d,d=x,x=m),m=Xo(l,x);var b=Xo(l,d);m&&b&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),x>d?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vs=w&&"documentMode"in document&&11>=document.documentMode,Yr=null,ei=null,Vi=null,qs=!1;function Nl(e,n,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qs||Yr==null||Yr!==Ir(d)||(d=Yr,"selectionStart"in d&&ea(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vi&&er(Vi,d)||(Vi=d,d=u(ei,"onSelect"),0<d.length&&(n=new Wo("onSelect","select",null,n,l),e.push({event:n,listeners:d}),n.target=Yr)))}function tr(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ti={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},nr={},ta={};w&&(ta=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function qi(e){if(nr[e])return nr[e];if(!ti[e])return e;var n=ti[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in ta)return nr[e]=n[l];return e}var kl=qi("animationend"),Cn=qi("animationiteration"),na=qi("animationstart"),ra=qi("transitionend"),ni=new Map,Cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,n){ni.set(e,n),p(n,[e])}for(var br=0;br<Cl.length;br++){var Gs=Cl[br],Sl=Gs.toLowerCase(),bu=Gs[0].toUpperCase()+Gs.slice(1);fn(Sl,"on"+bu)}fn(kl,"onAnimationEnd"),fn(Cn,"onAnimationIteration"),fn(na,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(ra,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function ia(e,n,l){var d=e.type||"unknown-event";e.currentTarget=l,Ro(d,n,void 0,e),e.currentTarget=null}function sa(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var d=e[l],m=d.event;d=d.listeners;e:{var x=void 0;if(n)for(var b=d.length-1;0<=b;b--){var P=d[b],M=P.instance,V=P.currentTarget;if(P=P.listener,M!==x&&m.isPropagationStopped())break e;ia(m,P,V),x=M}else for(b=0;b<d.length;b++){if(P=d[b],M=P.instance,V=P.currentTarget,P=P.listener,M!==x&&m.isPropagationStopped())break e;ia(m,P,V),x=M}}}if(zi)throw e=Ns,zi=!1,Ns=null,e}function Ge(e,n){var l=n[ai];l===void 0&&(l=n[ai]=new Set);var d=e+"__bubble";l.has(d)||(El(n,e,2,!1),l.add(d))}function oa(e,n,l){var d=0;n&&(d|=4),El(l,e,d,n)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function ii(e){if(!e[Gi]){e[Gi]=!0,c.forEach(function(l){l!=="selectionchange"&&(Pl.has(l)||oa(l,!1,e),oa(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gi]||(n[Gi]=!0,oa("selectionchange",!1,n))}}function El(e,n,l,d){switch(Oe(n)){case 1:var m=cu;break;case 4:m=cl;break;default:m=Wi}l=m.bind(null,n,l,e),m=void 0,!Mo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),d?m!==void 0?e.addEventListener(n,l,{capture:!0,passive:m}):e.addEventListener(n,l,!0):m!==void 0?e.addEventListener(n,l,{passive:m}):e.addEventListener(n,l,!1)}function t(e,n,l,d,m){var x=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(b===4)for(b=d.return;b!==null;){var M=b.tag;if((M===3||M===4)&&(M=b.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;b=b.return}for(;P!==null;){if(b=Nr(P),b===null)return;if(M=b.tag,M===5||M===6){d=x=b;continue e}P=P.parentNode}}d=d.return}js(function(){var V=x,te=Lo(l),re=[];e:{var ee=ni.get(e);if(ee!==void 0){var de=Wo,me=e;switch(e){case"keypress":if(Os(l)===0)break e;case"keydown":case"keyup":de=ml;break;case"focusin":me="focus",de=Is;break;case"focusout":me="blur",de=Is;break;case"beforeblur":case"afterblur":de=Is;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Ko;break;case kl:case Cn:case na:de=hu;break;case ra:de=xu;break;case"scroll":de=uu;break;case"wheel":de=vu;break;case"copy":case"cut":case"paste":de=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=gl}var xe=(n&4)!==0,dt=!xe&&e==="scroll",F=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var A=V,H;A!==null;){H=A;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,F!==null&&(ie=Mi(A,F),ie!=null&&xe.push(o(A,ie,H)))),dt)break;A=A.return}0<xe.length&&(ee=new de(ee,me,null,l,te),re.push({event:ee,listeners:xe}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",ee&&l!==Eo&&(me=l.relatedTarget||l.fromElement)&&(Nr(me)||me[Ve]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(me=l.relatedTarget||l.toElement,de=V,me=me?Nr(me):null,me!==null&&(dt=Kn(me),me!==dt||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=V),de!==me)){if(xe=Ho,ie="onMouseLeave",F="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(xe=gl,ie="onPointerLeave",F="onPointerEnter",A="pointer"),dt=de==null?ee:Cr(de),H=me==null?ee:Cr(me),ee=new xe(ie,A+"leave",de,l,te),ee.target=dt,ee.relatedTarget=H,ie=null,Nr(te)===V&&(xe=new xe(F,A+"enter",me,l,te),xe.target=H,xe.relatedTarget=dt,ie=xe),dt=ie,de&&me)t:{for(xe=de,F=me,A=0,H=xe;H;H=f(H))A++;for(H=0,ie=F;ie;ie=f(ie))H++;for(;0<A-H;)xe=f(xe),A--;for(;0<H-A;)F=f(F),H--;for(;A--;){if(xe===F||F!==null&&xe===F.alternate)break t;xe=f(xe),F=f(F)}xe=null}else xe=null;de!==null&&v(re,ee,de,xe,!1),me!==null&&dt!==null&&v(re,dt,me,xe,!0)}}e:{if(ee=V?Cr(V):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=wu;else if(_l(ee))if(Nn)ye=Qo;else{ye=Xr;var je=Hs}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=Zs);if(ye&&(ye=ye(e,V))){Fs(re,ye,l,te);break e}je&&je(e,ee,V),e==="focusout"&&(je=ee._wrapperState)&&je.controlled&&ee.type==="number"&&ko(ee,"number",ee.value)}switch(je=V?Cr(V):window,e){case"focusin":(_l(je)||je.contentEditable==="true")&&(Yr=je,ei=V,Vi=null);break;case"focusout":Vi=ei=Yr=null;break;case"mousedown":qs=!0;break;case"contextmenu":case"mouseup":case"dragend":qs=!1,Nl(re,l,te);break;case"selectionchange":if(Vs)break;case"keydown":case"keyup":Nl(re,l,te)}var Ne;if(Xn)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Dn?Jr(e,l)&&(Ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(vl&&l.locale!=="ko"&&(Dn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Dn&&(Ne=Uo()):(Jn=te,Ut="value"in Jn?Jn.value:Jn.textContent,Dn=!0)),je=u(V,Ce),0<je.length&&(Ce=new qo(Ce,e,null,l,te),re.push({event:Ce,listeners:je}),Ne?Ce.data=Ne:(Ne=Jo(l),Ne!==null&&(Ce.data=Ne)))),(Ne=In?yu(e,l):Yn(e,l))&&(V=u(V,"onBeforeInput"),0<V.length&&(te=new qo("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:V}),te.data=Ne))}sa(re,n)})}function o(e,n,l){return{instance:e,listener:n,currentTarget:l}}function u(e,n){for(var l=n+"Capture",d=[];e!==null;){var m=e,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Mi(e,l),x!=null&&d.unshift(o(e,x,m)),x=Mi(e,n),x!=null&&d.push(o(e,x,m))),e=e.return}return d}function f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v(e,n,l,d,m){for(var x=n._reactName,b=[];l!==null&&l!==d;){var P=l,M=P.alternate,V=P.stateNode;if(M!==null&&M===d)break;P.tag===5&&V!==null&&(P=V,m?(M=Mi(l,x),M!=null&&b.unshift(o(l,M,P))):m||(M=Mi(l,x),M!=null&&b.push(o(l,M,P)))),l=l.return}b.length!==0&&e.push({event:n,listeners:b})}var j=/\r\n?/g,E=/\u0000|\uFFFD/g;function B(e){return(typeof e=="string"?e:""+e).replace(j,`
`).replace(E,"")}function Z(e,n,l){if(n=B(n),B(e)!==n&&l)throw Error(a(425))}function Y(){}var ae=null,be=null;function Ee(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wt=typeof setTimeout=="function"?setTimeout:void 0,gt=typeof clearTimeout=="function"?clearTimeout:void 0,$t=typeof Promise=="function"?Promise:void 0,zt=typeof queueMicrotask=="function"?queueMicrotask:typeof $t<"u"?function(e){return $t.resolve(null).then(e).catch(si)}:wt;function si(e){setTimeout(function(){throw e})}function aa(e,n){var l=n,d=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){e.removeChild(m),cn(n);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);cn(n)}function rr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ll(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Sn="__reactFiber$"+jr,oi="__reactProps$"+jr,Ve="__reactContainer$"+jr,ai="__reactEvents$"+jr,ju="__reactListeners$"+jr,Nu="__reactHandles$"+jr;function Nr(e){var n=e[Sn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Ve]||l[Sn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ll(e);e!==null;){if(l=e[Sn])return l;e=Ll(e)}return n}e=l,l=e.parentNode}return null}function kr(e){return e=e[Sn]||e[Ve],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Ks(e){return e[oi]||null}var ku=[],Js=-1;function li(e){return{current:e}}function et(e){0>Js||(e.current=ku[Js],ku[Js]=null,Js--)}function Qe(e,n){Js++,ku[Js]=e.current,e.current=n}var ci={},At=li(ci),Gt=li(!1),Ki=ci;function Qs(e,n){var l=e.type.contextTypes;if(!l)return ci;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in l)m[x]=n[x];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function Kt(e){return e=e.childContextTypes,e!=null}function Tl(){et(Gt),et(At)}function Th(e,n,l){if(At.current!==ci)throw Error(a(168));Qe(At,n),Qe(Gt,l)}function Mh(e,n,l){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in n))throw Error(a(108,we(e)||"Unknown",m));return Q({},l,d)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,Ki=At.current,Qe(At,e),Qe(Gt,Gt.current),!0}function Rh(e,n,l){var d=e.stateNode;if(!d)throw Error(a(169));l?(e=Mh(e,n,Ki),d.__reactInternalMemoizedMergedChildContext=e,et(Gt),et(At),Qe(At,e)):et(Gt),Qe(Gt,l)}var Sr=null,Rl=!1,Cu=!1;function zh(e){Sr===null?Sr=[e]:Sr.push(e)}function Jg(e){Rl=!0,zh(e)}function ui(){if(!Cu&&Sr!==null){Cu=!0;var e=0,n=Be;try{var l=Sr;for(Be=1;e<l.length;e++){var d=l[e];do d=d(!0);while(d!==null)}Sr=null,Rl=!1}catch(m){throw Sr!==null&&(Sr=Sr.slice(e+1)),ol(Oo,ui),m}finally{Be=n,Cu=!1}}return null}var Xs=[],Ys=0,zl=null,Al=0,Pn=[],En=0,Ji=null,Pr=1,Er="";function Qi(e,n){Xs[Ys++]=Al,Xs[Ys++]=zl,zl=e,Al=n}function Ah(e,n,l){Pn[En++]=Pr,Pn[En++]=Er,Pn[En++]=Ji,Ji=e;var d=Pr;e=Er;var m=32-Pe(d)-1;d&=~(1<<m),l+=1;var x=32-Pe(n)+m;if(30<x){var b=m-m%5;x=(d&(1<<b)-1).toString(32),d>>=b,m-=b,Pr=1<<32-Pe(n)+m|l<<m|d,Er=x+e}else Pr=1<<x|l<<m|d,Er=e}function Su(e){e.return!==null&&(Qi(e,1),Ah(e,1,0))}function Pu(e){for(;e===zl;)zl=Xs[--Ys],Xs[Ys]=null,Al=Xs[--Ys],Xs[Ys]=null;for(;e===Ji;)Ji=Pn[--En],Pn[En]=null,Er=Pn[--En],Pn[En]=null,Pr=Pn[--En],Pn[En]=null}var mn=null,pn=null,nt=!1,Fn=null;function Oh(e,n){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function Ih(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,mn=e,pn=rr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,mn=e,pn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Ji!==null?{id:Pr,overflow:Er}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,mn=e,pn=null,!0):!1;default:return!1}}function Eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lu(e){if(nt){var n=pn;if(n){var l=n;if(!Ih(e,n)){if(Eu(e))throw Error(a(418));n=rr(l.nextSibling);var d=mn;n&&Ih(e,n)?Oh(d,l):(e.flags=e.flags&-4097|2,nt=!1,mn=e)}}else{if(Eu(e))throw Error(a(418));e.flags=e.flags&-4097|2,nt=!1,mn=e}}}function Dh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function Ol(e){if(e!==mn)return!1;if(!nt)return Dh(e),nt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ee(e.type,e.memoizedProps)),n&&(n=pn)){if(Eu(e))throw Bh(),Error(a(418));for(;n;)Oh(e,n),n=rr(n.nextSibling)}if(Dh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){pn=rr(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}pn=null}}else pn=mn?rr(e.stateNode.nextSibling):null;return!0}function Bh(){for(var e=pn;e;)e=rr(e.nextSibling)}function eo(){pn=mn=null,nt=!1}function Tu(e){Fn===null?Fn=[e]:Fn.push(e)}var Qg=K.ReactCurrentBatchConfig;function la(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(a(309));var d=l.stateNode}if(!d)throw Error(a(147,e));var m=d,x=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===x?n.ref:(n=function(b){var P=m.refs;b===null?delete P[x]:P[x]=b},n._stringRef=x,n)}if(typeof e!="string")throw Error(a(284));if(!l._owner)throw Error(a(290,e))}return e}function Il(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Fh(e){var n=e._init;return n(e._payload)}function Uh(e){function n(F,A){if(e){var H=F.deletions;H===null?(F.deletions=[A],F.flags|=16):H.push(A)}}function l(F,A){if(!e)return null;for(;A!==null;)n(F,A),A=A.sibling;return null}function d(F,A){for(F=new Map;A!==null;)A.key!==null?F.set(A.key,A):F.set(A.index,A),A=A.sibling;return F}function m(F,A){return F=vi(F,A),F.index=0,F.sibling=null,F}function x(F,A,H){return F.index=H,e?(H=F.alternate,H!==null?(H=H.index,H<A?(F.flags|=2,A):H):(F.flags|=2,A)):(F.flags|=1048576,A)}function b(F){return e&&F.alternate===null&&(F.flags|=2),F}function P(F,A,H,ie){return A===null||A.tag!==6?(A=bd(H,F.mode,ie),A.return=F,A):(A=m(A,H),A.return=F,A)}function M(F,A,H,ie){var ye=H.type;return ye===oe?te(F,A,H.props.children,ie,H.key):A!==null&&(A.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&Fh(ye)===A.type)?(ie=m(A,H.props),ie.ref=la(F,A,H),ie.return=F,ie):(ie=ac(H.type,H.key,H.props,null,F.mode,ie),ie.ref=la(F,A,H),ie.return=F,ie)}function V(F,A,H,ie){return A===null||A.tag!==4||A.stateNode.containerInfo!==H.containerInfo||A.stateNode.implementation!==H.implementation?(A=jd(H,F.mode,ie),A.return=F,A):(A=m(A,H.children||[]),A.return=F,A)}function te(F,A,H,ie,ye){return A===null||A.tag!==7?(A=ss(H,F.mode,ie,ye),A.return=F,A):(A=m(A,H),A.return=F,A)}function re(F,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return A=bd(""+A,F.mode,H),A.return=F,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case G:return H=ac(A.type,A.key,A.props,null,F.mode,H),H.ref=la(F,null,A),H.return=F,H;case se:return A=jd(A,F.mode,H),A.return=F,A;case Re:var ie=A._init;return re(F,ie(A._payload),H)}if(Dr(A)||_e(A))return A=ss(A,F.mode,H,null),A.return=F,A;Il(F,A)}return null}function ee(F,A,H,ie){var ye=A!==null?A.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ye!==null?null:P(F,A,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case G:return H.key===ye?M(F,A,H,ie):null;case se:return H.key===ye?V(F,A,H,ie):null;case Re:return ye=H._init,ee(F,A,ye(H._payload),ie)}if(Dr(H)||_e(H))return ye!==null?null:te(F,A,H,ie,null);Il(F,H)}return null}function de(F,A,H,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return F=F.get(H)||null,P(A,F,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case G:return F=F.get(ie.key===null?H:ie.key)||null,M(A,F,ie,ye);case se:return F=F.get(ie.key===null?H:ie.key)||null,V(A,F,ie,ye);case Re:var je=ie._init;return de(F,A,H,je(ie._payload),ye)}if(Dr(ie)||_e(ie))return F=F.get(H)||null,te(A,F,ie,ye,null);Il(A,ie)}return null}function me(F,A,H,ie){for(var ye=null,je=null,Ne=A,Ce=A=0,St=null;Ne!==null&&Ce<H.length;Ce++){Ne.index>Ce?(St=Ne,Ne=null):St=Ne.sibling;var He=ee(F,Ne,H[Ce],ie);if(He===null){Ne===null&&(Ne=St);break}e&&Ne&&He.alternate===null&&n(F,Ne),A=x(He,A,Ce),je===null?ye=He:je.sibling=He,je=He,Ne=St}if(Ce===H.length)return l(F,Ne),nt&&Qi(F,Ce),ye;if(Ne===null){for(;Ce<H.length;Ce++)Ne=re(F,H[Ce],ie),Ne!==null&&(A=x(Ne,A,Ce),je===null?ye=Ne:je.sibling=Ne,je=Ne);return nt&&Qi(F,Ce),ye}for(Ne=d(F,Ne);Ce<H.length;Ce++)St=de(Ne,F,Ce,H[Ce],ie),St!==null&&(e&&St.alternate!==null&&Ne.delete(St.key===null?Ce:St.key),A=x(St,A,Ce),je===null?ye=St:je.sibling=St,je=St);return e&&Ne.forEach(function(yi){return n(F,yi)}),nt&&Qi(F,Ce),ye}function xe(F,A,H,ie){var ye=_e(H);if(typeof ye!="function")throw Error(a(150));if(H=ye.call(H),H==null)throw Error(a(151));for(var je=ye=null,Ne=A,Ce=A=0,St=null,He=H.next();Ne!==null&&!He.done;Ce++,He=H.next()){Ne.index>Ce?(St=Ne,Ne=null):St=Ne.sibling;var yi=ee(F,Ne,He.value,ie);if(yi===null){Ne===null&&(Ne=St);break}e&&Ne&&yi.alternate===null&&n(F,Ne),A=x(yi,A,Ce),je===null?ye=yi:je.sibling=yi,je=yi,Ne=St}if(He.done)return l(F,Ne),nt&&Qi(F,Ce),ye;if(Ne===null){for(;!He.done;Ce++,He=H.next())He=re(F,He.value,ie),He!==null&&(A=x(He,A,Ce),je===null?ye=He:je.sibling=He,je=He);return nt&&Qi(F,Ce),ye}for(Ne=d(F,Ne);!He.done;Ce++,He=H.next())He=de(Ne,F,Ce,He.value,ie),He!==null&&(e&&He.alternate!==null&&Ne.delete(He.key===null?Ce:He.key),A=x(He,A,Ce),je===null?ye=He:je.sibling=He,je=He);return e&&Ne.forEach(function(L0){return n(F,L0)}),nt&&Qi(F,Ce),ye}function dt(F,A,H,ie){if(typeof H=="object"&&H!==null&&H.type===oe&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case G:e:{for(var ye=H.key,je=A;je!==null;){if(je.key===ye){if(ye=H.type,ye===oe){if(je.tag===7){l(F,je.sibling),A=m(je,H.props.children),A.return=F,F=A;break e}}else if(je.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&Fh(ye)===je.type){l(F,je.sibling),A=m(je,H.props),A.ref=la(F,je,H),A.return=F,F=A;break e}l(F,je);break}else n(F,je);je=je.sibling}H.type===oe?(A=ss(H.props.children,F.mode,ie,H.key),A.return=F,F=A):(ie=ac(H.type,H.key,H.props,null,F.mode,ie),ie.ref=la(F,A,H),ie.return=F,F=ie)}return b(F);case se:e:{for(je=H.key;A!==null;){if(A.key===je)if(A.tag===4&&A.stateNode.containerInfo===H.containerInfo&&A.stateNode.implementation===H.implementation){l(F,A.sibling),A=m(A,H.children||[]),A.return=F,F=A;break e}else{l(F,A);break}else n(F,A);A=A.sibling}A=jd(H,F.mode,ie),A.return=F,F=A}return b(F);case Re:return je=H._init,dt(F,A,je(H._payload),ie)}if(Dr(H))return me(F,A,H,ie);if(_e(H))return xe(F,A,H,ie);Il(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,A!==null&&A.tag===6?(l(F,A.sibling),A=m(A,H),A.return=F,F=A):(l(F,A),A=bd(H,F.mode,ie),A.return=F,F=A),b(F)):l(F,A)}return dt}var to=Uh(!0),Wh=Uh(!1),Dl=li(null),Bl=null,no=null,Mu=null;function Ru(){Mu=no=Bl=null}function zu(e){var n=Dl.current;et(Dl),e._currentValue=n}function Au(e,n,l){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===l)break;e=e.return}}function ro(e,n){Bl=e,Mu=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Jt=!0),e.firstContext=null)}function Ln(e){var n=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:n,next:null},no===null){if(Bl===null)throw Error(a(308));no=e,Bl.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return n}var Xi=null;function Ou(e){Xi===null?Xi=[e]:Xi.push(e)}function $h(e,n,l,d){var m=n.interleaved;return m===null?(l.next=l,Ou(n)):(l.next=m.next,m.next=l),n.interleaved=l,Lr(e,d)}function Lr(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var di=!1;function Iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function hi(e,n,l){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var m=d.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),d.pending=n,Lr(e,l)}return m=d.interleaved,m===null?(n.next=n,Ou(d)):(n.next=m.next,m.next=n),d.interleaved=n,Lr(e,l)}function Fl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,l|=d,n.lanes=l,An(e,l)}}function Zh(e,n){var l=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?m=x=b:x=x.next=b,l=l.next}while(l!==null);x===null?m=x=n:x=x.next=n}else m=x=n;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,effects:d.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function Ul(e,n,l,d){var m=e.updateQueue;di=!1;var x=m.firstBaseUpdate,b=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var M=P,V=M.next;M.next=null,b===null?x=V:b.next=V,b=M;var te=e.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==b&&(P===null?te.firstBaseUpdate=V:P.next=V,te.lastBaseUpdate=M))}if(x!==null){var re=m.baseState;b=0,te=V=M=null,P=x;do{var ee=P.lane,de=P.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=e,xe=P;switch(ee=n,de=l,xe.tag){case 1:if(me=xe.payload,typeof me=="function"){re=me.call(de,re,ee);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,ee=typeof me=="function"?me.call(de,re,ee):me,ee==null)break e;re=Q({},re,ee);break e;case 2:di=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ee=m.effects,ee===null?m.effects=[P]:ee.push(P))}else de={eventTime:de,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(V=te=de,M=re):te=te.next=de,b|=ee;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(M=re),m.baseState=M,m.firstBaseUpdate=V,m.lastBaseUpdate=te,n=m.shared.interleaved,n!==null){m=n;do b|=m.lane,m=m.next;while(m!==n)}else x===null&&(m.shared.lanes=0);ts|=b,e.lanes=b,e.memoizedState=re}}function Vh(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(a(191,m));m.call(d)}}}var ca={},ir=li(ca),ua=li(ca),da=li(ca);function Yi(e){if(e===ca)throw Error(a(174));return e}function Du(e,n){switch(Qe(da,n),Qe(ua,e),Qe(ir,ca),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:_s(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=_s(n,e)}et(ir),Qe(ir,n)}function io(){et(ir),et(ua),et(da)}function qh(e){Yi(da.current);var n=Yi(ir.current),l=_s(n,e.type);n!==l&&(Qe(ua,e),Qe(ir,l))}function Bu(e){ua.current===e&&(et(ir),et(ua))}var st=li(0);function Wl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fu=[];function Uu(){for(var e=0;e<Fu.length;e++)Fu[e]._workInProgressVersionPrimary=null;Fu.length=0}var $l=K.ReactCurrentDispatcher,Wu=K.ReactCurrentBatchConfig,es=0,ot=null,bt=null,kt=null,Hl=!1,ha=!1,fa=0,Xg=0;function Ot(){throw Error(a(321))}function $u(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!hn(e[l],n[l]))return!1;return!0}function Hu(e,n,l,d,m,x){if(es=x,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$l.current=e===null||e.memoizedState===null?n0:r0,e=l(d,m),ha){x=0;do{if(ha=!1,fa=0,25<=x)throw Error(a(301));x+=1,kt=bt=null,n.updateQueue=null,$l.current=i0,e=l(d,m)}while(ha)}if($l.current=ql,n=bt!==null&&bt.next!==null,es=0,kt=bt=ot=null,Hl=!1,n)throw Error(a(300));return e}function Zu(){var e=fa!==0;return fa=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=e:kt=kt.next=e,kt}function Tn(){if(bt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=kt===null?ot.memoizedState:kt.next;if(n!==null)kt=n,bt=e;else{if(e===null)throw Error(a(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},kt===null?ot.memoizedState=kt=e:kt=kt.next=e}return kt}function ma(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=Tn(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var d=bt,m=d.baseQueue,x=l.pending;if(x!==null){if(m!==null){var b=m.next;m.next=x.next,x.next=b}d.baseQueue=m=x,l.pending=null}if(m!==null){x=m.next,d=d.baseState;var P=b=null,M=null,V=x;do{var te=V.lane;if((es&te)===te)M!==null&&(M=M.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),d=V.hasEagerState?V.eagerState:e(d,V.action);else{var re={lane:te,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};M===null?(P=M=re,b=d):M=M.next=re,ot.lanes|=te,ts|=te}V=V.next}while(V!==null&&V!==x);M===null?b=d:M.next=P,hn(d,n.memoizedState)||(Jt=!0),n.memoizedState=d,n.baseState=b,n.baseQueue=M,l.lastRenderedState=d}if(e=l.interleaved,e!==null){m=e;do x=m.lane,ot.lanes|=x,ts|=x,m=m.next;while(m!==e)}else m===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function qu(e){var n=Tn(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var d=l.dispatch,m=l.pending,x=n.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do x=e(x,b.action),b=b.next;while(b!==m);hn(x,n.memoizedState)||(Jt=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),l.lastRenderedState=x}return[x,d]}function Gh(){}function Kh(e,n){var l=ot,d=Tn(),m=n(),x=!hn(d.memoizedState,m);if(x&&(d.memoizedState=m,Jt=!0),d=d.queue,Gu(Xh.bind(null,l,d,e),[e]),d.getSnapshot!==n||x||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,pa(9,Qh.bind(null,l,d,m,n),void 0,null),Ct===null)throw Error(a(349));(es&30)!==0||Jh(l,n,m)}return m}function Jh(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Qh(e,n,l,d){n.value=l,n.getSnapshot=d,Yh(n)&&ef(e)}function Xh(e,n,l){return l(function(){Yh(n)&&ef(e)})}function Yh(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!hn(e,l)}catch{return!0}}function ef(e){var n=Lr(e,1);n!==null&&Hn(n,e,1,-1)}function tf(e){var n=sr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},n.queue=e,e=e.dispatch=t0.bind(null,ot,e),[n.memoizedState,e]}function pa(e,n,l,d){return e={tag:e,create:n,destroy:l,deps:d,next:null},n=ot.updateQueue,n===null?(n={lastEffect:null,stores:null},ot.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(d=l.next,l.next=e,e.next=d,n.lastEffect=e)),e}function nf(){return Tn().memoizedState}function Zl(e,n,l,d){var m=sr();ot.flags|=e,m.memoizedState=pa(1|n,l,void 0,d===void 0?null:d)}function Vl(e,n,l,d){var m=Tn();d=d===void 0?null:d;var x=void 0;if(bt!==null){var b=bt.memoizedState;if(x=b.destroy,d!==null&&$u(d,b.deps)){m.memoizedState=pa(n,l,x,d);return}}ot.flags|=e,m.memoizedState=pa(1|n,l,x,d)}function rf(e,n){return Zl(8390656,8,e,n)}function Gu(e,n){return Vl(2048,8,e,n)}function sf(e,n){return Vl(4,2,e,n)}function of(e,n){return Vl(4,4,e,n)}function af(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lf(e,n,l){return l=l!=null?l.concat([e]):null,Vl(4,4,af.bind(null,n,e),l)}function Ku(){}function cf(e,n){var l=Tn();n=n===void 0?null:n;var d=l.memoizedState;return d!==null&&n!==null&&$u(n,d[1])?d[0]:(l.memoizedState=[e,n],e)}function uf(e,n){var l=Tn();n=n===void 0?null:n;var d=l.memoizedState;return d!==null&&n!==null&&$u(n,d[1])?d[0]:(e=e(),l.memoizedState=[e,n],e)}function df(e,n,l){return(es&21)===0?(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=l):(hn(l,n)||(l=ll(),ot.lanes|=l,ts|=l,e.baseState=!0),n)}function Yg(e,n){var l=Be;Be=l!==0&&4>l?l:4,e(!0);var d=Wu.transition;Wu.transition={};try{e(!1),n()}finally{Be=l,Wu.transition=d}}function hf(){return Tn().memoizedState}function e0(e,n,l){var d=gi(e);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},ff(e))mf(n,l);else if(l=$h(e,n,l,d),l!==null){var m=Zt();Hn(l,e,d,m),pf(l,n,d)}}function t0(e,n,l){var d=gi(e),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(ff(e))mf(n,m);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var b=n.lastRenderedState,P=x(b,l);if(m.hasEagerState=!0,m.eagerState=P,hn(P,b)){var M=n.interleaved;M===null?(m.next=m,Ou(n)):(m.next=M.next,M.next=m),n.interleaved=m;return}}catch{}finally{}l=$h(e,n,m,d),l!==null&&(m=Zt(),Hn(l,e,d,m),pf(l,n,d))}}function ff(e){var n=e.alternate;return e===ot||n!==null&&n===ot}function mf(e,n){ha=Hl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function pf(e,n,l){if((l&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,l|=d,n.lanes=l,An(e,l)}}var ql={readContext:Ln,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},n0={readContext:Ln,useCallback:function(e,n){return sr().memoizedState=[e,n===void 0?null:n],e},useContext:Ln,useEffect:rf,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,Zl(4194308,4,af.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Zl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Zl(4,2,e,n)},useMemo:function(e,n){var l=sr();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var d=sr();return n=l!==void 0?l(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=e0.bind(null,ot,e),[d.memoizedState,e]},useRef:function(e){var n=sr();return e={current:e},n.memoizedState=e},useState:tf,useDebugValue:Ku,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=tf(!1),n=e[0];return e=Yg.bind(null,e[1]),sr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var d=ot,m=sr();if(nt){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ct===null)throw Error(a(349));(es&30)!==0||Jh(d,n,l)}m.memoizedState=l;var x={value:l,getSnapshot:n};return m.queue=x,rf(Xh.bind(null,d,x,e),[e]),d.flags|=2048,pa(9,Qh.bind(null,d,x,l,n),void 0,null),l},useId:function(){var e=sr(),n=Ct.identifierPrefix;if(nt){var l=Er,d=Pr;l=(d&~(1<<32-Pe(d)-1)).toString(32)+l,n=":"+n+"R"+l,l=fa++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Xg++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},r0={readContext:Ln,useCallback:cf,useContext:Ln,useEffect:Gu,useImperativeHandle:lf,useInsertionEffect:sf,useLayoutEffect:of,useMemo:uf,useReducer:Vu,useRef:nf,useState:function(){return Vu(ma)},useDebugValue:Ku,useDeferredValue:function(e){var n=Tn();return df(n,bt.memoizedState,e)},useTransition:function(){var e=Vu(ma)[0],n=Tn().memoizedState;return[e,n]},useMutableSource:Gh,useSyncExternalStore:Kh,useId:hf,unstable_isNewReconciler:!1},i0={readContext:Ln,useCallback:cf,useContext:Ln,useEffect:Gu,useImperativeHandle:lf,useInsertionEffect:sf,useLayoutEffect:of,useMemo:uf,useReducer:qu,useRef:nf,useState:function(){return qu(ma)},useDebugValue:Ku,useDeferredValue:function(e){var n=Tn();return bt===null?n.memoizedState=e:df(n,bt.memoizedState,e)},useTransition:function(){var e=qu(ma)[0],n=Tn().memoizedState;return[e,n]},useMutableSource:Gh,useSyncExternalStore:Kh,useId:hf,unstable_isNewReconciler:!1};function Un(e,n){if(e&&e.defaultProps){n=Q({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function Ju(e,n,l,d){n=e.memoizedState,l=l(d,n),l=l==null?n:Q({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Gl={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var d=Zt(),m=gi(e),x=Tr(d,m);x.payload=n,l!=null&&(x.callback=l),n=hi(e,x,m),n!==null&&(Hn(n,e,m,d),Fl(n,e,m))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var d=Zt(),m=gi(e),x=Tr(d,m);x.tag=1,x.payload=n,l!=null&&(x.callback=l),n=hi(e,x,m),n!==null&&(Hn(n,e,m,d),Fl(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Zt(),d=gi(e),m=Tr(l,d);m.tag=2,n!=null&&(m.callback=n),n=hi(e,m,d),n!==null&&(Hn(n,e,d,l),Fl(n,e,d))}};function gf(e,n,l,d,m,x,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,x,b):n.prototype&&n.prototype.isPureReactComponent?!er(l,d)||!er(m,x):!0}function xf(e,n,l){var d=!1,m=ci,x=n.contextType;return typeof x=="object"&&x!==null?x=Ln(x):(m=Kt(n)?Ki:At.current,d=n.contextTypes,x=(d=d!=null)?Qs(e,m):ci),n=new n(l,x),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Gl,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=x),n}function vf(e,n,l,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,d),n.state!==e&&Gl.enqueueReplaceState(n,n.state,null)}function Qu(e,n,l,d){var m=e.stateNode;m.props=l,m.state=e.memoizedState,m.refs={},Iu(e);var x=n.contextType;typeof x=="object"&&x!==null?m.context=Ln(x):(x=Kt(n)?Ki:At.current,m.context=Qs(e,x)),m.state=e.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Ju(e,n,x,l),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Gl.enqueueReplaceState(m,m.state,null),Ul(e,l,m,d),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function so(e,n){try{var l="",d=n;do l+=he(d),d=d.return;while(d);var m=l}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:e,source:n,stack:m,digest:null}}function Xu(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function Yu(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var s0=typeof WeakMap=="function"?WeakMap:Map;function yf(e,n,l){l=Tr(-1,l),l.tag=3,l.payload={element:null};var d=n.value;return l.callback=function(){tc||(tc=!0,md=d),Yu(e,n)},l}function _f(e,n,l){l=Tr(-1,l),l.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var m=n.value;l.payload=function(){return d(m)},l.callback=function(){Yu(e,n)}}var x=e.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Yu(e,n),typeof d!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),l}function wf(e,n,l){var d=e.pingCache;if(d===null){d=e.pingCache=new s0;var m=new Set;d.set(n,m)}else m=d.get(n),m===void 0&&(m=new Set,d.set(n,m));m.has(l)||(m.add(l),e=y0.bind(null,e,n,l),n.then(e,e))}function bf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function jf(e,n,l,d,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=Tr(-1,1),n.tag=2,hi(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var o0=K.ReactCurrentOwner,Jt=!1;function Ht(e,n,l,d){n.child=e===null?Wh(n,null,l,d):to(n,e.child,l,d)}function Nf(e,n,l,d,m){l=l.render;var x=n.ref;return ro(n,m),d=Hu(e,n,l,d,x,m),l=Zu(),e!==null&&!Jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Mr(e,n,m)):(nt&&l&&Su(n),n.flags|=1,Ht(e,n,d,m),n.child)}function kf(e,n,l,d,m){if(e===null){var x=l.type;return typeof x=="function"&&!wd(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=x,Cf(e,n,x,d,m)):(e=ac(l.type,null,d,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(x=e.child,(e.lanes&m)===0){var b=x.memoizedProps;if(l=l.compare,l=l!==null?l:er,l(b,d)&&e.ref===n.ref)return Mr(e,n,m)}return n.flags|=1,e=vi(x,d),e.ref=n.ref,e.return=n,n.child=e}function Cf(e,n,l,d,m){if(e!==null){var x=e.memoizedProps;if(er(x,d)&&e.ref===n.ref)if(Jt=!1,n.pendingProps=d=x,(e.lanes&m)!==0)(e.flags&131072)!==0&&(Jt=!0);else return n.lanes=e.lanes,Mr(e,n,m)}return ed(e,n,l,d,m)}function Sf(e,n,l){var d=n.pendingProps,m=d.children,x=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ao,gn),gn|=l;else{if((l&1073741824)===0)return e=x!==null?x.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Qe(ao,gn),gn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Qe(ao,gn),gn|=d}else x!==null?(d=x.baseLanes|l,n.memoizedState=null):d=l,Qe(ao,gn),gn|=d;return Ht(e,n,m,l),n.child}function Pf(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function ed(e,n,l,d,m){var x=Kt(l)?Ki:At.current;return x=Qs(n,x),ro(n,m),l=Hu(e,n,l,d,x,m),d=Zu(),e!==null&&!Jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Mr(e,n,m)):(nt&&d&&Su(n),n.flags|=1,Ht(e,n,l,m),n.child)}function Ef(e,n,l,d,m){if(Kt(l)){var x=!0;Ml(n)}else x=!1;if(ro(n,m),n.stateNode===null)Jl(e,n),xf(n,l,d),Qu(n,l,d,m),d=!0;else if(e===null){var b=n.stateNode,P=n.memoizedProps;b.props=P;var M=b.context,V=l.contextType;typeof V=="object"&&V!==null?V=Ln(V):(V=Kt(l)?Ki:At.current,V=Qs(n,V));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function";re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==d||M!==V)&&vf(n,b,d,V),di=!1;var ee=n.memoizedState;b.state=ee,Ul(n,d,b,m),M=n.memoizedState,P!==d||ee!==M||Gt.current||di?(typeof te=="function"&&(Ju(n,l,te,d),M=n.memoizedState),(P=di||gf(n,l,P,d,ee,M,V))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=M),b.props=d,b.state=M,b.context=V,d=P):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{b=n.stateNode,Hh(e,n),P=n.memoizedProps,V=n.type===n.elementType?P:Un(n.type,P),b.props=V,re=n.pendingProps,ee=b.context,M=l.contextType,typeof M=="object"&&M!==null?M=Ln(M):(M=Kt(l)?Ki:At.current,M=Qs(n,M));var de=l.getDerivedStateFromProps;(te=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==re||ee!==M)&&vf(n,b,d,M),di=!1,ee=n.memoizedState,b.state=ee,Ul(n,d,b,m);var me=n.memoizedState;P!==re||ee!==me||Gt.current||di?(typeof de=="function"&&(Ju(n,l,de,d),me=n.memoizedState),(V=di||gf(n,l,V,d,ee,me,M)||!1)?(te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,me,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,me,M)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=me),b.props=d,b.state=me,b.context=M,d=V):(typeof b.componentDidUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),d=!1)}return td(e,n,l,d,x,m)}function td(e,n,l,d,m,x){Pf(e,n);var b=(n.flags&128)!==0;if(!d&&!b)return m&&Rh(n,l,!1),Mr(e,n,x);d=n.stateNode,o0.current=n;var P=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&b?(n.child=to(n,e.child,null,x),n.child=to(n,null,P,x)):Ht(e,n,P,x),n.memoizedState=d.state,m&&Rh(n,l,!0),n.child}function Lf(e){var n=e.stateNode;n.pendingContext?Th(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Th(e,n.context,!1),Du(e,n.containerInfo)}function Tf(e,n,l,d,m){return eo(),Tu(m),n.flags|=256,Ht(e,n,l,d),n.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mf(e,n,l){var d=n.pendingProps,m=st.current,x=!1,b=(n.flags&128)!==0,P;if((P=b)||(P=e!==null&&e.memoizedState===null?!1:(m&2)!==0),P?(x=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),Qe(st,m&1),e===null)return Lu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=d.children,e=d.fallback,x?(d=n.mode,x=n.child,b={mode:"hidden",children:b},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=b):x=lc(b,d,0,null),e=ss(e,d,l,null),x.return=n,e.return=n,x.sibling=e,n.child=x,n.child.memoizedState=rd(l),n.memoizedState=nd,e):id(n,b));if(m=e.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return a0(e,n,b,d,P,m,l);if(x){x=d.fallback,b=n.mode,m=e.child,P=m.sibling;var M={mode:"hidden",children:d.children};return(b&1)===0&&n.child!==m?(d=n.child,d.childLanes=0,d.pendingProps=M,n.deletions=null):(d=vi(m,M),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?x=vi(P,x):(x=ss(x,b,l,null),x.flags|=2),x.return=n,d.return=n,d.sibling=x,n.child=d,d=x,x=n.child,b=e.child.memoizedState,b=b===null?rd(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},x.memoizedState=b,x.childLanes=e.childLanes&~l,n.memoizedState=nd,d}return x=e.child,e=x.sibling,d=vi(x,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=l),d.return=n,d.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=d,n.memoizedState=null,d}function id(e,n){return n=lc({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Kl(e,n,l,d){return d!==null&&Tu(d),to(n,e.child,null,l),e=id(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function a0(e,n,l,d,m,x,b){if(l)return n.flags&256?(n.flags&=-257,d=Xu(Error(a(422))),Kl(e,n,b,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(x=d.fallback,m=n.mode,d=lc({mode:"visible",children:d.children},m,0,null),x=ss(x,m,b,null),x.flags|=2,d.return=n,x.return=n,d.sibling=x,n.child=d,(n.mode&1)!==0&&to(n,e.child,null,b),n.child.memoizedState=rd(b),n.memoizedState=nd,x);if((n.mode&1)===0)return Kl(e,n,b,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,x=Error(a(419)),d=Xu(x,d,void 0),Kl(e,n,b,d)}if(P=(b&e.childLanes)!==0,Jt||P){if(d=Ct,d!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|b))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,Lr(e,m),Hn(d,e,m,-1))}return _d(),d=Xu(Error(a(421))),Kl(e,n,b,d)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=_0.bind(null,e),m._reactRetry=n,null):(e=x.treeContext,pn=rr(m.nextSibling),mn=n,nt=!0,Fn=null,e!==null&&(Pn[En++]=Pr,Pn[En++]=Er,Pn[En++]=Ji,Pr=e.id,Er=e.overflow,Ji=n),n=id(n,d.children),n.flags|=4096,n)}function Rf(e,n,l){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),Au(e.return,n,l)}function sd(e,n,l,d,m){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=m)}function zf(e,n,l){var d=n.pendingProps,m=d.revealOrder,x=d.tail;if(Ht(e,n,d.children,l),d=st.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,l,n);else if(e.tag===19)Rf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(Qe(st,d),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(l=n.child,m=null;l!==null;)e=l.alternate,e!==null&&Wl(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),sd(n,!1,m,l,x);break;case"backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Wl(e)===null){n.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}sd(n,!0,l,null,x);break;case"together":sd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Jl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Mr(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ts|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=vi(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=vi(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function l0(e,n,l){switch(n.tag){case 3:Lf(n),eo();break;case 5:qh(n);break;case 1:Kt(n.type)&&Ml(n);break;case 4:Du(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,m=n.memoizedProps.value;Qe(Dl,d._currentValue),d._currentValue=m;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(Qe(st,st.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?Mf(e,n,l):(Qe(st,st.current&1),e=Mr(e,n,l),e!==null?e.sibling:null);Qe(st,st.current&1);break;case 19:if(d=(l&n.childLanes)!==0,(e.flags&128)!==0){if(d)return zf(e,n,l);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(st,st.current),d)break;return null;case 22:case 23:return n.lanes=0,Sf(e,n,l)}return Mr(e,n,l)}var Af,od,Of,If;Af=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},od=function(){},Of=function(e,n,l,d){var m=e.memoizedProps;if(m!==d){e=n.stateNode,Yi(ir.current);var x=null;switch(l){case"input":m=bo(e,m),d=bo(e,d),x=[];break;case"select":m=Q({},m,{value:void 0}),d=Q({},d,{value:void 0}),x=[];break;case"textarea":m=vs(e,m),d=vs(e,d),x=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Y)}Po(l,d);var b;l=null;for(V in m)if(!d.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var P=m[V];for(b in P)P.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(h.hasOwnProperty(V)?x||(x=[]):(x=x||[]).push(V,null));for(V in d){var M=d[V];if(P=m!=null?m[V]:void 0,d.hasOwnProperty(V)&&M!==P&&(M!=null||P!=null))if(V==="style")if(P){for(b in P)!P.hasOwnProperty(b)||M&&M.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in M)M.hasOwnProperty(b)&&P[b]!==M[b]&&(l||(l={}),l[b]=M[b])}else l||(x||(x=[]),x.push(V,l)),l=M;else V==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(x=x||[]).push(V,M)):V==="children"?typeof M!="string"&&typeof M!="number"||(x=x||[]).push(V,""+M):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(h.hasOwnProperty(V)?(M!=null&&V==="onScroll"&&Ge("scroll",e),x||P===M||(x=[])):(x=x||[]).push(V,M))}l&&(x=x||[]).push("style",l);var V=x;(n.updateQueue=V)&&(n.flags|=4)}},If=function(e,n,l,d){l!==d&&(n.flags|=4)};function ga(e,n){if(!nt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function It(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,d=0;if(n)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=d,e.childLanes=l,n}function c0(e,n,l){var d=n.pendingProps;switch(Pu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(n),null;case 1:return Kt(n.type)&&Tl(),It(n),null;case 3:return d=n.stateNode,io(),et(Gt),et(At),Uu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Ol(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fn!==null&&(xd(Fn),Fn=null))),od(e,n),It(n),null;case 5:Bu(n);var m=Yi(da.current);if(l=n.type,e!==null&&n.stateNode!=null)Of(e,n,l,d,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(a(166));return It(n),null}if(e=Yi(ir.current),Ol(n)){d=n.stateNode,l=n.type;var x=n.memoizedProps;switch(d[Sn]=n,d[oi]=x,e=(n.mode&1)!==0,l){case"dialog":Ge("cancel",d),Ge("close",d);break;case"iframe":case"object":case"embed":Ge("load",d);break;case"video":case"audio":for(m=0;m<ri.length;m++)Ge(ri[m],d);break;case"source":Ge("error",d);break;case"img":case"image":case"link":Ge("error",d),Ge("load",d);break;case"details":Ge("toggle",d);break;case"input":jo(d,x),Ge("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Ge("invalid",d);break;case"textarea":Co(d,x),Ge("invalid",d)}Po(l,x),m=null;for(var b in x)if(x.hasOwnProperty(b)){var P=x[b];b==="children"?typeof P=="string"?d.textContent!==P&&(x.suppressHydrationWarning!==!0&&Z(d.textContent,P,e),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(x.suppressHydrationWarning!==!0&&Z(d.textContent,P,e),m=["children",""+P]):h.hasOwnProperty(b)&&P!=null&&b==="onScroll"&&Ge("scroll",d)}switch(l){case"input":wn(d),Li(d,x,!0);break;case"textarea":wn(d),Ga(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Y)}d=m,n.updateQueue=d,d!==null&&(n.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ys(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=b.createElement(l,{is:d.is}):(e=b.createElement(l),l==="select"&&(b=e,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):e=b.createElementNS(e,l),e[Sn]=n,e[oi]=d,Af(e,n,!1,!1),n.stateNode=e;e:{switch(b=dr(l,d),l){case"dialog":Ge("cancel",e),Ge("close",e),m=d;break;case"iframe":case"object":case"embed":Ge("load",e),m=d;break;case"video":case"audio":for(m=0;m<ri.length;m++)Ge(ri[m],e);m=d;break;case"source":Ge("error",e),m=d;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),m=d;break;case"details":Ge("toggle",e),m=d;break;case"input":jo(e,d),m=bo(e,d),Ge("invalid",e);break;case"option":m=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},m=Q({},d,{value:void 0}),Ge("invalid",e);break;case"textarea":Co(e,d),m=vs(e,d),Ge("invalid",e);break;default:m=d}Po(l,m),P=m;for(x in P)if(P.hasOwnProperty(x)){var M=P[x];x==="style"?ws(e,M):x==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ka(e,M)):x==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Br(e,M):typeof M=="number"&&Br(e,""+M):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(h.hasOwnProperty(x)?M!=null&&x==="onScroll"&&Ge("scroll",e):M!=null&&$(e,x,M,b))}switch(l){case"input":wn(e),Li(e,d,!1);break;case"textarea":wn(e),Ga(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Te(d.value));break;case"select":e.multiple=!!d.multiple,x=d.value,x!=null?Gn(e,!!d.multiple,x,!1):d.defaultValue!=null&&Gn(e,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Y)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return It(n),null;case 6:if(e&&n.stateNode!=null)If(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(a(166));if(l=Yi(da.current),Yi(ir.current),Ol(n)){if(d=n.stateNode,l=n.memoizedProps,d[Sn]=n,(x=d.nodeValue!==l)&&(e=mn,e!==null))switch(e.tag){case 3:Z(d.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Z(d.nodeValue,l,(e.mode&1)!==0)}x&&(n.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Sn]=n,n.stateNode=d}return It(n),null;case 13:if(et(st),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&pn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Bh(),eo(),n.flags|=98560,x=!1;else if(x=Ol(n),d!==null&&d.dehydrated!==null){if(e===null){if(!x)throw Error(a(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));x[Sn]=n}else eo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;It(n),x=!1}else Fn!==null&&(xd(Fn),Fn=null),x=!0;if(!x)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(st.current&1)!==0?jt===0&&(jt=3):_d())),n.updateQueue!==null&&(n.flags|=4),It(n),null);case 4:return io(),od(e,n),e===null&&ii(n.stateNode.containerInfo),It(n),null;case 10:return zu(n.type._context),It(n),null;case 17:return Kt(n.type)&&Tl(),It(n),null;case 19:if(et(st),x=n.memoizedState,x===null)return It(n),null;if(d=(n.flags&128)!==0,b=x.rendering,b===null)if(d)ga(x,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=Wl(e),b!==null){for(n.flags|=128,ga(x,!1),d=b.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=l,l=n.child;l!==null;)x=l,e=d,x.flags&=14680066,b=x.alternate,b===null?(x.childLanes=0,x.lanes=e,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=b.childLanes,x.lanes=b.lanes,x.child=b.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=b.memoizedProps,x.memoizedState=b.memoizedState,x.updateQueue=b.updateQueue,x.type=b.type,e=b.dependencies,x.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Qe(st,st.current&1|2),n.child}e=e.sibling}x.tail!==null&&rt()>lo&&(n.flags|=128,d=!0,ga(x,!1),n.lanes=4194304)}else{if(!d)if(e=Wl(b),e!==null){if(n.flags|=128,d=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),ga(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!nt)return It(n),null}else 2*rt()-x.renderingStartTime>lo&&l!==1073741824&&(n.flags|=128,d=!0,ga(x,!1),n.lanes=4194304);x.isBackwards?(b.sibling=n.child,n.child=b):(l=x.last,l!==null?l.sibling=b:n.child=b,x.last=b)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=rt(),n.sibling=null,l=st.current,Qe(st,d?l&1|2:l&1),n):(It(n),null);case 22:case 23:return yd(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(gn&1073741824)!==0&&(It(n),n.subtreeFlags&6&&(n.flags|=8192)):It(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function u0(e,n){switch(Pu(n),n.tag){case 1:return Kt(n.type)&&Tl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return io(),et(Gt),et(At),Uu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Bu(n),null;case 13:if(et(st),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));eo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(st),null;case 4:return io(),null;case 10:return zu(n.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var Ql=!1,Dt=!1,d0=typeof WeakSet=="function"?WeakSet:Set,fe=null;function oo(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ct(e,n,d)}else l.current=null}function ad(e,n,l){try{l()}catch(d){ct(e,n,d)}}var Df=!1;function h0(e,n){if(ae=Ui,e=Yo(),ea(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var b=0,P=-1,M=-1,V=0,te=0,re=e,ee=null;t:for(;;){for(var de;re!==l||m!==0&&re.nodeType!==3||(P=b+m),re!==x||d!==0&&re.nodeType!==3||(M=b+d),re.nodeType===3&&(b+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===e)break t;if(ee===l&&++V===m&&(P=b),ee===x&&++te===d&&(M=b),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}l=P===-1||M===-1?null:{start:P,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(be={focusedElem:e,selectionRange:l},Ui=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var xe=me.memoizedProps,dt=me.memoizedState,F=n.stateNode,A=F.getSnapshotBeforeUpdate(n.elementType===n.type?xe:Un(n.type,xe),dt);F.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ie){ct(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return me=Df,Df=!1,me}function xa(e,n,l){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&e)===e){var x=m.destroy;m.destroy=void 0,x!==void 0&&ad(n,l,x)}m=m.next}while(m!==d)}}function Xl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var d=l.create;l.destroy=d()}l=l.next}while(l!==n)}}function ld(e){var n=e.ref;if(n!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof n=="function"?n(e):n.current=e}}function Bf(e){var n=e.alternate;n!==null&&(e.alternate=null,Bf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Sn],delete n[oi],delete n[ai],delete n[ju],delete n[Nu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ff(e){return e.tag===5||e.tag===3||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,n,l){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Y));else if(d!==4&&(e=e.child,e!==null))for(cd(e,n,l),e=e.sibling;e!==null;)cd(e,n,l),e=e.sibling}function ud(e,n,l){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(ud(e,n,l),e=e.sibling;e!==null;)ud(e,n,l),e=e.sibling}var Pt=null,Wn=!1;function fi(e,n,l){for(l=l.child;l!==null;)Wf(e,n,l),l=l.sibling}function Wf(e,n,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ai,l)}catch{}switch(l.tag){case 5:Dt||oo(l,n);case 6:var d=Pt,m=Wn;Pt=null,fi(e,n,l),Pt=d,Wn=m,Pt!==null&&(Wn?(e=Pt,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&(Wn?(e=Pt,l=l.stateNode,e.nodeType===8?aa(e.parentNode,l):e.nodeType===1&&aa(e,l),cn(e)):aa(Pt,l.stateNode));break;case 4:d=Pt,m=Wn,Pt=l.stateNode.containerInfo,Wn=!0,fi(e,n,l),Pt=d,Wn=m;break;case 0:case 11:case 14:case 15:if(!Dt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var x=m,b=x.destroy;x=x.tag,b!==void 0&&((x&2)!==0||(x&4)!==0)&&ad(l,n,b),m=m.next}while(m!==d)}fi(e,n,l);break;case 1:if(!Dt&&(oo(l,n),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){ct(l,n,P)}fi(e,n,l);break;case 21:fi(e,n,l);break;case 22:l.mode&1?(Dt=(d=Dt)||l.memoizedState!==null,fi(e,n,l),Dt=d):fi(e,n,l);break;default:fi(e,n,l)}}function $f(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new d0),n.forEach(function(d){var m=w0.bind(null,e,d);l.has(d)||(l.add(d),d.then(m,m))})}}function $n(e,n){var l=n.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var x=e,b=n,P=b;e:for(;P!==null;){switch(P.tag){case 5:Pt=P.stateNode,Wn=!1;break e;case 3:Pt=P.stateNode.containerInfo,Wn=!0;break e;case 4:Pt=P.stateNode.containerInfo,Wn=!0;break e}P=P.return}if(Pt===null)throw Error(a(160));Wf(x,b,m),Pt=null,Wn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(V){ct(m,n,V)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Hf(n,e),n=n.sibling}function Hf(e,n){var l=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(n,e),or(e),d&4){try{xa(3,e,e.return),Xl(3,e)}catch(xe){ct(e,e.return,xe)}try{xa(5,e,e.return)}catch(xe){ct(e,e.return,xe)}}break;case 1:$n(n,e),or(e),d&512&&l!==null&&oo(l,l.return);break;case 5:if($n(n,e),or(e),d&512&&l!==null&&oo(l,l.return),e.flags&32){var m=e.stateNode;try{Br(m,"")}catch(xe){ct(e,e.return,xe)}}if(d&4&&(m=e.stateNode,m!=null)){var x=e.memoizedProps,b=l!==null?l.memoizedProps:x,P=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{P==="input"&&x.type==="radio"&&x.name!=null&&No(m,x),dr(P,b);var V=dr(P,x);for(b=0;b<M.length;b+=2){var te=M[b],re=M[b+1];te==="style"?ws(m,re):te==="dangerouslySetInnerHTML"?Ka(m,re):te==="children"?Br(m,re):$(m,te,re,V)}switch(P){case"input":Ei(m,x);break;case"textarea":qa(m,x);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var de=x.value;de!=null?Gn(m,!!x.multiple,de,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Gn(m,!!x.multiple,x.defaultValue,!0):Gn(m,!!x.multiple,x.multiple?[]:"",!1))}m[oi]=x}catch(xe){ct(e,e.return,xe)}}break;case 6:if($n(n,e),or(e),d&4){if(e.stateNode===null)throw Error(a(162));m=e.stateNode,x=e.memoizedProps;try{m.nodeValue=x}catch(xe){ct(e,e.return,xe)}}break;case 3:if($n(n,e),or(e),d&4&&l!==null&&l.memoizedState.isDehydrated)try{cn(n.containerInfo)}catch(xe){ct(e,e.return,xe)}break;case 4:$n(n,e),or(e);break;case 13:$n(n,e),or(e),m=e.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(fd=rt())),d&4&&$f(e);break;case 22:if(te=l!==null&&l.memoizedState!==null,e.mode&1?(Dt=(V=Dt)||te,$n(n,e),Dt=V):$n(n,e),or(e),d&8192){if(V=e.memoizedState!==null,(e.stateNode.isHidden=V)&&!te&&(e.mode&1)!==0)for(fe=e,te=e.child;te!==null;){for(re=fe=te;fe!==null;){switch(ee=fe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:xa(4,ee,ee.return);break;case 1:oo(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){d=ee,l=ee.return;try{n=d,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(xe){ct(d,l,xe)}}break;case 5:oo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){qf(re);continue}}de!==null?(de.return=ee,fe=de):qf(re)}te=te.sibling}e:for(te=null,re=e;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,V?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(P=re.stateNode,M=re.memoizedProps.style,b=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=So("display",b))}catch(xe){ct(e,e.return,xe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=V?"":re.memoizedProps}catch(xe){ct(e,e.return,xe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:$n(n,e),or(e),d&4&&$f(e);break;case 21:break;default:$n(n,e),or(e)}}function or(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(Ff(l)){var d=l;break e}l=l.return}throw Error(a(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Br(m,""),d.flags&=-33);var x=Uf(e);ud(e,x,m);break;case 3:case 4:var b=d.stateNode.containerInfo,P=Uf(e);cd(e,P,b);break;default:throw Error(a(161))}}catch(M){ct(e,e.return,M)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function f0(e,n,l){fe=e,Zf(e)}function Zf(e,n,l){for(var d=(e.mode&1)!==0;fe!==null;){var m=fe,x=m.child;if(m.tag===22&&d){var b=m.memoizedState!==null||Ql;if(!b){var P=m.alternate,M=P!==null&&P.memoizedState!==null||Dt;P=Ql;var V=Dt;if(Ql=b,(Dt=M)&&!V)for(fe=m;fe!==null;)b=fe,M=b.child,b.tag===22&&b.memoizedState!==null?Gf(m):M!==null?(M.return=b,fe=M):Gf(m);for(;x!==null;)fe=x,Zf(x),x=x.sibling;fe=m,Ql=P,Dt=V}Vf(e)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,fe=x):Vf(e)}}function Vf(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||Xl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Dt)if(l===null)d.componentDidMount();else{var m=n.elementType===n.type?l.memoizedProps:Un(n.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=n.updateQueue;x!==null&&Vh(n,x,d);break;case 3:var b=n.updateQueue;if(b!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}Vh(n,b,l)}break;case 5:var P=n.stateNode;if(l===null&&n.flags&4){l=P;var M=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var V=n.alternate;if(V!==null){var te=V.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&cn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Dt||n.flags&512&&ld(n)}catch(ee){ct(n,n.return,ee)}}if(n===e){fe=null;break}if(l=n.sibling,l!==null){l.return=n.return,fe=l;break}fe=n.return}}function qf(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var l=n.sibling;if(l!==null){l.return=n.return,fe=l;break}fe=n.return}}function Gf(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Xl(4,n)}catch(M){ct(n,l,M)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var m=n.return;try{d.componentDidMount()}catch(M){ct(n,m,M)}}var x=n.return;try{ld(n)}catch(M){ct(n,x,M)}break;case 5:var b=n.return;try{ld(n)}catch(M){ct(n,b,M)}}}catch(M){ct(n,n.return,M)}if(n===e){fe=null;break}var P=n.sibling;if(P!==null){P.return=n.return,fe=P;break}fe=n.return}}var m0=Math.ceil,Yl=K.ReactCurrentDispatcher,dd=K.ReactCurrentOwner,Mn=K.ReactCurrentBatchConfig,Ue=0,Ct=null,xt=null,Et=0,gn=0,ao=li(0),jt=0,va=null,ts=0,ec=0,hd=0,ya=null,Qt=null,fd=0,lo=1/0,Rr=null,tc=!1,md=null,mi=null,nc=!1,pi=null,rc=0,_a=0,pd=null,ic=-1,sc=0;function Zt(){return(Ue&6)!==0?rt():ic!==-1?ic:ic=rt()}function gi(e){return(e.mode&1)===0?1:(Ue&2)!==0&&Et!==0?Et&-Et:Qg.transition!==null?(sc===0&&(sc=ll()),sc):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Oe(e.type)),e)}function Hn(e,n,l,d){if(50<_a)throw _a=0,pd=null,Error(a(185));an(e,l,d),((Ue&2)===0||e!==Ct)&&(e===Ct&&((Ue&2)===0&&(ec|=l),jt===4&&xi(e,Et)),Xt(e,d),l===1&&Ue===0&&(n.mode&1)===0&&(lo=rt()+500,Rl&&ui()))}function Xt(e,n){var l=e.callbackNode;Ps(e,n);var d=Je(e,e===Ct?Et:0);if(d===0)l!==null&&Ao(l),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(l!=null&&Ao(l),n===1)e.tag===0?Jg(Jf.bind(null,e)):zh(Jf.bind(null,e)),zt(function(){(Ue&6)===0&&ui()}),l=null;else{switch(Zr(d)){case 1:l=Oo;break;case 4:l=al;break;case 16:l=Cs;break;case 536870912:l=Ur;break;default:l=Cs}l=im(l,Kf.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function Kf(e,n){if(ic=-1,sc=0,(Ue&6)!==0)throw Error(a(327));var l=e.callbackNode;if(co()&&e.callbackNode!==l)return null;var d=Je(e,e===Ct?Et:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=oc(e,d);else{n=d;var m=Ue;Ue|=2;var x=Xf();(Ct!==e||Et!==n)&&(Rr=null,lo=rt()+500,rs(e,n));do try{x0();break}catch(P){Qf(e,P)}while(!0);Ru(),Yl.current=x,Ue=m,xt!==null?n=0:(Ct=null,Et=0,n=jt)}if(n!==0){if(n===2&&(m=Mt(e),m!==0&&(d=m,n=gd(e,m))),n===1)throw l=va,rs(e,0),xi(e,d),Xt(e,rt()),l;if(n===6)xi(e,d);else{if(m=e.current.alternate,(d&30)===0&&!p0(m)&&(n=oc(e,d),n===2&&(x=Mt(e),x!==0&&(d=x,n=gd(e,x))),n===1))throw l=va,rs(e,0),xi(e,d),Xt(e,rt()),l;switch(e.finishedWork=m,e.finishedLanes=d,n){case 0:case 1:throw Error(a(345));case 2:is(e,Qt,Rr);break;case 3:if(xi(e,d),(d&130023424)===d&&(n=fd+500-rt(),10<n)){if(Je(e,0)!==0)break;if(m=e.suspendedLanes,(m&d)!==d){Zt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=wt(is.bind(null,e,Qt,Rr),n);break}is(e,Qt,Rr);break;case 4:if(xi(e,d),(d&4194240)===d)break;for(n=e.eventTimes,m=-1;0<d;){var b=31-Pe(d);x=1<<b,b=n[b],b>m&&(m=b),d&=~x}if(d=m,d=rt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*m0(d/1960))-d,10<d){e.timeoutHandle=wt(is.bind(null,e,Qt,Rr),d);break}is(e,Qt,Rr);break;case 5:is(e,Qt,Rr);break;default:throw Error(a(329))}}}return Xt(e,rt()),e.callbackNode===l?Kf.bind(null,e):null}function gd(e,n){var l=ya;return e.current.memoizedState.isDehydrated&&(rs(e,n).flags|=256),e=oc(e,n),e!==2&&(n=Qt,Qt=l,n!==null&&xd(n)),e}function xd(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function p0(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],x=m.getSnapshot;m=m.value;try{if(!hn(x(),m))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(e,n){for(n&=~hd,n&=~ec,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-Pe(n),d=1<<l;e[l]=-1,n&=~d}}function Jf(e){if((Ue&6)!==0)throw Error(a(327));co();var n=Je(e,0);if((n&1)===0)return Xt(e,rt()),null;var l=oc(e,n);if(e.tag!==0&&l===2){var d=Mt(e);d!==0&&(n=d,l=gd(e,d))}if(l===1)throw l=va,rs(e,0),xi(e,n),Xt(e,rt()),l;if(l===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,is(e,Qt,Rr),Xt(e,rt()),null}function vd(e,n){var l=Ue;Ue|=1;try{return e(n)}finally{Ue=l,Ue===0&&(lo=rt()+500,Rl&&ui())}}function ns(e){pi!==null&&pi.tag===0&&(Ue&6)===0&&co();var n=Ue;Ue|=1;var l=Mn.transition,d=Be;try{if(Mn.transition=null,Be=1,e)return e()}finally{Be=d,Mn.transition=l,Ue=n,(Ue&6)===0&&ui()}}function yd(){gn=ao.current,et(ao)}function rs(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,gt(l)),xt!==null)for(l=xt.return;l!==null;){var d=l;switch(Pu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tl();break;case 3:io(),et(Gt),et(At),Uu();break;case 5:Bu(d);break;case 4:io();break;case 13:et(st);break;case 19:et(st);break;case 10:zu(d.type._context);break;case 22:case 23:yd()}l=l.return}if(Ct=e,xt=e=vi(e.current,null),Et=gn=n,jt=0,va=null,hd=ec=ts=0,Qt=ya=null,Xi!==null){for(n=0;n<Xi.length;n++)if(l=Xi[n],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,x=l.pending;if(x!==null){var b=x.next;x.next=m,d.next=b}l.pending=d}Xi=null}return e}function Qf(e,n){do{var l=xt;try{if(Ru(),$l.current=ql,Hl){for(var d=ot.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Hl=!1}if(es=0,kt=bt=ot=null,ha=!1,fa=0,dd.current=null,l===null||l.return===null){jt=1,va=n,xt=null;break}e:{var x=e,b=l.return,P=l,M=n;if(n=Et,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=M,te=P,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=bf(b);if(de!==null){de.flags&=-257,jf(de,b,P,x,n),de.mode&1&&wf(x,V,n),n=de,M=V;var me=n.updateQueue;if(me===null){var xe=new Set;xe.add(M),n.updateQueue=xe}else me.add(M);break e}else{if((n&1)===0){wf(x,V,n),_d();break e}M=Error(a(426))}}else if(nt&&P.mode&1){var dt=bf(b);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),jf(dt,b,P,x,n),Tu(so(M,P));break e}}x=M=so(M,P),jt!==4&&(jt=2),ya===null?ya=[x]:ya.push(x),x=b;do{switch(x.tag){case 3:x.flags|=65536,n&=-n,x.lanes|=n;var F=yf(x,M,n);Zh(x,F);break e;case 1:P=M;var A=x.type,H=x.stateNode;if((x.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(mi===null||!mi.has(H)))){x.flags|=65536,n&=-n,x.lanes|=n;var ie=_f(x,P,n);Zh(x,ie);break e}}x=x.return}while(x!==null)}em(l)}catch(ye){n=ye,xt===l&&l!==null&&(xt=l=l.return);continue}break}while(!0)}function Xf(){var e=Yl.current;return Yl.current=ql,e===null?ql:e}function _d(){(jt===0||jt===3||jt===2)&&(jt=4),Ct===null||(ts&268435455)===0&&(ec&268435455)===0||xi(Ct,Et)}function oc(e,n){var l=Ue;Ue|=2;var d=Xf();(Ct!==e||Et!==n)&&(Rr=null,rs(e,n));do try{g0();break}catch(m){Qf(e,m)}while(!0);if(Ru(),Ue=l,Yl.current=d,xt!==null)throw Error(a(261));return Ct=null,Et=0,jt}function g0(){for(;xt!==null;)Yf(xt)}function x0(){for(;xt!==null&&!au();)Yf(xt)}function Yf(e){var n=rm(e.alternate,e,gn);e.memoizedProps=e.pendingProps,n===null?em(e):xt=n,dd.current=null}function em(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=c0(l,n,gn),l!==null){xt=l;return}}else{if(l=u0(l,n),l!==null){l.flags&=32767,xt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,xt=null;return}}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);jt===0&&(jt=5)}function is(e,n,l){var d=Be,m=Mn.transition;try{Mn.transition=null,Be=1,v0(e,n,l,d)}finally{Mn.transition=m,Be=d}return null}function v0(e,n,l,d){do co();while(pi!==null);if((Ue&6)!==0)throw Error(a(327));l=e.finishedWork;var m=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var x=l.lanes|l.childLanes;if(lt(e,x),e===Ct&&(xt=Ct=null,Et=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||nc||(nc=!0,im(Cs,function(){return co(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Mn.transition,Mn.transition=null;var b=Be;Be=1;var P=Ue;Ue|=4,dd.current=null,h0(e,l),Hf(l,e),kn(be),Ui=!!ae,be=ae=null,e.current=l,f0(l),ks(),Ue=P,Be=b,Mn.transition=x}else e.current=l;if(nc&&(nc=!1,pi=e,rc=m),x=e.pendingLanes,x===0&&(mi=null),Oi(l.stateNode),Xt(e,rt()),n!==null)for(d=e.onRecoverableError,l=0;l<n.length;l++)m=n[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(tc)throw tc=!1,e=md,md=null,e;return(rc&1)!==0&&e.tag!==0&&co(),x=e.pendingLanes,(x&1)!==0?e===pd?_a++:(_a=0,pd=e):_a=0,ui(),null}function co(){if(pi!==null){var e=Zr(rc),n=Mn.transition,l=Be;try{if(Mn.transition=null,Be=16>e?16:e,pi===null)var d=!1;else{if(e=pi,pi=null,rc=0,(Ue&6)!==0)throw Error(a(331));var m=Ue;for(Ue|=4,fe=e.current;fe!==null;){var x=fe,b=x.child;if((fe.flags&16)!==0){var P=x.deletions;if(P!==null){for(var M=0;M<P.length;M++){var V=P[M];for(fe=V;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:xa(8,te,x)}var re=te.child;if(re!==null)re.return=te,fe=re;else for(;fe!==null;){te=fe;var ee=te.sibling,de=te.return;if(Bf(te),te===V){fe=null;break}if(ee!==null){ee.return=de,fe=ee;break}fe=de}}}var me=x.alternate;if(me!==null){var xe=me.child;if(xe!==null){me.child=null;do{var dt=xe.sibling;xe.sibling=null,xe=dt}while(xe!==null)}}fe=x}}if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,fe=b;else e:for(;fe!==null;){if(x=fe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:xa(9,x,x.return)}var F=x.sibling;if(F!==null){F.return=x.return,fe=F;break e}fe=x.return}}var A=e.current;for(fe=A;fe!==null;){b=fe;var H=b.child;if((b.subtreeFlags&2064)!==0&&H!==null)H.return=b,fe=H;else e:for(b=A;fe!==null;){if(P=fe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Xl(9,P)}}catch(ye){ct(P,P.return,ye)}if(P===b){fe=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,fe=ie;break e}fe=P.return}}if(Ue=m,ui(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ai,e)}catch{}d=!0}return d}finally{Be=l,Mn.transition=n}}return!1}function tm(e,n,l){n=so(l,n),n=yf(e,n,1),e=hi(e,n,1),n=Zt(),e!==null&&(an(e,1,n),Xt(e,n))}function ct(e,n,l){if(e.tag===3)tm(e,e,l);else for(;n!==null;){if(n.tag===3){tm(n,e,l);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(mi===null||!mi.has(d))){e=so(l,e),e=_f(n,e,1),n=hi(n,e,1),e=Zt(),n!==null&&(an(n,1,e),Xt(n,e));break}}n=n.return}}function y0(e,n,l){var d=e.pingCache;d!==null&&d.delete(n),n=Zt(),e.pingedLanes|=e.suspendedLanes&l,Ct===e&&(Et&l)===l&&(jt===4||jt===3&&(Et&130023424)===Et&&500>rt()-fd?rs(e,0):hd|=l),Xt(e,n)}function nm(e,n){n===0&&((e.mode&1)===0?n=1:(n=$r,$r<<=1,($r&130023424)===0&&($r=4194304)));var l=Zt();e=Lr(e,n),e!==null&&(an(e,n,l),Xt(e,l))}function _0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),nm(e,l)}function w0(e,n){var l=0;switch(e.tag){case 13:var d=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(a(314))}d!==null&&d.delete(n),nm(e,l)}var rm;rm=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||Gt.current)Jt=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return Jt=!1,l0(e,n,l);Jt=(e.flags&131072)!==0}else Jt=!1,nt&&(n.flags&1048576)!==0&&Ah(n,Al,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;Jl(e,n),e=n.pendingProps;var m=Qs(n,At.current);ro(n,l),m=Hu(null,n,d,e,m,l);var x=Zu();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(d)?(x=!0,Ml(n)):x=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Iu(n),m.updater=Gl,n.stateNode=m,m._reactInternals=n,Qu(n,d,e,l),n=td(null,n,d,!0,x,l)):(n.tag=0,nt&&x&&Su(n),Ht(null,n,m,l),n=n.child),n;case 16:d=n.elementType;e:{switch(Jl(e,n),e=n.pendingProps,m=d._init,d=m(d._payload),n.type=d,m=n.tag=j0(d),e=Un(d,e),m){case 0:n=ed(null,n,d,e,l);break e;case 1:n=Ef(null,n,d,e,l);break e;case 11:n=Nf(null,n,d,e,l);break e;case 14:n=kf(null,n,d,Un(d.type,e),l);break e}throw Error(a(306,d,""))}return n;case 0:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Un(d,m),ed(e,n,d,m,l);case 1:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Un(d,m),Ef(e,n,d,m,l);case 3:e:{if(Lf(n),e===null)throw Error(a(387));d=n.pendingProps,x=n.memoizedState,m=x.element,Hh(e,n),Ul(n,d,null,l);var b=n.memoizedState;if(d=b.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){m=so(Error(a(423)),n),n=Tf(e,n,d,l,m);break e}else if(d!==m){m=so(Error(a(424)),n),n=Tf(e,n,d,l,m);break e}else for(pn=rr(n.stateNode.containerInfo.firstChild),mn=n,nt=!0,Fn=null,l=Wh(n,null,d,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(eo(),d===m){n=Mr(e,n,l);break e}Ht(e,n,d,l)}n=n.child}return n;case 5:return qh(n),e===null&&Lu(n),d=n.type,m=n.pendingProps,x=e!==null?e.memoizedProps:null,b=m.children,Ee(d,m)?b=null:x!==null&&Ee(d,x)&&(n.flags|=32),Pf(e,n),Ht(e,n,b,l),n.child;case 6:return e===null&&Lu(n),null;case 13:return Mf(e,n,l);case 4:return Du(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=to(n,null,d,l):Ht(e,n,d,l),n.child;case 11:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Un(d,m),Nf(e,n,d,m,l);case 7:return Ht(e,n,n.pendingProps,l),n.child;case 8:return Ht(e,n,n.pendingProps.children,l),n.child;case 12:return Ht(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(d=n.type._context,m=n.pendingProps,x=n.memoizedProps,b=m.value,Qe(Dl,d._currentValue),d._currentValue=b,x!==null)if(hn(x.value,b)){if(x.children===m.children&&!Gt.current){n=Mr(e,n,l);break e}}else for(x=n.child,x!==null&&(x.return=n);x!==null;){var P=x.dependencies;if(P!==null){b=x.child;for(var M=P.firstContext;M!==null;){if(M.context===d){if(x.tag===1){M=Tr(-1,l&-l),M.tag=2;var V=x.updateQueue;if(V!==null){V=V.shared;var te=V.pending;te===null?M.next=M:(M.next=te.next,te.next=M),V.pending=M}}x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),Au(x.return,l,n),P.lanes|=l;break}M=M.next}}else if(x.tag===10)b=x.type===n.type?null:x.child;else if(x.tag===18){if(b=x.return,b===null)throw Error(a(341));b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),Au(b,l,n),b=x.sibling}else b=x.child;if(b!==null)b.return=x;else for(b=x;b!==null;){if(b===n){b=null;break}if(x=b.sibling,x!==null){x.return=b.return,b=x;break}b=b.return}x=b}Ht(e,n,m.children,l),n=n.child}return n;case 9:return m=n.type,d=n.pendingProps.children,ro(n,l),m=Ln(m),d=d(m),n.flags|=1,Ht(e,n,d,l),n.child;case 14:return d=n.type,m=Un(d,n.pendingProps),m=Un(d.type,m),kf(e,n,d,m,l);case 15:return Cf(e,n,n.type,n.pendingProps,l);case 17:return d=n.type,m=n.pendingProps,m=n.elementType===d?m:Un(d,m),Jl(e,n),n.tag=1,Kt(d)?(e=!0,Ml(n)):e=!1,ro(n,l),xf(n,d,m),Qu(n,d,m,l),td(null,n,d,!0,e,l);case 19:return zf(e,n,l);case 22:return Sf(e,n,l)}throw Error(a(156,n.tag))};function im(e,n){return ol(e,n)}function b0(e,n,l,d){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,l,d){return new b0(e,n,l,d)}function wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j0(e){if(typeof e=="function")return wd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===De)return 11;if(e===yt)return 14}return 2}function vi(e,n){var l=e.alternate;return l===null?(l=Rn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function ac(e,n,l,d,m,x){var b=2;if(d=e,typeof e=="function")wd(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case oe:return ss(l.children,m,x,n);case ne:b=8,m|=8;break;case X:return e=Rn(12,l,n,m|2),e.elementType=X,e.lanes=x,e;case pt:return e=Rn(13,l,n,m),e.elementType=pt,e.lanes=x,e;case Xe:return e=Rn(19,l,n,m),e.elementType=Xe,e.lanes=x,e;case Ie:return lc(l,m,x,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fe:b=10;break e;case We:b=9;break e;case De:b=11;break e;case yt:b=14;break e;case Re:b=16,d=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return n=Rn(b,l,n,m),n.elementType=e,n.type=d,n.lanes=x,n}function ss(e,n,l,d){return e=Rn(7,e,d,n),e.lanes=l,e}function lc(e,n,l,d){return e=Rn(22,e,d,n),e.elementType=Ie,e.lanes=l,e.stateNode={isHidden:!1},e}function bd(e,n,l){return e=Rn(6,e,null,n),e.lanes=l,e}function jd(e,n,l){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function N0(e,n,l,d,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hr(0),this.expirationTimes=Hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Nd(e,n,l,d,m,x,b,P,M){return e=new N0(e,n,l,P,M),n===1?(n=1,x===!0&&(n|=8)):n=0,x=Rn(3,null,null,n),e.current=x,x.stateNode=e,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(x),e}function k0(e,n,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:e,containerInfo:n,implementation:l}}function sm(e){if(!e)return ci;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(e.tag===1){var l=e.type;if(Kt(l))return Mh(e,l,n)}return n}function om(e,n,l,d,m,x,b,P,M){return e=Nd(l,d,!0,e,m,x,b,P,M),e.context=sm(null),l=e.current,d=Zt(),m=gi(l),x=Tr(d,m),x.callback=n??null,hi(l,x,m),e.current.lanes=m,an(e,m,d),Xt(e,d),e}function cc(e,n,l,d){var m=n.current,x=Zt(),b=gi(m);return l=sm(l),n.context===null?n.context=l:n.pendingContext=l,n=Tr(x,b),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=hi(m,n,b),e!==null&&(Hn(e,m,b,x),Fl(e,m,b)),b}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function am(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function kd(e,n){am(e,n),(e=e.alternate)&&am(e,n)}function C0(){return null}var lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cd(e){this._internalRoot=e}dc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));cc(e,n,null,null)},dc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ns(function(){cc(null,e,null,null)}),n[Ve]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ts();e={blockedOn:null,target:e,priority:n};for(var l=0;l<_t.length&&n!==0&&n<_t[l].priority;l++);_t.splice(l,0,e),l===0&&Ms(e)}};function Sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cm(){}function S0(e,n,l,d,m){if(m){if(typeof d=="function"){var x=d;d=function(){var V=uc(b);x.call(V)}}var b=om(n,d,e,0,null,!1,!1,"",cm);return e._reactRootContainer=b,e[Ve]=b.current,ii(e.nodeType===8?e.parentNode:e),ns(),b}for(;m=e.lastChild;)e.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var V=uc(M);P.call(V)}}var M=Nd(e,0,!1,null,null,!1,!1,"",cm);return e._reactRootContainer=M,e[Ve]=M.current,ii(e.nodeType===8?e.parentNode:e),ns(function(){cc(n,M,l,d)}),M}function fc(e,n,l,d,m){var x=l._reactRootContainer;if(x){var b=x;if(typeof m=="function"){var P=m;m=function(){var M=uc(b);P.call(M)}}cc(n,b,e,m)}else b=S0(l,n,e,m,d);return uc(b)}Es=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=Se(n.pendingLanes);l!==0&&(An(n,l|1),Xt(n,rt()),(Ue&6)===0&&(lo=rt()+500,ui()))}break;case 13:ns(function(){var d=Lr(e,1);if(d!==null){var m=Zt();Hn(d,e,1,m)}}),kd(e,1)}},pr=function(e){if(e.tag===13){var n=Lr(e,134217728);if(n!==null){var l=Zt();Hn(n,e,134217728,l)}kd(e,134217728)}},Ls=function(e){if(e.tag===13){var n=gi(e),l=Lr(e,n);if(l!==null){var d=Zt();Hn(l,e,n,d)}kd(e,n)}},Ts=function(){return Be},Ii=function(e,n){var l=Be;try{return Be=e,n()}finally{Be=l}},bs=function(e,n,l){switch(n){case"input":if(Ei(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var d=l[n];if(d!==e&&d.form===e.form){var m=Ks(d);if(!m)throw Error(a(90));sn(d),Ei(d,m)}}}break;case"textarea":qa(e,l);break;case"select":n=l.value,n!=null&&Gn(e,!!l.multiple,n,!1)}},el=vd,tl=ns;var P0={usingClientEntryPoint:!1,Events:[kr,Cr,Ks,Xa,Ya,vd]},wa={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=il(e),e===null?null:e.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||C0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Ai=mc.inject(E0),on=mc}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0,Yt.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(n))throw Error(a(200));return k0(e,n,null,l)},Yt.createRoot=function(e,n){if(!Sd(e))throw Error(a(299));var l=!1,d="",m=lm;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Nd(e,1,!1,null,null,l,!1,d,m),e[Ve]=n.current,ii(e.nodeType===8?e.parentNode:e),new Cd(n)},Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=il(n),e=e===null?null:e.stateNode,e},Yt.flushSync=function(e){return ns(e)},Yt.hydrate=function(e,n,l){if(!hc(n))throw Error(a(200));return fc(null,e,n,!0,l)},Yt.hydrateRoot=function(e,n,l){if(!Sd(e))throw Error(a(405));var d=l!=null&&l.hydratedSources||null,m=!1,x="",b=lm;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),n=om(n,null,e,1,l??null,m,!1,x,b),e[Ve]=n.current,ii(e),d)for(e=0;e<d.length;e++)l=d[e],m=l._getVersion,m=m(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,m]:n.mutableSourceEagerHydrationData.push(l,m);return new dc(n)},Yt.render=function(e,n,l){if(!hc(n))throw Error(a(200));return fc(null,e,n,!1,l)},Yt.unmountComponentAtNode=function(e){if(!hc(e))throw Error(a(40));return e._reactRootContainer?(ns(function(){fc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ve]=null})}),!0):!1},Yt.unstable_batchedUpdates=vd,Yt.unstable_renderSubtreeIntoContainer=function(e,n,l,d){if(!hc(l))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return fc(e,n,l,!1,d)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var xm;function hp(){if(xm)return Ld.exports;xm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Ld.exports=F0(),Ld.exports}var vm;function U0(){if(vm)return pc;vm=1;var r=hp();return pc.createRoot=r.createRoot,pc.hydrateRoot=r.hydrateRoot,pc}var W0=U0(),Rd={exports:{}},zd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function $0(){if(ym)return zd;ym=1;var r=Zc();function i(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var a=typeof Object.is=="function"?Object.is:i,c=r.useSyncExternalStore,h=r.useRef,p=r.useEffect,g=r.useMemo,w=r.useDebugValue;return zd.useSyncExternalStoreWithSelector=function(y,_,N,C,I){var W=h(null);if(W.current===null){var O={hasValue:!1,value:null};W.current=O}else O=W.current;W=g(function(){function k(G){if(!S){if(S=!0,R=G,G=C(G),I!==void 0&&O.hasValue){var se=O.value;if(I(se,G))return $=se}return $=G}if(se=$,a(R,G))return se;var oe=C(G);return I!==void 0&&I(se,oe)?(R=G,se):(R=G,$=oe)}var S=!1,R,$,K=N===void 0?null:N;return[function(){return k(_())},K===null?void 0:function(){return k(K())}]},[_,N,C,I]);var T=c(y,W[0],W[1]);return p(function(){O.hasValue=!0,O.value=T},[T]),w(T),T},zd}var _m;function H0(){return _m||(_m=1,Rd.exports=$0()),Rd.exports}var Z0=H0();function V0(r){r()}function q0(){let r=null,i=null;return{clear(){r=null,i=null},notify(){V0(()=>{let a=r;for(;a;)a.callback(),a=a.next})},get(){const a=[];let c=r;for(;c;)a.push(c),c=c.next;return a},subscribe(a){let c=!0;const h=i={callback:a,next:null,prev:i};return h.prev?h.prev.next=h:r=h,function(){!c||r===null||(c=!1,h.next?h.next.prev=h.prev:i=h.prev,h.prev?h.prev.next=h.next:r=h.next)}}}}var wm={notify(){},get:()=>[]};function G0(r,i){let a,c=wm,h=0,p=!1;function g(T){N();const k=c.subscribe(T);let S=!1;return()=>{S||(S=!0,k(),C())}}function w(){c.notify()}function y(){O.onStateChange&&O.onStateChange()}function _(){return p}function N(){h++,a||(a=r.subscribe(y),c=q0())}function C(){h--,a&&h===0&&(a(),a=void 0,c.clear(),c=wm)}function I(){p||(p=!0,N())}function W(){p&&(p=!1,C())}const O={addNestedSub:g,notifyNestedSubs:w,handleChangeWrapper:y,isSubscribed:_,trySubscribe:I,tryUnsubscribe:W,getListeners:()=>c};return O}var K0=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J0=K0(),Q0=()=>typeof navigator<"u"&&navigator.product==="ReactNative",X0=Q0(),Y0=()=>J0||X0?D.useLayoutEffect:D.useEffect,ex=Y0(),Ad=Symbol.for("react-redux-context"),Od=typeof globalThis<"u"?globalThis:{};function tx(){if(!D.createContext)return{};const r=Od[Ad]??(Od[Ad]=new Map);let i=r.get(D.createContext);return i||(i=D.createContext(null),r.set(D.createContext,i)),i}var Ci=tx();function nx(r){const{children:i,context:a,serverState:c,store:h}=r,p=D.useMemo(()=>{const y=G0(h);return{store:h,subscription:y,getServerState:c?()=>c:void 0}},[h,c]),g=D.useMemo(()=>h.getState(),[h]);ex(()=>{const{subscription:y}=p;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),g!==h.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[p,g]);const w=a||Ci;return D.createElement(w.Provider,{value:p},i)}var rx=nx;function gh(r=Ci){return function(){return D.useContext(r)}}var fp=gh();function mp(r=Ci){const i=r===Ci?fp:gh(r),a=()=>{const{store:c}=i();return c};return Object.assign(a,{withTypes:()=>a}),a}var ix=mp();function sx(r=Ci){const i=r===Ci?ix:mp(r),a=()=>i().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var ox=sx(),ax=(r,i)=>r===i;function lx(r=Ci){const i=r===Ci?fp:gh(r),a=(c,h={})=>{const{equalityFn:p=ax}=typeof h=="function"?{equalityFn:h}:h,g=i(),{store:w,subscription:y,getServerState:_}=g;D.useRef(!0);const N=D.useCallback({[c.name](I){return c(I)}}[c.name],[c]),C=Z0.useSyncExternalStoreWithSelector(y.addNestedSub,w.getState,_||w.getState,N,p);return D.useDebugValue(C),C};return Object.assign(a,{withTypes:()=>a}),a}var cx=lx(),ux=hp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},Ta.apply(this,arguments)}var wi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(wi||(wi={}));const bm="popstate";function dx(r){r===void 0&&(r={});function i(c,h){let{pathname:p,search:g,hash:w}=c.location;return Jd("",{pathname:p,search:g,hash:w},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function a(c,h){return typeof h=="string"?h:Oc(h)}return fx(i,a,null,r)}function vt(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function pp(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function hx(){return Math.random().toString(36).substr(2,8)}function jm(r,i){return{usr:r.state,key:r.key,idx:i}}function Jd(r,i,a,c){return a===void 0&&(a=null),Ta({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof i=="string"?go(i):i,{state:a,key:i&&i.key||c||hx()})}function Oc(r){let{pathname:i="/",search:a="",hash:c=""}=r;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(i+=c.charAt(0)==="#"?c:"#"+c),i}function go(r){let i={};if(r){let a=r.indexOf("#");a>=0&&(i.hash=r.substr(a),r=r.substr(0,a));let c=r.indexOf("?");c>=0&&(i.search=r.substr(c),r=r.substr(0,c)),r&&(i.pathname=r)}return i}function fx(r,i,a,c){c===void 0&&(c={});let{window:h=document.defaultView,v5Compat:p=!1}=c,g=h.history,w=wi.Pop,y=null,_=N();_==null&&(_=0,g.replaceState(Ta({},g.state,{idx:_}),""));function N(){return(g.state||{idx:null}).idx}function C(){w=wi.Pop;let k=N(),S=k==null?null:k-_;_=k,y&&y({action:w,location:T.location,delta:S})}function I(k,S){w=wi.Push;let R=Jd(T.location,k,S);_=N()+1;let $=jm(R,_),K=T.createHref(R);try{g.pushState($,"",K)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;h.location.assign(K)}p&&y&&y({action:w,location:T.location,delta:1})}function W(k,S){w=wi.Replace;let R=Jd(T.location,k,S);_=N();let $=jm(R,_),K=T.createHref(R);g.replaceState($,"",K),p&&y&&y({action:w,location:T.location,delta:0})}function O(k){let S=h.location.origin!=="null"?h.location.origin:h.location.href,R=typeof k=="string"?k:Oc(k);return R=R.replace(/ $/,"%20"),vt(S,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,S)}let T={get action(){return w},get location(){return r(h,g)},listen(k){if(y)throw new Error("A history only accepts one active listener");return h.addEventListener(bm,C),y=k,()=>{h.removeEventListener(bm,C),y=null}},createHref(k){return i(h,k)},createURL:O,encodeLocation(k){let S=O(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:I,replace:W,go(k){return g.go(k)}};return T}var Nm;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Nm||(Nm={}));function mx(r,i,a){return a===void 0&&(a="/"),px(r,i,a)}function px(r,i,a,c){let h=typeof i=="string"?go(i):i,p=xh(h.pathname||"/",a);if(p==null)return null;let g=gp(r);gx(g);let w=null;for(let y=0;w==null&&y<g.length;++y){let _=Px(p);w=kx(g[y],_)}return w}function gp(r,i,a,c){i===void 0&&(i=[]),a===void 0&&(a=[]),c===void 0&&(c="");let h=(p,g,w)=>{let y={relativePath:w===void 0?p.path||"":w,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};y.relativePath.startsWith("/")&&(vt(y.relativePath.startsWith(c),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(c.length));let _=Ni([c,y.relativePath]),N=a.concat(y);p.children&&p.children.length>0&&(vt(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),gp(p.children,i,N,_)),!(p.path==null&&!p.index)&&i.push({path:_,score:jx(_,p.index),routesMeta:N})};return r.forEach((p,g)=>{var w;if(p.path===""||!((w=p.path)!=null&&w.includes("?")))h(p,g);else for(let y of xp(p.path))h(p,g,y)}),i}function xp(r){let i=r.split("/");if(i.length===0)return[];let[a,...c]=i,h=a.endsWith("?"),p=a.replace(/\?$/,"");if(c.length===0)return h?[p,""]:[p];let g=xp(c.join("/")),w=[];return w.push(...g.map(y=>y===""?p:[p,y].join("/"))),h&&w.push(...g),w.map(y=>r.startsWith("/")&&y===""?"/":y)}function gx(r){r.sort((i,a)=>i.score!==a.score?a.score-i.score:Nx(i.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const xx=/^:[\w-]+$/,vx=3,yx=2,_x=1,wx=10,bx=-2,km=r=>r==="*";function jx(r,i){let a=r.split("/"),c=a.length;return a.some(km)&&(c+=bx),i&&(c+=yx),a.filter(h=>!km(h)).reduce((h,p)=>h+(xx.test(p)?vx:p===""?_x:wx),c)}function Nx(r,i){return r.length===i.length&&r.slice(0,-1).every((c,h)=>c===i[h])?r[r.length-1]-i[i.length-1]:0}function kx(r,i,a){let{routesMeta:c}=r,h={},p="/",g=[];for(let w=0;w<c.length;++w){let y=c[w],_=w===c.length-1,N=p==="/"?i:i.slice(p.length)||"/",C=Cx({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},N),I=y.route;if(!C)return null;Object.assign(h,C.params),g.push({params:h,pathname:Ni([p,C.pathname]),pathnameBase:Mx(Ni([p,C.pathnameBase])),route:I}),C.pathnameBase!=="/"&&(p=Ni([p,C.pathnameBase]))}return g}function Cx(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,c]=Sx(r.path,r.caseSensitive,r.end),h=i.match(a);if(!h)return null;let p=h[0],g=p.replace(/(.)\/+$/,"$1"),w=h.slice(1);return{params:c.reduce((_,N,C)=>{let{paramName:I,isOptional:W}=N;if(I==="*"){let T=w[C]||"";g=p.slice(0,p.length-T.length).replace(/(.)\/+$/,"$1")}const O=w[C];return W&&!O?_[I]=void 0:_[I]=(O||"").replace(/%2F/g,"/"),_},{}),pathname:p,pathnameBase:g,pattern:r}}function Sx(r,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),pp(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let c=[],h="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,w,y)=>(c.push({paramName:w,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),h+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?h+="\\/*$":r!==""&&r!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,i?void 0:"i"),c]}function Px(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return pp(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),r}}function xh(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,c=r.charAt(a);return c&&c!=="/"?null:r.slice(a)||"/"}function Ex(r,i){i===void 0&&(i="/");let{pathname:a,search:c="",hash:h=""}=typeof r=="string"?go(r):r;return{pathname:a?a.startsWith("/")?a:Lx(a,i):i,search:Rx(c),hash:zx(h)}}function Lx(r,i){let a=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(h=>{h===".."?a.length>1&&a.pop():h!=="."&&a.push(h)}),a.length>1?a.join("/"):"/"}function Id(r,i,a,c){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tx(r){return r.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function vp(r,i){let a=Tx(r);return i?a.map((c,h)=>h===a.length-1?c.pathname:c.pathnameBase):a.map(c=>c.pathnameBase)}function yp(r,i,a,c){c===void 0&&(c=!1);let h;typeof r=="string"?h=go(r):(h=Ta({},r),vt(!h.pathname||!h.pathname.includes("?"),Id("?","pathname","search",h)),vt(!h.pathname||!h.pathname.includes("#"),Id("#","pathname","hash",h)),vt(!h.search||!h.search.includes("#"),Id("#","search","hash",h)));let p=r===""||h.pathname==="",g=p?"/":h.pathname,w;if(g==null)w=a;else{let C=i.length-1;if(!c&&g.startsWith("..")){let I=g.split("/");for(;I[0]==="..";)I.shift(),C-=1;h.pathname=I.join("/")}w=C>=0?i[C]:"/"}let y=Ex(h,w),_=g&&g!=="/"&&g.endsWith("/"),N=(p||g===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(_||N)&&(y.pathname+="/"),y}const Ni=r=>r.join("/").replace(/\/\/+/g,"/"),Mx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Ax(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const _p=["post","put","patch","delete"];new Set(_p);const Ox=["get",..._p];new Set(Ox);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},Ma.apply(this,arguments)}const vh=D.createContext(null),Ix=D.createContext(null),ps=D.createContext(null),Vc=D.createContext(null),Si=D.createContext({outlet:null,matches:[],isDataRoute:!1}),wp=D.createContext(null);function Dx(r,i){let{relative:a}=i===void 0?{}:i;Da()||vt(!1);let{basename:c,navigator:h}=D.useContext(ps),{hash:p,pathname:g,search:w}=Np(r,{relative:a}),y=g;return c!=="/"&&(y=g==="/"?c:Ni([c,g])),h.createHref({pathname:y,search:w,hash:p})}function Da(){return D.useContext(Vc)!=null}function xo(){return Da()||vt(!1),D.useContext(Vc).location}function bp(r){D.useContext(ps).static||D.useLayoutEffect(r)}function gs(){let{isDataRoute:r}=D.useContext(Si);return r?Qx():Bx()}function Bx(){Da()||vt(!1);let r=D.useContext(vh),{basename:i,future:a,navigator:c}=D.useContext(ps),{matches:h}=D.useContext(Si),{pathname:p}=xo(),g=JSON.stringify(vp(h,a.v7_relativeSplatPath)),w=D.useRef(!1);return bp(()=>{w.current=!0}),D.useCallback(function(_,N){if(N===void 0&&(N={}),!w.current)return;if(typeof _=="number"){c.go(_);return}let C=yp(_,JSON.parse(g),p,N.relative==="path");r==null&&i!=="/"&&(C.pathname=C.pathname==="/"?i:Ni([i,C.pathname])),(N.replace?c.replace:c.push)(C,N.state,N)},[i,c,g,p,r])}function jp(){let{matches:r}=D.useContext(Si),i=r[r.length-1];return i?i.params:{}}function Np(r,i){let{relative:a}=i===void 0?{}:i,{future:c}=D.useContext(ps),{matches:h}=D.useContext(Si),{pathname:p}=xo(),g=JSON.stringify(vp(h,c.v7_relativeSplatPath));return D.useMemo(()=>yp(r,JSON.parse(g),p,a==="path"),[r,g,p,a])}function Fx(r,i){return Ux(r,i)}function Ux(r,i,a,c){Da()||vt(!1);let{navigator:h}=D.useContext(ps),{matches:p}=D.useContext(Si),g=p[p.length-1],w=g?g.params:{};g&&g.pathname;let y=g?g.pathnameBase:"/";g&&g.route;let _=xo(),N;if(i){var C;let k=typeof i=="string"?go(i):i;y==="/"||(C=k.pathname)!=null&&C.startsWith(y)||vt(!1),N=k}else N=_;let I=N.pathname||"/",W=I;if(y!=="/"){let k=y.replace(/^\//,"").split("/");W="/"+I.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=mx(r,{pathname:W}),T=Vx(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},w,k.params),pathname:Ni([y,h.encodeLocation?h.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Ni([y,h.encodeLocation?h.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),p,a,c);return i&&T?D.createElement(Vc.Provider,{value:{location:Ma({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:wi.Pop}},T):T}function Wx(){let r=Jx(),i=Ax(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,h={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},i),a?D.createElement("pre",{style:h},a):null,null)}const $x=D.createElement(Wx,null);class Hx extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error!==void 0?D.createElement(Si.Provider,{value:this.props.routeContext},D.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zx(r){let{routeContext:i,match:a,children:c}=r,h=D.useContext(vh);return h&&h.static&&h.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=a.route.id),D.createElement(Si.Provider,{value:i},c)}function Vx(r,i,a,c){var h;if(i===void 0&&(i=[]),a===void 0&&(a=null),c===void 0&&(c=null),r==null){var p;if(!a)return null;if(a.errors)r=a.matches;else if((p=c)!=null&&p.v7_partialHydration&&i.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let g=r,w=(h=a)==null?void 0:h.errors;if(w!=null){let N=g.findIndex(C=>C.route.id&&(w==null?void 0:w[C.route.id])!==void 0);N>=0||vt(!1),g=g.slice(0,Math.min(g.length,N+1))}let y=!1,_=-1;if(a&&c&&c.v7_partialHydration)for(let N=0;N<g.length;N++){let C=g[N];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(_=N),C.route.id){let{loaderData:I,errors:W}=a,O=C.route.loader&&I[C.route.id]===void 0&&(!W||W[C.route.id]===void 0);if(C.route.lazy||O){y=!0,_>=0?g=g.slice(0,_+1):g=[g[0]];break}}}return g.reduceRight((N,C,I)=>{let W,O=!1,T=null,k=null;a&&(W=w&&C.route.id?w[C.route.id]:void 0,T=C.route.errorElement||$x,y&&(_<0&&I===0?(Xx("route-fallback"),O=!0,k=null):_===I&&(O=!0,k=C.route.hydrateFallbackElement||null)));let S=i.concat(g.slice(0,I+1)),R=()=>{let $;return W?$=T:O?$=k:C.route.Component?$=D.createElement(C.route.Component,null):C.route.element?$=C.route.element:$=N,D.createElement(Zx,{match:C,routeContext:{outlet:N,matches:S,isDataRoute:a!=null},children:$})};return a&&(C.route.ErrorBoundary||C.route.errorElement||I===0)?D.createElement(Hx,{location:a.location,revalidation:a.revalidation,component:T,error:W,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}var kp=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(kp||{}),Cp=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Cp||{});function qx(r){let i=D.useContext(vh);return i||vt(!1),i}function Gx(r){let i=D.useContext(Ix);return i||vt(!1),i}function Kx(r){let i=D.useContext(Si);return i||vt(!1),i}function Sp(r){let i=Kx(),a=i.matches[i.matches.length-1];return a.route.id||vt(!1),a.route.id}function Jx(){var r;let i=D.useContext(wp),a=Gx(),c=Sp();return i!==void 0?i:(r=a.errors)==null?void 0:r[c]}function Qx(){let{router:r}=qx(kp.UseNavigateStable),i=Sp(Cp.UseNavigateStable),a=D.useRef(!1);return bp(()=>{a.current=!0}),D.useCallback(function(h,p){p===void 0&&(p={}),a.current&&(typeof h=="number"?r.navigate(h):r.navigate(h,Ma({fromRouteId:i},p)))},[r,i])}const Cm={};function Xx(r,i,a){Cm[r]||(Cm[r]=!0)}function Yx(r,i){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function en(r){vt(!1)}function ev(r){let{basename:i="/",children:a=null,location:c,navigationType:h=wi.Pop,navigator:p,static:g=!1,future:w}=r;Da()&&vt(!1);let y=i.replace(/^\/*/,"/"),_=D.useMemo(()=>({basename:y,navigator:p,static:g,future:Ma({v7_relativeSplatPath:!1},w)}),[y,w,p,g]);typeof c=="string"&&(c=go(c));let{pathname:N="/",search:C="",hash:I="",state:W=null,key:O="default"}=c,T=D.useMemo(()=>{let k=xh(N,y);return k==null?null:{location:{pathname:k,search:C,hash:I,state:W,key:O},navigationType:h}},[y,N,C,I,W,O,h]);return T==null?null:D.createElement(ps.Provider,{value:_},D.createElement(Vc.Provider,{children:a,value:T}))}function tv(r){let{children:i,location:a}=r;return Fx(Qd(i),a)}new Promise(()=>{});function Qd(r,i){i===void 0&&(i=[]);let a=[];return D.Children.forEach(r,(c,h)=>{if(!D.isValidElement(c))return;let p=[...i,h];if(c.type===D.Fragment){a.push.apply(a,Qd(c.props.children,p));return}c.type!==en&&vt(!1),!c.props.index||!c.props.children||vt(!1);let g={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(g.children=Qd(c.props.children,p)),a.push(g)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},Xd.apply(this,arguments)}function nv(r,i){if(r==null)return{};var a={},c=Object.keys(r),h,p;for(p=0;p<c.length;p++)h=c[p],!(i.indexOf(h)>=0)&&(a[h]=r[h]);return a}function rv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iv(r,i){return r.button===0&&(!i||i==="_self")&&!rv(r)}const sv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ov="6";try{window.__reactRouterVersion=ov}catch{}const av="startTransition",Sm=I0[av];function lv(r){let{basename:i,children:a,future:c,window:h}=r,p=D.useRef();p.current==null&&(p.current=dx({window:h,v5Compat:!0}));let g=p.current,[w,y]=D.useState({action:g.action,location:g.location}),{v7_startTransition:_}=c||{},N=D.useCallback(C=>{_&&Sm?Sm(()=>y(C)):y(C)},[y,_]);return D.useLayoutEffect(()=>g.listen(N),[g,N]),D.useEffect(()=>Yx(c),[c]),D.createElement(ev,{basename:i,children:a,location:w.location,navigationType:w.action,navigator:g,future:c})}const cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=D.forwardRef(function(i,a){let{onClick:c,relative:h,reloadDocument:p,replace:g,state:w,target:y,to:_,preventScrollReset:N,viewTransition:C}=i,I=nv(i,sv),{basename:W}=D.useContext(ps),O,T=!1;if(typeof _=="string"&&uv.test(_)&&(O=_,cv))try{let $=new URL(window.location.href),K=_.startsWith("//")?new URL($.protocol+_):new URL(_),G=xh(K.pathname,W);K.origin===$.origin&&G!=null?_=G+K.search+K.hash:T=!0}catch{}let k=Dx(_,{relative:h}),S=dv(_,{replace:g,state:w,target:y,preventScrollReset:N,relative:h,viewTransition:C});function R($){c&&c($),$.defaultPrevented||S($)}return D.createElement("a",Xd({},I,{href:O||k,onClick:T||p?c:R,ref:a,target:y}))});var Pm;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Pm||(Pm={}));var Em;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Em||(Em={}));function dv(r,i){let{target:a,replace:c,state:h,preventScrollReset:p,relative:g,viewTransition:w}=i===void 0?{}:i,y=gs(),_=xo(),N=Np(r,{relative:g});return D.useCallback(C=>{if(iv(C,a)){C.preventDefault();let I=c!==void 0?c:Oc(_)===Oc(N);y(r,{replace:I,state:h,preventScrollReset:p,relative:g,viewTransition:w})}},[_,y,N,c,h,a,r,p,g,w])}function Lt(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var hv=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lm=hv,Dd=()=>Math.random().toString(36).substring(7).split("").join("."),fv={INIT:`@@redux/INIT${Dd()}`,REPLACE:`@@redux/REPLACE${Dd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dd()}`},Ic=fv;function yh(r){if(typeof r!="object"||r===null)return!1;let i=r;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(r)===i||Object.getPrototypeOf(r)===null}function Pp(r,i,a){if(typeof r!="function")throw new Error(Lt(2));if(typeof i=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof i=="function"&&typeof a>"u"&&(a=i,i=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Lt(1));return a(Pp)(r,i)}let c=r,h=i,p=new Map,g=p,w=0,y=!1;function _(){g===p&&(g=new Map,p.forEach((k,S)=>{g.set(S,k)}))}function N(){if(y)throw new Error(Lt(3));return h}function C(k){if(typeof k!="function")throw new Error(Lt(4));if(y)throw new Error(Lt(5));let S=!0;_();const R=w++;return g.set(R,k),function(){if(S){if(y)throw new Error(Lt(6));S=!1,_(),g.delete(R),p=null}}}function I(k){if(!yh(k))throw new Error(Lt(7));if(typeof k.type>"u")throw new Error(Lt(8));if(typeof k.type!="string")throw new Error(Lt(17));if(y)throw new Error(Lt(9));try{y=!0,h=c(h,k)}finally{y=!1}return(p=g).forEach(R=>{R()}),k}function W(k){if(typeof k!="function")throw new Error(Lt(10));c=k,I({type:Ic.REPLACE})}function O(){const k=C;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Lt(11));function R(){const K=S;K.next&&K.next(N())}return R(),{unsubscribe:k(R)}},[Lm](){return this}}}return I({type:Ic.INIT}),{dispatch:I,subscribe:C,getState:N,replaceReducer:W,[Lm]:O}}function mv(r){Object.keys(r).forEach(i=>{const a=r[i];if(typeof a(void 0,{type:Ic.INIT})>"u")throw new Error(Lt(12));if(typeof a(void 0,{type:Ic.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function pv(r){const i=Object.keys(r),a={};for(let p=0;p<i.length;p++){const g=i[p];typeof r[g]=="function"&&(a[g]=r[g])}const c=Object.keys(a);let h;try{mv(a)}catch(p){h=p}return function(g={},w){if(h)throw h;let y=!1;const _={};for(let N=0;N<c.length;N++){const C=c[N],I=a[C],W=g[C],O=I(W,w);if(typeof O>"u")throw w&&w.type,new Error(Lt(14));_[C]=O,y=y||O!==W}return y=y||c.length!==Object.keys(g).length,y?_:g}}function Dc(...r){return r.length===0?i=>i:r.length===1?r[0]:r.reduce((i,a)=>(...c)=>i(a(...c)))}function gv(...r){return i=>(a,c)=>{const h=i(a,c);let p=()=>{throw new Error(Lt(15))};const g={getState:h.getState,dispatch:(y,..._)=>p(y,..._)},w=r.map(y=>y(g));return p=Dc(...w)(h.dispatch),{...h,dispatch:p}}}function xv(r){return yh(r)&&"type"in r&&typeof r.type=="string"}var Ep=Symbol.for("immer-nothing"),Tm=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Zn(r,...i){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var po=Object.getPrototypeOf;function hs(r){return!!r&&!!r[yn]}function Or(r){var i;return r?Lp(r)||Array.isArray(r)||!!r[Tm]||!!((i=r.constructor)!=null&&i[Tm])||Gc(r)||Kc(r):!1}var vv=Object.prototype.constructor.toString();function Lp(r){if(!r||typeof r!="object")return!1;const i=po(r);if(i===null)return!0;const a=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===vv}function Bc(r,i){qc(r)===0?Reflect.ownKeys(r).forEach(a=>{i(a,r[a],r)}):r.forEach((a,c)=>i(c,a,r))}function qc(r){const i=r[yn];return i?i.type_:Array.isArray(r)?1:Gc(r)?2:Kc(r)?3:0}function Yd(r,i){return qc(r)===2?r.has(i):Object.prototype.hasOwnProperty.call(r,i)}function Tp(r,i,a){const c=qc(r);c===2?r.set(i,a):c===3?r.add(a):r[i]=a}function yv(r,i){return r===i?r!==0||1/r===1/i:r!==r&&i!==i}function Gc(r){return r instanceof Map}function Kc(r){return r instanceof Set}function as(r){return r.copy_||r.base_}function eh(r,i){if(Gc(r))return new Map(r);if(Kc(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const a=Lp(r);if(i===!0||i==="class_only"&&!a){const c=Object.getOwnPropertyDescriptors(r);delete c[yn];let h=Reflect.ownKeys(c);for(let p=0;p<h.length;p++){const g=h[p],w=c[g];w.writable===!1&&(w.writable=!0,w.configurable=!0),(w.get||w.set)&&(c[g]={configurable:!0,writable:!0,enumerable:w.enumerable,value:r[g]})}return Object.create(po(r),c)}else{const c=po(r);if(c!==null&&a)return{...r};const h=Object.create(c);return Object.assign(h,r)}}function _h(r,i=!1){return Jc(r)||hs(r)||!Or(r)||(qc(r)>1&&(r.set=r.add=r.clear=r.delete=_v),Object.freeze(r),i&&Object.entries(r).forEach(([a,c])=>_h(c,!0))),r}function _v(){Zn(2)}function Jc(r){return Object.isFrozen(r)}var wv={};function fs(r){const i=wv[r];return i||Zn(0,r),i}var Ra;function Mp(){return Ra}function bv(r,i){return{drafts_:[],parent_:r,immer_:i,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Mm(r,i){i&&(fs("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=i)}function th(r){nh(r),r.drafts_.forEach(jv),r.drafts_=null}function nh(r){r===Ra&&(Ra=r.parent_)}function Rm(r){return Ra=bv(Ra,r)}function jv(r){const i=r[yn];i.type_===0||i.type_===1?i.revoke_():i.revoked_=!0}function zm(r,i){i.unfinalizedDrafts_=i.drafts_.length;const a=i.drafts_[0];return r!==void 0&&r!==a?(a[yn].modified_&&(th(i),Zn(4)),Or(r)&&(r=Fc(i,r),i.parent_||Uc(i,r)),i.patches_&&fs("Patches").generateReplacementPatches_(a[yn].base_,r,i.patches_,i.inversePatches_)):r=Fc(i,a,[]),th(i),i.patches_&&i.patchListener_(i.patches_,i.inversePatches_),r!==Ep?r:void 0}function Fc(r,i,a){if(Jc(i))return i;const c=i[yn];if(!c)return Bc(i,(h,p)=>Am(r,c,i,h,p,a)),i;if(c.scope_!==r)return i;if(!c.modified_)return Uc(r,c.base_,!0),c.base_;if(!c.finalized_){c.finalized_=!0,c.scope_.unfinalizedDrafts_--;const h=c.copy_;let p=h,g=!1;c.type_===3&&(p=new Set(h),h.clear(),g=!0),Bc(p,(w,y)=>Am(r,c,h,w,y,a,g)),Uc(r,h,!1),a&&r.patches_&&fs("Patches").generatePatches_(c,a,r.patches_,r.inversePatches_)}return c.copy_}function Am(r,i,a,c,h,p,g){if(hs(h)){const w=p&&i&&i.type_!==3&&!Yd(i.assigned_,c)?p.concat(c):void 0,y=Fc(r,h,w);if(Tp(a,c,y),hs(y))r.canAutoFreeze_=!1;else return}else g&&a.add(h);if(Or(h)&&!Jc(h)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Fc(r,h),(!i||!i.scope_.parent_)&&typeof c!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,c)&&Uc(r,h)}}function Uc(r,i,a=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&_h(i,a)}function Nv(r,i){const a=Array.isArray(r),c={type_:a?1:0,scope_:i?i.scope_:Mp(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let h=c,p=wh;a&&(h=[c],p=za);const{revoke:g,proxy:w}=Proxy.revocable(h,p);return c.draft_=w,c.revoke_=g,w}var wh={get(r,i){if(i===yn)return r;const a=as(r);if(!Yd(a,i))return kv(r,a,i);const c=a[i];return r.finalized_||!Or(c)?c:c===Bd(r.base_,i)?(Fd(r),r.copy_[i]=ih(c,r)):c},has(r,i){return i in as(r)},ownKeys(r){return Reflect.ownKeys(as(r))},set(r,i,a){const c=Rp(as(r),i);if(c!=null&&c.set)return c.set.call(r.draft_,a),!0;if(!r.modified_){const h=Bd(as(r),i),p=h==null?void 0:h[yn];if(p&&p.base_===a)return r.copy_[i]=a,r.assigned_[i]=!1,!0;if(yv(a,h)&&(a!==void 0||Yd(r.base_,i)))return!0;Fd(r),rh(r)}return r.copy_[i]===a&&(a!==void 0||i in r.copy_)||Number.isNaN(a)&&Number.isNaN(r.copy_[i])||(r.copy_[i]=a,r.assigned_[i]=!0),!0},deleteProperty(r,i){return Bd(r.base_,i)!==void 0||i in r.base_?(r.assigned_[i]=!1,Fd(r),rh(r)):delete r.assigned_[i],r.copy_&&delete r.copy_[i],!0},getOwnPropertyDescriptor(r,i){const a=as(r),c=Reflect.getOwnPropertyDescriptor(a,i);return c&&{writable:!0,configurable:r.type_!==1||i!=="length",enumerable:c.enumerable,value:a[i]}},defineProperty(){Zn(11)},getPrototypeOf(r){return po(r.base_)},setPrototypeOf(){Zn(12)}},za={};Bc(wh,(r,i)=>{za[r]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}});za.deleteProperty=function(r,i){return za.set.call(this,r,i,void 0)};za.set=function(r,i,a){return wh.set.call(this,r[0],i,a,r[0])};function Bd(r,i){const a=r[yn];return(a?as(a):r)[i]}function kv(r,i,a){var h;const c=Rp(i,a);return c?"value"in c?c.value:(h=c.get)==null?void 0:h.call(r.draft_):void 0}function Rp(r,i){if(!(i in r))return;let a=po(r);for(;a;){const c=Object.getOwnPropertyDescriptor(a,i);if(c)return c;a=po(a)}}function rh(r){r.modified_||(r.modified_=!0,r.parent_&&rh(r.parent_))}function Fd(r){r.copy_||(r.copy_=eh(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var Cv=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(i,a,c)=>{if(typeof i=="function"&&typeof a!="function"){const p=a;a=i;const g=this;return function(y=p,..._){return g.produce(y,N=>a.call(this,N,..._))}}typeof a!="function"&&Zn(6),c!==void 0&&typeof c!="function"&&Zn(7);let h;if(Or(i)){const p=Rm(this),g=ih(i,void 0);let w=!0;try{h=a(g),w=!1}finally{w?th(p):nh(p)}return Mm(p,c),zm(h,p)}else if(!i||typeof i!="object"){if(h=a(i),h===void 0&&(h=i),h===Ep&&(h=void 0),this.autoFreeze_&&_h(h,!0),c){const p=[],g=[];fs("Patches").generateReplacementPatches_(i,h,p,g),c(p,g)}return h}else Zn(1,i)},this.produceWithPatches=(i,a)=>{if(typeof i=="function")return(g,...w)=>this.produceWithPatches(g,y=>i(y,...w));let c,h;return[this.produce(i,a,(g,w)=>{c=g,h=w}),c,h]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Or(r)||Zn(8),hs(r)&&(r=Sv(r));const i=Rm(this),a=ih(r,void 0);return a[yn].isManual_=!0,nh(i),a}finishDraft(r,i){const a=r&&r[yn];(!a||!a.isManual_)&&Zn(9);const{scope_:c}=a;return Mm(c,i),zm(void 0,c)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,i){let a;for(a=i.length-1;a>=0;a--){const h=i[a];if(h.path.length===0&&h.op==="replace"){r=h.value;break}}a>-1&&(i=i.slice(a+1));const c=fs("Patches").applyPatches_;return hs(r)?c(r,i):this.produce(r,h=>c(h,i))}};function ih(r,i){const a=Gc(r)?fs("MapSet").proxyMap_(r,i):Kc(r)?fs("MapSet").proxySet_(r,i):Nv(r,i);return(i?i.scope_:Mp()).drafts_.push(a),a}function Sv(r){return hs(r)||Zn(10,r),zp(r)}function zp(r){if(!Or(r)||Jc(r))return r;const i=r[yn];let a;if(i){if(!i.modified_)return i.base_;i.finalized_=!0,a=eh(r,i.scope_.immer_.useStrictShallowCopy_)}else a=eh(r,!0);return Bc(a,(c,h)=>{Tp(a,c,zp(h))}),i&&(i.finalized_=!1),a}var _n=new Cv,Ap=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function Op(r){return({dispatch:a,getState:c})=>h=>p=>typeof p=="function"?p(a,c,r):h(p)}var Pv=Op(),Ev=Op,Lv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dc:Dc.apply(null,arguments)},Tv=r=>r&&typeof r.match=="function";function Sa(r,i){function a(...c){if(i){let h=i(...c);if(!h)throw new Error(Ar(0));return{type:r,payload:h.payload,..."meta"in h&&{meta:h.meta},..."error"in h&&{error:h.error}}}return{type:r,payload:c[0]}}return a.toString=()=>`${r}`,a.type=r,a.match=c=>xv(c)&&c.type===r,a}var Ip=class ka extends Array{constructor(...i){super(...i),Object.setPrototypeOf(this,ka.prototype)}static get[Symbol.species](){return ka}concat(...i){return super.concat.apply(this,i)}prepend(...i){return i.length===1&&Array.isArray(i[0])?new ka(...i[0].concat(this)):new ka(...i.concat(this))}};function Om(r){return Or(r)?Ap(r,()=>{}):r}function gc(r,i,a){return r.has(i)?r.get(i):r.set(i,a(i)).get(i)}function Mv(r){return typeof r=="boolean"}var Rv=()=>function(i){const{thunk:a=!0,immutableCheck:c=!0,serializableCheck:h=!0,actionCreatorCheck:p=!0}=i??{};let g=new Ip;return a&&(Mv(a)?g.push(Pv):g.push(Ev(a.extraArgument))),g},zv="RTK_autoBatch",Im=r=>i=>{setTimeout(i,r)},Av=(r={type:"raf"})=>i=>(...a)=>{const c=i(...a);let h=!0,p=!1,g=!1;const w=new Set,y=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Im(10):r.type==="callback"?r.queueNotification:Im(r.timeout),_=()=>{g=!1,p&&(p=!1,w.forEach(N=>N()))};return Object.assign({},c,{subscribe(N){const C=()=>h&&N(),I=c.subscribe(C);return w.add(N),()=>{I(),w.delete(N)}},dispatch(N){var C;try{return h=!((C=N==null?void 0:N.meta)!=null&&C[zv]),p=!h,p&&(g||(g=!0,y(_))),c.dispatch(N)}finally{h=!0}}})},Ov=r=>function(a){const{autoBatch:c=!0}=a??{};let h=new Ip(r);return c&&h.push(Av(typeof c=="object"?c:void 0)),h};function Iv(r){const i=Rv(),{reducer:a=void 0,middleware:c,devTools:h=!0,preloadedState:p=void 0,enhancers:g=void 0}=r||{};let w;if(typeof a=="function")w=a;else if(yh(a))w=pv(a);else throw new Error(Ar(1));let y;typeof c=="function"?y=c(i):y=i();let _=Dc;h&&(_=Lv({trace:!1,...typeof h=="object"&&h}));const N=gv(...y),C=Ov(N);let I=typeof g=="function"?g(C):C();const W=_(...I);return Pp(w,p,W)}function Dp(r){const i={},a=[];let c;const h={addCase(p,g){const w=typeof p=="string"?p:p.type;if(!w)throw new Error(Ar(28));if(w in i)throw new Error(Ar(29));return i[w]=g,h},addMatcher(p,g){return a.push({matcher:p,reducer:g}),h},addDefaultCase(p){return c=p,h}};return r(h),[i,a,c]}function Dv(r){return typeof r=="function"}function Bv(r,i){let[a,c,h]=Dp(i),p;if(Dv(r))p=()=>Om(r());else{const w=Om(r);p=()=>w}function g(w=p(),y){let _=[a[y.type],...c.filter(({matcher:N})=>N(y)).map(({reducer:N})=>N)];return _.filter(N=>!!N).length===0&&(_=[h]),_.reduce((N,C)=>{if(C)if(hs(N)){const W=C(N,y);return W===void 0?N:W}else{if(Or(N))return Ap(N,I=>C(I,y));{const I=C(N,y);if(I===void 0){if(N===null)return N;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return N},w)}return g.getInitialState=p,g}var Fv=(r,i)=>Tv(r)?r.match(i):r(i);function Uv(...r){return i=>r.some(a=>Fv(a,i))}var Wv="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$v=(r=21)=>{let i="",a=r;for(;a--;)i+=Wv[Math.random()*64|0];return i},Hv=["name","message","stack","code"],Ud=class{constructor(r,i){xn(this,"_type");this.payload=r,this.meta=i}},Dm=class{constructor(r,i){xn(this,"_type");this.payload=r,this.meta=i}},Zv=r=>{if(typeof r=="object"&&r!==null){const i={};for(const a of Hv)typeof r[a]=="string"&&(i[a]=r[a]);return i}return{message:String(r)}},Bm="External signal was aborted",Ke=(()=>{function r(i,a,c){const h=Sa(i+"/fulfilled",(y,_,N,C)=>({payload:y,meta:{...C||{},arg:N,requestId:_,requestStatus:"fulfilled"}})),p=Sa(i+"/pending",(y,_,N)=>({payload:void 0,meta:{...N||{},arg:_,requestId:y,requestStatus:"pending"}})),g=Sa(i+"/rejected",(y,_,N,C,I)=>({payload:C,error:(c&&c.serializeError||Zv)(y||"Rejected"),meta:{...I||{},arg:N,requestId:_,rejectedWithValue:!!C,requestStatus:"rejected",aborted:(y==null?void 0:y.name)==="AbortError",condition:(y==null?void 0:y.name)==="ConditionError"}}));function w(y,{signal:_}={}){return(N,C,I)=>{const W=c!=null&&c.idGenerator?c.idGenerator(y):$v(),O=new AbortController;let T,k;function S($){k=$,O.abort()}_&&(_.aborted?S(Bm):_.addEventListener("abort",()=>S(Bm),{once:!0}));const R=(async function(){var G,se;let $;try{let oe=(G=c==null?void 0:c.condition)==null?void 0:G.call(c,y,{getState:C,extra:I});if(qv(oe)&&(oe=await oe),oe===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ne=new Promise((X,Fe)=>{T=()=>{Fe({name:"AbortError",message:k||"Aborted"})},O.signal.addEventListener("abort",T)});N(p(W,y,(se=c==null?void 0:c.getPendingMeta)==null?void 0:se.call(c,{requestId:W,arg:y},{getState:C,extra:I}))),$=await Promise.race([ne,Promise.resolve(a(y,{dispatch:N,getState:C,extra:I,requestId:W,signal:O.signal,abort:S,rejectWithValue:(X,Fe)=>new Ud(X,Fe),fulfillWithValue:(X,Fe)=>new Dm(X,Fe)})).then(X=>{if(X instanceof Ud)throw X;return X instanceof Dm?h(X.payload,W,y,X.meta):h(X,W,y)})])}catch(oe){$=oe instanceof Ud?g(null,W,y,oe.payload,oe.meta):g(oe,W,y)}finally{T&&O.signal.removeEventListener("abort",T)}return c&&!c.dispatchConditionRejection&&g.match($)&&$.meta.condition||N($),$})();return Object.assign(R,{abort:S,requestId:W,arg:y,unwrap(){return R.then(Vv)}})}}return Object.assign(w,{pending:p,rejected:g,fulfilled:h,settled:Uv(g,h),typePrefix:i})}return r.withTypes=()=>r,r})();function Vv(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function qv(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var Gv=Symbol.for("rtk-slice-createasyncthunk");function Kv(r,i){return`${r}/${i}`}function Jv({creators:r}={}){var a;const i=(a=r==null?void 0:r.asyncThunk)==null?void 0:a[Gv];return function(h){const{name:p,reducerPath:g=p}=h;if(!p)throw new Error(Ar(11));const w=(typeof h.reducers=="function"?h.reducers(Xv()):h.reducers)||{},y=Object.keys(w),_={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},N={addCase(K,G){const se=typeof K=="string"?K:K.type;if(!se)throw new Error(Ar(12));if(se in _.sliceCaseReducersByType)throw new Error(Ar(13));return _.sliceCaseReducersByType[se]=G,N},addMatcher(K,G){return _.sliceMatchers.push({matcher:K,reducer:G}),N},exposeAction(K,G){return _.actionCreators[K]=G,N},exposeCaseReducer(K,G){return _.sliceCaseReducersByName[K]=G,N}};y.forEach(K=>{const G=w[K],se={reducerName:K,type:Kv(p,K),createNotation:typeof h.reducers=="function"};ey(G)?ny(se,G,N,i):Yv(se,G,N)});function C(){const[K={},G=[],se=void 0]=typeof h.extraReducers=="function"?Dp(h.extraReducers):[h.extraReducers],oe={...K,..._.sliceCaseReducersByType};return Bv(h.initialState,ne=>{for(let X in oe)ne.addCase(X,oe[X]);for(let X of _.sliceMatchers)ne.addMatcher(X.matcher,X.reducer);for(let X of G)ne.addMatcher(X.matcher,X.reducer);se&&ne.addDefaultCase(se)})}const I=K=>K,W=new Map,O=new WeakMap;let T;function k(K,G){return T||(T=C()),T(K,G)}function S(){return T||(T=C()),T.getInitialState()}function R(K,G=!1){function se(ne){let X=ne[K];return typeof X>"u"&&G&&(X=gc(O,se,S)),X}function oe(ne=I){const X=gc(W,G,()=>new WeakMap);return gc(X,ne,()=>{const Fe={};for(const[We,De]of Object.entries(h.selectors??{}))Fe[We]=Qv(De,ne,()=>gc(O,ne,S),G);return Fe})}return{reducerPath:K,getSelectors:oe,get selectors(){return oe(se)},selectSlice:se}}const $={name:p,reducer:k,actions:_.actionCreators,caseReducers:_.sliceCaseReducersByName,getInitialState:S,...R(g),injectInto(K,{reducerPath:G,...se}={}){const oe=G??g;return K.inject({reducerPath:oe,reducer:k},se),{...$,...R(oe,!0)}}};return $}}function Qv(r,i,a,c){function h(p,...g){let w=i(p);return typeof w>"u"&&c&&(w=a()),r(w,...g)}return h.unwrapped=r,h}var Pi=Jv();function Xv(){function r(i,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:i,...a}}return r.withTypes=()=>r,{reducer(i){return Object.assign({[i.name](...a){return i(...a)}}[i.name],{_reducerDefinitionType:"reducer"})},preparedReducer(i,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:i,reducer:a}},asyncThunk:r}}function Yv({type:r,reducerName:i,createNotation:a},c,h){let p,g;if("reducer"in c){if(a&&!ty(c))throw new Error(Ar(17));p=c.reducer,g=c.prepare}else p=c;h.addCase(r,p).exposeCaseReducer(i,p).exposeAction(i,g?Sa(r,g):Sa(r))}function ey(r){return r._reducerDefinitionType==="asyncThunk"}function ty(r){return r._reducerDefinitionType==="reducerWithPrepare"}function ny({type:r,reducerName:i},a,c,h){if(!h)throw new Error(Ar(18));const{payloadCreator:p,fulfilled:g,pending:w,rejected:y,settled:_,options:N}=a,C=h(r,p,N);c.exposeAction(i,C),g&&c.addCase(C.fulfilled,g),w&&c.addCase(C.pending,w),y&&c.addCase(C.rejected,y),_&&c.addMatcher(C.settled,_),c.exposeCaseReducer(i,{fulfilled:g||xc,pending:w||xc,rejected:y||xc,settled:_||xc})}function xc(){}function Ar(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}function Bp(r,i){return function(){return r.apply(i,arguments)}}const{toString:ry}=Object.prototype,{getPrototypeOf:bh}=Object,{iterator:Qc,toStringTag:Fp}=Symbol,Xc=(r=>i=>{const a=ry.call(i);return r[a]||(r[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=r=>(r=r.toLowerCase(),i=>Xc(i)===r),Yc=r=>i=>typeof i===r,{isArray:vo}=Array,Aa=Yc("undefined");function Ba(r){return r!==null&&!Aa(r)&&r.constructor!==null&&!Aa(r.constructor)&&nn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Up=Vn("ArrayBuffer");function iy(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Up(r.buffer),i}const sy=Yc("string"),nn=Yc("function"),Wp=Yc("number"),Fa=r=>r!==null&&typeof r=="object",oy=r=>r===!0||r===!1,_c=r=>{if(Xc(r)!=="object")return!1;const i=bh(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Fp in r)&&!(Qc in r)},ay=r=>{if(!Fa(r)||Ba(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},ly=Vn("Date"),cy=Vn("File"),uy=Vn("Blob"),dy=Vn("FileList"),hy=r=>Fa(r)&&nn(r.pipe),fy=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||nn(r.append)&&((i=Xc(r))==="formdata"||i==="object"&&nn(r.toString)&&r.toString()==="[object FormData]"))},my=Vn("URLSearchParams"),[py,gy,xy,vy]=["ReadableStream","Request","Response","Headers"].map(Vn),yy=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ua(r,i,{allOwnKeys:a=!1}={}){if(r===null||typeof r>"u")return;let c,h;if(typeof r!="object"&&(r=[r]),vo(r))for(c=0,h=r.length;c<h;c++)i.call(null,r[c],c,r);else{if(Ba(r))return;const p=a?Object.getOwnPropertyNames(r):Object.keys(r),g=p.length;let w;for(c=0;c<g;c++)w=p[c],i.call(null,r[w],w,r)}}function $p(r,i){if(Ba(r))return null;i=i.toLowerCase();const a=Object.keys(r);let c=a.length,h;for(;c-- >0;)if(h=a[c],i===h.toLowerCase())return h;return null}const cs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hp=r=>!Aa(r)&&r!==cs;function sh(){const{caseless:r}=Hp(this)&&this||{},i={},a=(c,h)=>{const p=r&&$p(i,h)||h;_c(i[p])&&_c(c)?i[p]=sh(i[p],c):_c(c)?i[p]=sh({},c):vo(c)?i[p]=c.slice():i[p]=c};for(let c=0,h=arguments.length;c<h;c++)arguments[c]&&Ua(arguments[c],a);return i}const _y=(r,i,a,{allOwnKeys:c}={})=>(Ua(i,(h,p)=>{a&&nn(h)?r[p]=Bp(h,a):r[p]=h},{allOwnKeys:c}),r),wy=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),by=(r,i,a,c)=>{r.prototype=Object.create(i.prototype,c),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),a&&Object.assign(r.prototype,a)},jy=(r,i,a,c)=>{let h,p,g;const w={};if(i=i||{},r==null)return i;do{for(h=Object.getOwnPropertyNames(r),p=h.length;p-- >0;)g=h[p],(!c||c(g,r,i))&&!w[g]&&(i[g]=r[g],w[g]=!0);r=a!==!1&&bh(r)}while(r&&(!a||a(r,i))&&r!==Object.prototype);return i},Ny=(r,i,a)=>{r=String(r),(a===void 0||a>r.length)&&(a=r.length),a-=i.length;const c=r.indexOf(i,a);return c!==-1&&c===a},ky=r=>{if(!r)return null;if(vo(r))return r;let i=r.length;if(!Wp(i))return null;const a=new Array(i);for(;i-- >0;)a[i]=r[i];return a},Cy=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&bh(Uint8Array)),Sy=(r,i)=>{const c=(r&&r[Qc]).call(r);let h;for(;(h=c.next())&&!h.done;){const p=h.value;i.call(r,p[0],p[1])}},Py=(r,i)=>{let a;const c=[];for(;(a=r.exec(i))!==null;)c.push(a);return c},Ey=Vn("HTMLFormElement"),Ly=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,c,h){return c.toUpperCase()+h}),Fm=(({hasOwnProperty:r})=>(i,a)=>r.call(i,a))(Object.prototype),Ty=Vn("RegExp"),Zp=(r,i)=>{const a=Object.getOwnPropertyDescriptors(r),c={};Ua(a,(h,p)=>{let g;(g=i(h,p,r))!==!1&&(c[p]=g||h)}),Object.defineProperties(r,c)},My=r=>{Zp(r,(i,a)=>{if(nn(r)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const c=r[a];if(nn(c)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Ry=(r,i)=>{const a={},c=h=>{h.forEach(p=>{a[p]=!0})};return vo(r)?c(r):c(String(r).split(i)),a},zy=()=>{},Ay=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i;function Oy(r){return!!(r&&nn(r.append)&&r[Fp]==="FormData"&&r[Qc])}const Iy=r=>{const i=new Array(10),a=(c,h)=>{if(Fa(c)){if(i.indexOf(c)>=0)return;if(Ba(c))return c;if(!("toJSON"in c)){i[h]=c;const p=vo(c)?[]:{};return Ua(c,(g,w)=>{const y=a(g,h+1);!Aa(y)&&(p[w]=y)}),i[h]=void 0,p}}return c};return a(r,0)},Dy=Vn("AsyncFunction"),By=r=>r&&(Fa(r)||nn(r))&&nn(r.then)&&nn(r.catch),Vp=((r,i)=>r?setImmediate:i?((a,c)=>(cs.addEventListener("message",({source:h,data:p})=>{h===cs&&p===a&&c.length&&c.shift()()},!1),h=>{c.push(h),cs.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",nn(cs.postMessage)),Fy=typeof queueMicrotask<"u"?queueMicrotask.bind(cs):typeof process<"u"&&process.nextTick||Vp,Uy=r=>r!=null&&nn(r[Qc]),q={isArray:vo,isArrayBuffer:Up,isBuffer:Ba,isFormData:fy,isArrayBufferView:iy,isString:sy,isNumber:Wp,isBoolean:oy,isObject:Fa,isPlainObject:_c,isEmptyObject:ay,isReadableStream:py,isRequest:gy,isResponse:xy,isHeaders:vy,isUndefined:Aa,isDate:ly,isFile:cy,isBlob:uy,isRegExp:Ty,isFunction:nn,isStream:hy,isURLSearchParams:my,isTypedArray:Cy,isFileList:dy,forEach:Ua,merge:sh,extend:_y,trim:yy,stripBOM:wy,inherits:by,toFlatObject:jy,kindOf:Xc,kindOfTest:Vn,endsWith:Ny,toArray:ky,forEachEntry:Sy,matchAll:Py,isHTMLForm:Ey,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:Zp,freezeMethods:My,toObjectSet:Ry,toCamelCase:Ly,noop:zy,toFiniteNumber:Ay,findKey:$p,global:cs,isContextDefined:Hp,isSpecCompliantForm:Oy,toJSONObject:Iy,isAsyncFn:Dy,isThenable:By,setImmediate:Vp,asap:Fy,isIterable:Uy};function Le(r,i,a,c,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),a&&(this.config=a),c&&(this.request=c),h&&(this.response=h,this.status=h.status?h.status:null)}q.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const qp=Le.prototype,Gp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Gp[r]={value:r}});Object.defineProperties(Le,Gp);Object.defineProperty(qp,"isAxiosError",{value:!0});Le.from=(r,i,a,c,h,p)=>{const g=Object.create(qp);return q.toFlatObject(r,g,function(y){return y!==Error.prototype},w=>w!=="isAxiosError"),Le.call(g,r.message,i,a,c,h),g.cause=r,g.name=r.name,p&&Object.assign(g,p),g};const Wy=null;function oh(r){return q.isPlainObject(r)||q.isArray(r)}function Kp(r){return q.endsWith(r,"[]")?r.slice(0,-2):r}function Um(r,i,a){return r?r.concat(i).map(function(h,p){return h=Kp(h),!a&&p?"["+h+"]":h}).join(a?".":""):i}function $y(r){return q.isArray(r)&&!r.some(oh)}const Hy=q.toFlatObject(q,{},null,function(i){return/^is[A-Z]/.test(i)});function eu(r,i,a){if(!q.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,a=q.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,k){return!q.isUndefined(k[T])});const c=a.metaTokens,h=a.visitor||N,p=a.dots,g=a.indexes,y=(a.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(i);if(!q.isFunction(h))throw new TypeError("visitor must be a function");function _(O){if(O===null)return"";if(q.isDate(O))return O.toISOString();if(q.isBoolean(O))return O.toString();if(!y&&q.isBlob(O))throw new Le("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(O)||q.isTypedArray(O)?y&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function N(O,T,k){let S=O;if(O&&!k&&typeof O=="object"){if(q.endsWith(T,"{}"))T=c?T:T.slice(0,-2),O=JSON.stringify(O);else if(q.isArray(O)&&$y(O)||(q.isFileList(O)||q.endsWith(T,"[]"))&&(S=q.toArray(O)))return T=Kp(T),S.forEach(function($,K){!(q.isUndefined($)||$===null)&&i.append(g===!0?Um([T],K,p):g===null?T:T+"[]",_($))}),!1}return oh(O)?!0:(i.append(Um(k,T,p),_(O)),!1)}const C=[],I=Object.assign(Hy,{defaultVisitor:N,convertValue:_,isVisitable:oh});function W(O,T){if(!q.isUndefined(O)){if(C.indexOf(O)!==-1)throw Error("Circular reference detected in "+T.join("."));C.push(O),q.forEach(O,function(S,R){(!(q.isUndefined(S)||S===null)&&h.call(i,S,q.isString(R)?R.trim():R,T,I))===!0&&W(S,T?T.concat(R):[R])}),C.pop()}}if(!q.isObject(r))throw new TypeError("data must be an object");return W(r),i}function Wm(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(c){return i[c]})}function jh(r,i){this._pairs=[],r&&eu(r,this,i)}const Jp=jh.prototype;Jp.append=function(i,a){this._pairs.push([i,a])};Jp.toString=function(i){const a=i?function(c){return i.call(this,c,Wm)}:Wm;return this._pairs.map(function(h){return a(h[0])+"="+a(h[1])},"").join("&")};function Zy(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qp(r,i,a){if(!i)return r;const c=a&&a.encode||Zy;q.isFunction(a)&&(a={serialize:a});const h=a&&a.serialize;let p;if(h?p=h(i,a):p=q.isURLSearchParams(i)?i.toString():new jh(i,a).toString(c),p){const g=r.indexOf("#");g!==-1&&(r=r.slice(0,g)),r+=(r.indexOf("?")===-1?"?":"&")+p}return r}class $m{constructor(){this.handlers=[]}use(i,a,c){return this.handlers.push({fulfilled:i,rejected:a,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){q.forEach(this.handlers,function(c){c!==null&&i(c)})}}const Xp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vy=typeof URLSearchParams<"u"?URLSearchParams:jh,qy=typeof FormData<"u"?FormData:null,Gy=typeof Blob<"u"?Blob:null,Ky={isBrowser:!0,classes:{URLSearchParams:Vy,FormData:qy,Blob:Gy},protocols:["http","https","file","blob","url","data"]},Nh=typeof window<"u"&&typeof document<"u",ah=typeof navigator=="object"&&navigator||void 0,Jy=Nh&&(!ah||["ReactNative","NativeScript","NS"].indexOf(ah.product)<0),Qy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xy=Nh&&window.location.href||"http://localhost",Yy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nh,hasStandardBrowserEnv:Jy,hasStandardBrowserWebWorkerEnv:Qy,navigator:ah,origin:Xy},Symbol.toStringTag,{value:"Module"})),Bt={...Yy,...Ky};function e_(r,i){return eu(r,new Bt.classes.URLSearchParams,{visitor:function(a,c,h,p){return Bt.isNode&&q.isBuffer(a)?(this.append(c,a.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)},...i})}function t_(r){return q.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function n_(r){const i={},a=Object.keys(r);let c;const h=a.length;let p;for(c=0;c<h;c++)p=a[c],i[p]=r[p];return i}function Yp(r){function i(a,c,h,p){let g=a[p++];if(g==="__proto__")return!0;const w=Number.isFinite(+g),y=p>=a.length;return g=!g&&q.isArray(h)?h.length:g,y?(q.hasOwnProp(h,g)?h[g]=[h[g],c]:h[g]=c,!w):((!h[g]||!q.isObject(h[g]))&&(h[g]=[]),i(a,c,h[g],p)&&q.isArray(h[g])&&(h[g]=n_(h[g])),!w)}if(q.isFormData(r)&&q.isFunction(r.entries)){const a={};return q.forEachEntry(r,(c,h)=>{i(t_(c),h,a,0)}),a}return null}function r_(r,i,a){if(q.isString(r))try{return(i||JSON.parse)(r),q.trim(r)}catch(c){if(c.name!=="SyntaxError")throw c}return(a||JSON.stringify)(r)}const Wa={transitional:Xp,adapter:["xhr","http","fetch"],transformRequest:[function(i,a){const c=a.getContentType()||"",h=c.indexOf("application/json")>-1,p=q.isObject(i);if(p&&q.isHTMLForm(i)&&(i=new FormData(i)),q.isFormData(i))return h?JSON.stringify(Yp(i)):i;if(q.isArrayBuffer(i)||q.isBuffer(i)||q.isStream(i)||q.isFile(i)||q.isBlob(i)||q.isReadableStream(i))return i;if(q.isArrayBufferView(i))return i.buffer;if(q.isURLSearchParams(i))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let w;if(p){if(c.indexOf("application/x-www-form-urlencoded")>-1)return e_(i,this.formSerializer).toString();if((w=q.isFileList(i))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return eu(w?{"files[]":i}:i,y&&new y,this.formSerializer)}}return p||h?(a.setContentType("application/json",!1),r_(i)):i}],transformResponse:[function(i){const a=this.transitional||Wa.transitional,c=a&&a.forcedJSONParsing,h=this.responseType==="json";if(q.isResponse(i)||q.isReadableStream(i))return i;if(i&&q.isString(i)&&(c&&!this.responseType||h)){const g=!(a&&a.silentJSONParsing)&&h;try{return JSON.parse(i)}catch(w){if(g)throw w.name==="SyntaxError"?Le.from(w,Le.ERR_BAD_RESPONSE,this,null,this.response):w}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],r=>{Wa.headers[r]={}});const i_=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s_=r=>{const i={};let a,c,h;return r&&r.split(`
`).forEach(function(g){h=g.indexOf(":"),a=g.substring(0,h).trim().toLowerCase(),c=g.substring(h+1).trim(),!(!a||i[a]&&i_[a])&&(a==="set-cookie"?i[a]?i[a].push(c):i[a]=[c]:i[a]=i[a]?i[a]+", "+c:c)}),i},Hm=Symbol("internals");function ja(r){return r&&String(r).trim().toLowerCase()}function wc(r){return r===!1||r==null?r:q.isArray(r)?r.map(wc):String(r)}function o_(r){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=a.exec(r);)i[c[1]]=c[2];return i}const a_=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Wd(r,i,a,c,h){if(q.isFunction(c))return c.call(this,i,a);if(h&&(i=a),!!q.isString(i)){if(q.isString(c))return i.indexOf(c)!==-1;if(q.isRegExp(c))return c.test(i)}}function l_(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,a,c)=>a.toUpperCase()+c)}function c_(r,i){const a=q.toCamelCase(" "+i);["get","set","has"].forEach(c=>{Object.defineProperty(r,c+a,{value:function(h,p,g){return this[c].call(this,i,h,p,g)},configurable:!0})})}let rn=class{constructor(i){i&&this.set(i)}set(i,a,c){const h=this;function p(w,y,_){const N=ja(y);if(!N)throw new Error("header name must be a non-empty string");const C=q.findKey(h,N);(!C||h[C]===void 0||_===!0||_===void 0&&h[C]!==!1)&&(h[C||y]=wc(w))}const g=(w,y)=>q.forEach(w,(_,N)=>p(_,N,y));if(q.isPlainObject(i)||i instanceof this.constructor)g(i,a);else if(q.isString(i)&&(i=i.trim())&&!a_(i))g(s_(i),a);else if(q.isObject(i)&&q.isIterable(i)){let w={},y,_;for(const N of i){if(!q.isArray(N))throw TypeError("Object iterator must return a key-value pair");w[_=N[0]]=(y=w[_])?q.isArray(y)?[...y,N[1]]:[y,N[1]]:N[1]}g(w,a)}else i!=null&&p(a,i,c);return this}get(i,a){if(i=ja(i),i){const c=q.findKey(this,i);if(c){const h=this[c];if(!a)return h;if(a===!0)return o_(h);if(q.isFunction(a))return a.call(this,h,c);if(q.isRegExp(a))return a.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,a){if(i=ja(i),i){const c=q.findKey(this,i);return!!(c&&this[c]!==void 0&&(!a||Wd(this,this[c],c,a)))}return!1}delete(i,a){const c=this;let h=!1;function p(g){if(g=ja(g),g){const w=q.findKey(c,g);w&&(!a||Wd(c,c[w],w,a))&&(delete c[w],h=!0)}}return q.isArray(i)?i.forEach(p):p(i),h}clear(i){const a=Object.keys(this);let c=a.length,h=!1;for(;c--;){const p=a[c];(!i||Wd(this,this[p],p,i,!0))&&(delete this[p],h=!0)}return h}normalize(i){const a=this,c={};return q.forEach(this,(h,p)=>{const g=q.findKey(c,p);if(g){a[g]=wc(h),delete a[p];return}const w=i?l_(p):String(p).trim();w!==p&&delete a[p],a[w]=wc(h),c[w]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const a=Object.create(null);return q.forEach(this,(c,h)=>{c!=null&&c!==!1&&(a[h]=i&&q.isArray(c)?c.join(", "):c)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,a])=>i+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...a){const c=new this(i);return a.forEach(h=>c.set(h)),c}static accessor(i){const c=(this[Hm]=this[Hm]={accessors:{}}).accessors,h=this.prototype;function p(g){const w=ja(g);c[w]||(c_(h,g),c[w]=!0)}return q.isArray(i)?i.forEach(p):p(i),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(rn.prototype,({value:r},i)=>{let a=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(c){this[a]=c}}});q.freezeMethods(rn);function $d(r,i){const a=this||Wa,c=i||a,h=rn.from(c.headers);let p=c.data;return q.forEach(r,function(w){p=w.call(a,p,h.normalize(),i?i.status:void 0)}),h.normalize(),p}function eg(r){return!!(r&&r.__CANCEL__)}function yo(r,i,a){Le.call(this,r??"canceled",Le.ERR_CANCELED,i,a),this.name="CanceledError"}q.inherits(yo,Le,{__CANCEL__:!0});function tg(r,i,a){const c=a.config.validateStatus;!a.status||!c||c(a.status)?r(a):i(new Le("Request failed with status code "+a.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function u_(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function d_(r,i){r=r||10;const a=new Array(r),c=new Array(r);let h=0,p=0,g;return i=i!==void 0?i:1e3,function(y){const _=Date.now(),N=c[p];g||(g=_),a[h]=y,c[h]=_;let C=p,I=0;for(;C!==h;)I+=a[C++],C=C%r;if(h=(h+1)%r,h===p&&(p=(p+1)%r),_-g<i)return;const W=N&&_-N;return W?Math.round(I*1e3/W):void 0}}function h_(r,i){let a=0,c=1e3/i,h,p;const g=(_,N=Date.now())=>{a=N,h=null,p&&(clearTimeout(p),p=null),r(..._)};return[(..._)=>{const N=Date.now(),C=N-a;C>=c?g(_,N):(h=_,p||(p=setTimeout(()=>{p=null,g(h)},c-C)))},()=>h&&g(h)]}const Wc=(r,i,a=3)=>{let c=0;const h=d_(50,250);return h_(p=>{const g=p.loaded,w=p.lengthComputable?p.total:void 0,y=g-c,_=h(y),N=g<=w;c=g;const C={loaded:g,total:w,progress:w?g/w:void 0,bytes:y,rate:_||void 0,estimated:_&&w&&N?(w-g)/_:void 0,event:p,lengthComputable:w!=null,[i?"download":"upload"]:!0};r(C)},a)},Zm=(r,i)=>{const a=r!=null;return[c=>i[0]({lengthComputable:a,total:r,loaded:c}),i[1]]},Vm=r=>(...i)=>q.asap(()=>r(...i)),f_=Bt.hasStandardBrowserEnv?((r,i)=>a=>(a=new URL(a,Bt.origin),r.protocol===a.protocol&&r.host===a.host&&(i||r.port===a.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,m_=Bt.hasStandardBrowserEnv?{write(r,i,a,c,h,p){const g=[r+"="+encodeURIComponent(i)];q.isNumber(a)&&g.push("expires="+new Date(a).toGMTString()),q.isString(c)&&g.push("path="+c),q.isString(h)&&g.push("domain="+h),p===!0&&g.push("secure"),document.cookie=g.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function p_(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function g_(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function ng(r,i,a){let c=!p_(i);return r&&(c||a==!1)?g_(r,i):i}const qm=r=>r instanceof rn?{...r}:r;function ms(r,i){i=i||{};const a={};function c(_,N,C,I){return q.isPlainObject(_)&&q.isPlainObject(N)?q.merge.call({caseless:I},_,N):q.isPlainObject(N)?q.merge({},N):q.isArray(N)?N.slice():N}function h(_,N,C,I){if(q.isUndefined(N)){if(!q.isUndefined(_))return c(void 0,_,C,I)}else return c(_,N,C,I)}function p(_,N){if(!q.isUndefined(N))return c(void 0,N)}function g(_,N){if(q.isUndefined(N)){if(!q.isUndefined(_))return c(void 0,_)}else return c(void 0,N)}function w(_,N,C){if(C in i)return c(_,N);if(C in r)return c(void 0,_)}const y={url:p,method:p,data:p,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:w,headers:(_,N,C)=>h(qm(_),qm(N),C,!0)};return q.forEach(Object.keys({...r,...i}),function(N){const C=y[N]||h,I=C(r[N],i[N],N);q.isUndefined(I)&&C!==w||(a[N]=I)}),a}const rg=r=>{const i=ms({},r);let{data:a,withXSRFToken:c,xsrfHeaderName:h,xsrfCookieName:p,headers:g,auth:w}=i;i.headers=g=rn.from(g),i.url=Qp(ng(i.baseURL,i.url,i.allowAbsoluteUrls),r.params,r.paramsSerializer),w&&g.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let y;if(q.isFormData(a)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((y=g.getContentType())!==!1){const[_,...N]=y?y.split(";").map(C=>C.trim()).filter(Boolean):[];g.setContentType([_||"multipart/form-data",...N].join("; "))}}if(Bt.hasStandardBrowserEnv&&(c&&q.isFunction(c)&&(c=c(i)),c||c!==!1&&f_(i.url))){const _=h&&p&&m_.read(p);_&&g.set(h,_)}return i},x_=typeof XMLHttpRequest<"u",v_=x_&&function(r){return new Promise(function(a,c){const h=rg(r);let p=h.data;const g=rn.from(h.headers).normalize();let{responseType:w,onUploadProgress:y,onDownloadProgress:_}=h,N,C,I,W,O;function T(){W&&W(),O&&O(),h.cancelToken&&h.cancelToken.unsubscribe(N),h.signal&&h.signal.removeEventListener("abort",N)}let k=new XMLHttpRequest;k.open(h.method.toUpperCase(),h.url,!0),k.timeout=h.timeout;function S(){if(!k)return;const $=rn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),G={data:!w||w==="text"||w==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:$,config:r,request:k};tg(function(oe){a(oe),T()},function(oe){c(oe),T()},G),k=null}"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(S)},k.onabort=function(){k&&(c(new Le("Request aborted",Le.ECONNABORTED,r,k)),k=null)},k.onerror=function(){c(new Le("Network Error",Le.ERR_NETWORK,r,k)),k=null},k.ontimeout=function(){let K=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const G=h.transitional||Xp;h.timeoutErrorMessage&&(K=h.timeoutErrorMessage),c(new Le(K,G.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,r,k)),k=null},p===void 0&&g.setContentType(null),"setRequestHeader"in k&&q.forEach(g.toJSON(),function(K,G){k.setRequestHeader(G,K)}),q.isUndefined(h.withCredentials)||(k.withCredentials=!!h.withCredentials),w&&w!=="json"&&(k.responseType=h.responseType),_&&([I,O]=Wc(_,!0),k.addEventListener("progress",I)),y&&k.upload&&([C,W]=Wc(y),k.upload.addEventListener("progress",C),k.upload.addEventListener("loadend",W)),(h.cancelToken||h.signal)&&(N=$=>{k&&(c(!$||$.type?new yo(null,r,k):$),k.abort(),k=null)},h.cancelToken&&h.cancelToken.subscribe(N),h.signal&&(h.signal.aborted?N():h.signal.addEventListener("abort",N)));const R=u_(h.url);if(R&&Bt.protocols.indexOf(R)===-1){c(new Le("Unsupported protocol "+R+":",Le.ERR_BAD_REQUEST,r));return}k.send(p||null)})},y_=(r,i)=>{const{length:a}=r=r?r.filter(Boolean):[];if(i||a){let c=new AbortController,h;const p=function(_){if(!h){h=!0,w();const N=_ instanceof Error?_:this.reason;c.abort(N instanceof Le?N:new yo(N instanceof Error?N.message:N))}};let g=i&&setTimeout(()=>{g=null,p(new Le(`timeout ${i} of ms exceeded`,Le.ETIMEDOUT))},i);const w=()=>{r&&(g&&clearTimeout(g),g=null,r.forEach(_=>{_.unsubscribe?_.unsubscribe(p):_.removeEventListener("abort",p)}),r=null)};r.forEach(_=>_.addEventListener("abort",p));const{signal:y}=c;return y.unsubscribe=()=>q.asap(w),y}},__=function*(r,i){let a=r.byteLength;if(a<i){yield r;return}let c=0,h;for(;c<a;)h=c+i,yield r.slice(c,h),c=h},w_=async function*(r,i){for await(const a of b_(r))yield*__(a,i)},b_=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:a,value:c}=await i.read();if(a)break;yield c}}finally{await i.cancel()}},Gm=(r,i,a,c)=>{const h=w_(r,i);let p=0,g,w=y=>{g||(g=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:_,value:N}=await h.next();if(_){w(),y.close();return}let C=N.byteLength;if(a){let I=p+=C;a(I)}y.enqueue(new Uint8Array(N))}catch(_){throw w(_),_}},cancel(y){return w(y),h.return()}},{highWaterMark:2})},tu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ig=tu&&typeof ReadableStream=="function",j_=tu&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),sg=(r,...i)=>{try{return!!r(...i)}catch{return!1}},N_=ig&&sg(()=>{let r=!1;const i=new Request(Bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),Km=64*1024,lh=ig&&sg(()=>q.isReadableStream(new Response("").body)),$c={stream:lh&&(r=>r.body)};tu&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!$c[i]&&($c[i]=q.isFunction(r[i])?a=>a[i]():(a,c)=>{throw new Le(`Response type '${i}' is not supported`,Le.ERR_NOT_SUPPORT,c)})})})(new Response);const k_=async r=>{if(r==null)return 0;if(q.isBlob(r))return r.size;if(q.isSpecCompliantForm(r))return(await new Request(Bt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(q.isArrayBufferView(r)||q.isArrayBuffer(r))return r.byteLength;if(q.isURLSearchParams(r)&&(r=r+""),q.isString(r))return(await j_(r)).byteLength},C_=async(r,i)=>{const a=q.toFiniteNumber(r.getContentLength());return a??k_(i)},S_=tu&&(async r=>{let{url:i,method:a,data:c,signal:h,cancelToken:p,timeout:g,onDownloadProgress:w,onUploadProgress:y,responseType:_,headers:N,withCredentials:C="same-origin",fetchOptions:I}=rg(r);_=_?(_+"").toLowerCase():"text";let W=y_([h,p&&p.toAbortSignal()],g),O;const T=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let k;try{if(y&&N_&&a!=="get"&&a!=="head"&&(k=await C_(N,c))!==0){let G=new Request(i,{method:"POST",body:c,duplex:"half"}),se;if(q.isFormData(c)&&(se=G.headers.get("content-type"))&&N.setContentType(se),G.body){const[oe,ne]=Zm(k,Wc(Vm(y)));c=Gm(G.body,Km,oe,ne)}}q.isString(C)||(C=C?"include":"omit");const S="credentials"in Request.prototype;O=new Request(i,{...I,signal:W,method:a.toUpperCase(),headers:N.normalize().toJSON(),body:c,duplex:"half",credentials:S?C:void 0});let R=await fetch(O,I);const $=lh&&(_==="stream"||_==="response");if(lh&&(w||$&&T)){const G={};["status","statusText","headers"].forEach(X=>{G[X]=R[X]});const se=q.toFiniteNumber(R.headers.get("content-length")),[oe,ne]=w&&Zm(se,Wc(Vm(w),!0))||[];R=new Response(Gm(R.body,Km,oe,()=>{ne&&ne(),T&&T()}),G)}_=_||"text";let K=await $c[q.findKey($c,_)||"text"](R,r);return!$&&T&&T(),await new Promise((G,se)=>{tg(G,se,{data:K,headers:rn.from(R.headers),status:R.status,statusText:R.statusText,config:r,request:O})})}catch(S){throw T&&T(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,r,O),{cause:S.cause||S}):Le.from(S,S&&S.code,r,O)}}),ch={http:Wy,xhr:v_,fetch:S_};q.forEach(ch,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const Jm=r=>`- ${r}`,P_=r=>q.isFunction(r)||r===null||r===!1,og={getAdapter:r=>{r=q.isArray(r)?r:[r];const{length:i}=r;let a,c;const h={};for(let p=0;p<i;p++){a=r[p];let g;if(c=a,!P_(a)&&(c=ch[(g=String(a)).toLowerCase()],c===void 0))throw new Le(`Unknown adapter '${g}'`);if(c)break;h[g||"#"+p]=c}if(!c){const p=Object.entries(h).map(([w,y])=>`adapter ${w} `+(y===!1?"is not supported by the environment":"is not available in the build"));let g=i?p.length>1?`since :
`+p.map(Jm).join(`
`):" "+Jm(p[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return c},adapters:ch};function Hd(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new yo(null,r)}function Qm(r){return Hd(r),r.headers=rn.from(r.headers),r.data=$d.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),og.getAdapter(r.adapter||Wa.adapter)(r).then(function(c){return Hd(r),c.data=$d.call(r,r.transformResponse,c),c.headers=rn.from(c.headers),c},function(c){return eg(c)||(Hd(r),c&&c.response&&(c.response.data=$d.call(r,r.transformResponse,c.response),c.response.headers=rn.from(c.response.headers))),Promise.reject(c)})}const ag="1.11.0",nu={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{nu[r]=function(c){return typeof c===r||"a"+(i<1?"n ":" ")+r}});const Xm={};nu.transitional=function(i,a,c){function h(p,g){return"[Axios v"+ag+"] Transitional option '"+p+"'"+g+(c?". "+c:"")}return(p,g,w)=>{if(i===!1)throw new Le(h(g," has been removed"+(a?" in "+a:"")),Le.ERR_DEPRECATED);return a&&!Xm[g]&&(Xm[g]=!0,console.warn(h(g," has been deprecated since v"+a+" and will be removed in the near future"))),i?i(p,g,w):!0}};nu.spelling=function(i){return(a,c)=>(console.warn(`${c} is likely a misspelling of ${i}`),!0)};function E_(r,i,a){if(typeof r!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const c=Object.keys(r);let h=c.length;for(;h-- >0;){const p=c[h],g=i[p];if(g){const w=r[p],y=w===void 0||g(w,p,r);if(y!==!0)throw new Le("option "+p+" must be "+y,Le.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Le("Unknown option "+p,Le.ERR_BAD_OPTION)}}const bc={assertOptions:E_,validators:nu},ar=bc.validators;let ds=class{constructor(i){this.defaults=i||{},this.interceptors={request:new $m,response:new $m}}async request(i,a){try{return await this._request(i,a)}catch(c){if(c instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const p=h.stack?h.stack.replace(/^.+\n/,""):"";try{c.stack?p&&!String(c.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+p):c.stack=p}catch{}}throw c}}_request(i,a){typeof i=="string"?(a=a||{},a.url=i):a=i||{},a=ms(this.defaults,a);const{transitional:c,paramsSerializer:h,headers:p}=a;c!==void 0&&bc.assertOptions(c,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),h!=null&&(q.isFunction(h)?a.paramsSerializer={serialize:h}:bc.assertOptions(h,{encode:ar.function,serialize:ar.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),bc.assertOptions(a,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let g=p&&q.merge(p.common,p[a.method]);p&&q.forEach(["delete","get","head","post","put","patch","common"],O=>{delete p[O]}),a.headers=rn.concat(g,p);const w=[];let y=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(a)===!1||(y=y&&T.synchronous,w.unshift(T.fulfilled,T.rejected))});const _=[];this.interceptors.response.forEach(function(T){_.push(T.fulfilled,T.rejected)});let N,C=0,I;if(!y){const O=[Qm.bind(this),void 0];for(O.unshift(...w),O.push(..._),I=O.length,N=Promise.resolve(a);C<I;)N=N.then(O[C++],O[C++]);return N}I=w.length;let W=a;for(C=0;C<I;){const O=w[C++],T=w[C++];try{W=O(W)}catch(k){T.call(this,k);break}}try{N=Qm.call(this,W)}catch(O){return Promise.reject(O)}for(C=0,I=_.length;C<I;)N=N.then(_[C++],_[C++]);return N}getUri(i){i=ms(this.defaults,i);const a=ng(i.baseURL,i.url,i.allowAbsoluteUrls);return Qp(a,i.params,i.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(i){ds.prototype[i]=function(a,c){return this.request(ms(c||{},{method:i,url:a,data:(c||{}).data}))}});q.forEach(["post","put","patch"],function(i){function a(c){return function(p,g,w){return this.request(ms(w||{},{method:i,headers:c?{"Content-Type":"multipart/form-data"}:{},url:p,data:g}))}}ds.prototype[i]=a(),ds.prototype[i+"Form"]=a(!0)});let L_=class lg{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(p){a=p});const c=this;this.promise.then(h=>{if(!c._listeners)return;let p=c._listeners.length;for(;p-- >0;)c._listeners[p](h);c._listeners=null}),this.promise.then=h=>{let p;const g=new Promise(w=>{c.subscribe(w),p=w}).then(h);return g.cancel=function(){c.unsubscribe(p)},g},i(function(p,g,w){c.reason||(c.reason=new yo(p,g,w),a(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const a=this._listeners.indexOf(i);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const i=new AbortController,a=c=>{i.abort(c)};return this.subscribe(a),i.signal.unsubscribe=()=>this.unsubscribe(a),i.signal}static source(){let i;return{token:new lg(function(h){i=h}),cancel:i}}};function T_(r){return function(a){return r.apply(null,a)}}function M_(r){return q.isObject(r)&&r.isAxiosError===!0}const uh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uh).forEach(([r,i])=>{uh[i]=r});function cg(r){const i=new ds(r),a=Bp(ds.prototype.request,i);return q.extend(a,ds.prototype,i,{allOwnKeys:!0}),q.extend(a,i,null,{allOwnKeys:!0}),a.create=function(h){return cg(ms(r,h))},a}const ft=cg(Wa);ft.Axios=ds;ft.CanceledError=yo;ft.CancelToken=L_;ft.isCancel=eg;ft.VERSION=ag;ft.toFormData=eu;ft.AxiosError=Le;ft.Cancel=ft.CanceledError;ft.all=function(i){return Promise.all(i)};ft.spread=T_;ft.isAxiosError=M_;ft.mergeConfig=ms;ft.AxiosHeaders=rn;ft.formToJSON=r=>Yp(q.isHTMLForm(r)?new FormData(r):r);ft.getAdapter=og.getAdapter;ft.HttpStatusCode=uh;ft.default=ft;const{Axios:N2,AxiosError:k2,CanceledError:C2,isCancel:S2,CancelToken:P2,VERSION:E2,all:L2,Cancel:T2,isAxiosError:M2,spread:R2,toFormData:z2,AxiosHeaders:A2,HttpStatusCode:O2,formToJSON:I2,getAdapter:D2,mergeConfig:B2}=ft;class R_{constructor(){xn(this,"prefix","tchop_secure_");xn(this,"encryptionKey","tchop_encrypt_key");xn(this,"memoryStorage",new Map)}setToken(i,a={}){const c={value:i,timestamp:Date.now(),expiry:a.expiryMinutes?Date.now()+a.expiryMinutes*60*1e3:void 0};try{sessionStorage.setItem(`${this.prefix}auth_token`,JSON.stringify(c))}catch(h){console.error("Erreur lors de la sauvegarde du token:",h),this.memoryStorage.set("auth_token",c)}}getToken(){try{const i=this.memoryStorage.get("auth_token");if(i&&this.isItemValid(i))return i.value;const a=sessionStorage.getItem(`${this.prefix}auth_token`);if(!a)return null;const c=JSON.parse(a);return this.isItemValid(c)?c.value:(this.removeToken(),null)}catch(i){return console.error("Erreur lors de la rcupration du token:",i),this.removeToken(),null}}removeToken(){try{sessionStorage.removeItem(`${this.prefix}auth_token`),localStorage.removeItem("auth_token"),this.memoryStorage.delete("auth_token")}catch(i){console.error("Erreur lors de la suppression du token:",i)}}setUser(i){const a={value:i,timestamp:Date.now()};try{localStorage.setItem(`${this.prefix}user_data`,JSON.stringify(a))}catch(c){console.error("Erreur lors de la sauvegarde utilisateur:",c)}}getUser(){try{const i=localStorage.getItem(`${this.prefix}user_data`);if(!i)return null;const a=JSON.parse(i);return this.isItemValid(a)?a.value:(this.removeUser(),null)}catch(i){return console.error("Erreur lors de la rcupration utilisateur:",i),this.removeUser(),null}}removeUser(){try{localStorage.removeItem(`${this.prefix}user_data`),localStorage.removeItem("current_user")}catch(i){console.error("Erreur lors de la suppression utilisateur:",i)}}clearAll(){this.removeToken(),this.removeUser(),this.memoryStorage.clear();try{localStorage.removeItem("auth_token"),localStorage.removeItem("current_user")}catch(i){console.error("Erreur lors du nettoyage:",i)}}isItemValid(i){if(!i||typeof i!="object"||i.expiry&&Date.now()>i.expiry)return!1;const a=1440*60*1e3;return!(Date.now()-i.timestamp>a)}isStorageAvailable(){try{const i="storage_test";return sessionStorage.setItem(i,i),sessionStorage.removeItem(i),!0}catch{return!1}}migrateOldData(){try{const i=localStorage.getItem("auth_token");i&&(this.setToken(i,{expiryMinutes:60}),localStorage.removeItem("auth_token"));const a=localStorage.getItem("current_user");if(a){const c=JSON.parse(a);this.setUser(c),localStorage.removeItem("current_user")}}catch(i){console.error("Erreur lors de la migration:",i)}}}const ut=new R_,z_="http://localhost:3000",Ze=ft.create({baseURL:`${z_}/api/v1`,headers:{"Content-Type":"application/json"},timeout:1e4,withCredentials:!1});Ze.interceptors.request.use(r=>{const i=ut.getToken();return i&&(r.headers.Authorization=`Bearer ${i}`),r});Ze.interceptors.response.use(r=>{const i=r.headers.authorization||r.headers.Authorization||r.headers.authorization;if(i){const a=i.replace("Bearer ","");ut.setToken(a,{expiryMinutes:60}),console.log("Token JWT reu et stock:",a.substring(0,20)+"...")}else console.log("Aucun token JWT trouv dans les headers:",Object.keys(r.headers));return r},r=>{var i,a;return((i=r.response)==null?void 0:i.status)===401?(ut.clearAll(),window.location.pathname.includes("/auth")||(window.location.href="/auth")):((a=r.response)==null?void 0:a.status)===403?window.location.href="/unauthorized":r.code==="ECONNABORTED"&&console.error("Requte timeout - possible attaque DoS"),Promise.reject(r)});const ru={login:async r=>{const i=await Ze.post("/auth/login",r);return i.data.data.user&&ut.setUser(i.data.data.user),i.data.data},register:async r=>{const i=await Ze.post("/auth/register",{user:r});return i.data.data.user&&ut.setUser(i.data.data.user),i.data.data},logout:async()=>{try{await Ze.post("/auth/logout")}finally{ut.clearAll()}},getCurrentUser:async()=>{const i=(await Ze.get("/auth/me")).data.data.user;return ut.setUser(i),i},updateProfile:async r=>{const a=(await Ze.patch("/auth/profile",{user:r})).data.data.user;return ut.setUser(a),a}},$a={getAll:async()=>(await Ze.get("/commerces")).data,getById:async r=>(await Ze.get(`/commerces/${r}`)).data,getNearby:async(r,i,a=50)=>(await Ze.get("/commerces/nearby",{params:{latitude:r,longitude:i,radius:a}})).data,search:async r=>(await Ze.get("/commerces/search",{params:r})).data,create:async r=>(await Ze.post("/commerces",r)).data,update:async(r,i)=>(await Ze.patch(`/commerces/${r}`,i)).data,delete:async r=>{await Ze.delete(`/commerces/${r}`)}},xs={getAll:async r=>(await Ze.get("/products",{params:r})).data,getById:async r=>(await Ze.get(`/products/${r}`)).data,getByCommerce:async r=>(await Ze.get(`/commerces/${r}/products`)).data,search:async r=>(await Ze.get("/products/search",{params:r})).data,create:async r=>(await Ze.post("/products",r)).data,update:async(r,i)=>(await Ze.patch(`/products/${r}`,i)).data,delete:async r=>{await Ze.delete(`/products/${r}`)}},Ha={getAll:async()=>(await Ze.get("/orders")).data,getUserOrders:async()=>(await Ze.get("/orders")).data,getById:async r=>(await Ze.get(`/orders/${r}`)).data,create:async r=>(await Ze.post("/orders",r)).data,updateStatus:async(r,i)=>(await Ze.patch(`/orders/${r}/status`,{status:i})).data,cancel:async r=>(await Ze.patch(`/orders/${r}/cancel`)).data},Za={create:async r=>(await Ze.post("/product_interests",r)).data,getMyInterests:async r=>(await Ze.get("/product_interests",{params:r})).data,delete:async r=>{await Ze.delete(`/product_interests/${r}`)},getMerchantInterests:async r=>(await Ze.get("/product_interests/for_merchant",{params:r})).data,notifyAvailability:async r=>(await Ze.post("/product_interests/notify_availability",r)).data};ut.migrateOldData();const A_={user:ut.getUser(),token:ut.getToken(),isAuthenticated:!!ut.getToken()&&!!ut.getUser(),loading:!1,error:null},jc=Ke("auth/login",async(r,{rejectWithValue:i})=>{var a,c,h,p;try{console.log("Tentative de connexion avec:",r.email);const g=await ru.login(r);return console.log("Rponse login:",g),g}catch(g){console.error("Erreur login:",g);const w=((c=(a=g.response)==null?void 0:a.data)==null?void 0:c.error)||((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Erreur de connexion";return i(w)}}),Nc=Ke("auth/register",async(r,{rejectWithValue:i})=>{var a,c,h,p;try{console.log("Tentative d'inscription:",r);const g=await ru.register(r);return console.log("Rponse register:",g),g}catch(g){console.error("Erreur register:",g);const w=((c=(a=g.response)==null?void 0:a.data)==null?void 0:c.error)||((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Erreur d'inscription";return i(w)}}),ug=Ke("auth/logout",async()=>{await ru.logout(),ut.clearAll()}),kc=Ke("auth/checkStatus",async()=>{const r=ut.getToken();if(!r)throw new Error("No token found");return{user:await ru.getCurrentUser(),token:r}}),dg=Pi({name:"auth",initialState:A_,reducers:{clearError:r=>{r.error=null},updateUser:(r,i)=>{r.user&&(r.user={...r.user,...i.payload},ut.setUser(r.user))}},extraReducers:r=>{r.addCase(jc.pending,i=>{i.loading=!0,i.error=null}).addCase(jc.fulfilled,(i,a)=>{i.loading=!1,i.user=a.payload.user,i.token=ut.getToken(),i.isAuthenticated=!0,ut.setUser(a.payload.user)}).addCase(jc.rejected,(i,a)=>{i.loading=!1,i.error=a.payload||"Erreur de connexion",i.isAuthenticated=!1,i.user=null,i.token=null}).addCase(Nc.pending,i=>{i.loading=!0,i.error=null}).addCase(Nc.fulfilled,(i,a)=>{i.loading=!1,i.user=a.payload.user,i.token=ut.getToken(),i.isAuthenticated=!0,ut.setUser(a.payload.user)}).addCase(Nc.rejected,(i,a)=>{i.loading=!1,i.error=a.payload||"Erreur d'inscription",i.isAuthenticated=!1,i.user=null,i.token=null}).addCase(ug.fulfilled,i=>{i.user=null,i.token=null,i.isAuthenticated=!1}).addCase(kc.pending,i=>{i.loading=!0}).addCase(kc.fulfilled,(i,a)=>{i.user=a.payload.user,i.token=a.payload.token,i.isAuthenticated=!0,i.loading=!1,ut.setUser(a.payload.user)}).addCase(kc.rejected,i=>{i.user=null,i.token=null,i.isAuthenticated=!1,i.loading=!1,ut.clearAll()})}}),{clearError:F2,updateUser:U2}=dg.actions,O_=dg.reducer,I_={commerces:[],currentCommerce:null,loading:!1,error:null,searchRadius:50,filters:{}},ki=Ke("commerce/fetchNearby",async r=>(await $a.getNearby(r.location.latitude,r.location.longitude,r.radius||50)).data),Pa=Ke("commerce/fetchById",async r=>(await $a.getById(r)).data),Cc=Ke("commerce/search",async r=>(await $a.search(r)).data),D_=Ke("commerce/create",async r=>(await $a.create(r)).data),B_=Ke("commerce/update",async r=>(await $a.update(r.id,r.data)).data),hg=Pi({name:"commerce",initialState:I_,reducers:{clearError:r=>{r.error=null},setCurrentCommerce:(r,i)=>{r.currentCommerce=i.payload},setSearchRadius:(r,i)=>{r.searchRadius=i.payload},setFilters:(r,i)=>{r.filters=i.payload},clearCommerces:r=>{r.commerces=[]}},extraReducers:r=>{r.addCase(ki.pending,i=>{i.loading=!0,i.error=null}).addCase(ki.fulfilled,(i,a)=>{i.loading=!1,Array.isArray(a.payload)?i.commerces=a.payload:a.payload&&Array.isArray(a.payload.commerces)?i.commerces=a.payload.commerces:a.payload&&Array.isArray(a.payload.data)?i.commerces=a.payload.data:i.commerces=[]}).addCase(ki.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des commerces"}).addCase(Pa.pending,i=>{i.loading=!0,i.error=null}).addCase(Pa.fulfilled,(i,a)=>{i.loading=!1,i.currentCommerce=a.payload.commerce||a.payload}).addCase(Pa.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Commerce non trouv"}).addCase(Cc.pending,i=>{i.loading=!0,i.error=null}).addCase(Cc.fulfilled,(i,a)=>{i.loading=!1,i.commerces=a.payload.commerces||[]}).addCase(Cc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de recherche"}).addCase(D_.fulfilled,(i,a)=>{const c=a.payload.commerce||a.payload;i.commerces.push(c),i.currentCommerce=c}).addCase(B_.fulfilled,(i,a)=>{var p;const c=a.payload.commerce||a.payload,h=i.commerces.findIndex(g=>g.id===c.id);h!==-1&&(i.commerces[h]=c),((p=i.currentCommerce)==null?void 0:p.id)===c.id&&(i.currentCommerce=c)})}}),{clearError:W2,setCurrentCommerce:$2,setSearchRadius:H2,setFilters:Z2,clearCommerces:V2}=hg.actions,F_=hg.reducer,U_={products:[],currentProduct:null,loading:!1,error:null,filters:{},sortBy:"name"},us=Ke("product/fetchProducts",async r=>(await xs.getAll(r)).data),Sc=Ke("product/fetchById",async r=>(await xs.getById(r)).data),Ea=Ke("product/fetchByCommerce",async r=>(await xs.getByCommerce(r)).data),Pc=Ke("product/search",async r=>(await xs.search(r)).data),W_=Ke("product/create",async r=>(await xs.create(r)).data),$_=Ke("product/update",async r=>(await xs.update(r.id,r.data)).data),H_=Ke("product/delete",async r=>(await xs.delete(r),r)),fg=Pi({name:"product",initialState:U_,reducers:{clearError:r=>{r.error=null},setCurrentProduct:(r,i)=>{r.currentProduct=i.payload},setFilters:(r,i)=>{r.filters=i.payload},setSortBy:(r,i)=>{r.sortBy=i.payload},clearProducts:r=>{r.products=[]},sortProducts:(r,i)=>{r.sortBy=i.payload,r.products.sort((a,c)=>{var h,p,g,w;switch(i.payload){case"name":return a.name.localeCompare(c.name);case"price":return a.price-c.price;case"rating":return(((h=c.commerce)==null?void 0:h.rating)||0)-(((p=a.commerce)==null?void 0:p.rating)||0);case"distance":return(((g=a.commerce)==null?void 0:g.distance)||0)-(((w=c.commerce)==null?void 0:w.distance)||0);default:return 0}})}},extraReducers:r=>{r.addCase(us.pending,i=>{i.loading=!0,i.error=null}).addCase(us.fulfilled,(i,a)=>{i.loading=!1,i.products=a.payload}).addCase(us.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des produits"}).addCase(Sc.pending,i=>{i.loading=!0,i.error=null}).addCase(Sc.fulfilled,(i,a)=>{i.loading=!1,i.currentProduct=a.payload.product||a.payload}).addCase(Sc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Produit non trouv"}).addCase(Ea.pending,i=>{i.loading=!0,i.error=null}).addCase(Ea.fulfilled,(i,a)=>{i.loading=!1,i.products=a.payload.products||a.payload}).addCase(Ea.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des produits"}).addCase(Pc.pending,i=>{i.loading=!0,i.error=null}).addCase(Pc.fulfilled,(i,a)=>{i.loading=!1,i.products=a.payload}).addCase(Pc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de recherche"}).addCase(W_.fulfilled,(i,a)=>{i.products.push(a.payload),i.currentProduct=a.payload}).addCase($_.fulfilled,(i,a)=>{var h;const c=i.products.findIndex(p=>p.id===a.payload.id);c!==-1&&(i.products[c]=a.payload),((h=i.currentProduct)==null?void 0:h.id)===a.payload.id&&(i.currentProduct=a.payload)}).addCase(H_.fulfilled,(i,a)=>{var c;i.products=i.products.filter(h=>h.id!==a.payload),((c=i.currentProduct)==null?void 0:c.id)===a.payload&&(i.currentProduct=null)})}}),{clearError:q2,setCurrentProduct:G2,setFilters:K2,setSortBy:Z_,clearProducts:J2,sortProducts:Q2}=fg.actions,V_=fg.reducer,q_={items:[],totalItems:0,totalPrice:0,deliveryFee:5,isOpen:!1},ls=Pi({name:"cart",initialState:q_,reducers:{addToCart:(r,i)=>{const{product:a,quantity:c}=i.payload,h=r.items.find(p=>p.productId===a.id);if(h)h.quantity+=c,h.totalPrice=h.quantity*h.unitPrice;else{const p={id:`cart_${a.id}_${Date.now()}`,productId:a.id,product:a,quantity:c,unitPrice:a.price,totalPrice:a.price*c};r.items.push(p)}ls.caseReducers.updateTotals(r)},removeFromCart:(r,i)=>{r.items=r.items.filter(a=>a.id!==i.payload),ls.caseReducers.updateTotals(r)},updateQuantity:(r,i)=>{const{itemId:a,quantity:c}=i.payload,h=r.items.find(p=>p.id===a);h&&(c<=0?r.items=r.items.filter(p=>p.id!==a):(h.quantity=c,h.totalPrice=h.quantity*h.unitPrice)),ls.caseReducers.updateTotals(r)},clearCart:r=>{r.items=[],r.totalItems=0,r.totalPrice=0},toggleCart:r=>{r.isOpen=!r.isOpen},setCartOpen:(r,i)=>{r.isOpen=i.payload},setDeliveryFee:(r,i)=>{r.deliveryFee=i.payload,ls.caseReducers.updateTotals(r)},updateTotals:r=>{r.totalItems=r.items.reduce((i,a)=>i+a.quantity,0),r.totalPrice=r.items.reduce((i,a)=>i+a.totalPrice,0)},completeOrder:r=>{r.items=[],r.totalItems=0,r.totalPrice=0,r.isOpen=!1},saveToStorage:r=>{try{localStorage.setItem("cart",JSON.stringify({items:r.items,deliveryFee:r.deliveryFee}))}catch(i){console.error("Erreur sauvegarde panier:",i)}},loadFromStorage:r=>{try{const i=localStorage.getItem("cart");if(i){const a=JSON.parse(i);r.items=a.items||[],r.deliveryFee=a.deliveryFee||5,ls.caseReducers.updateTotals(r)}}catch(i){console.error("Erreur chargement panier:",i)}}}}),{addToCart:kh,removeFromCart:mg,updateQuantity:pg,clearCart:gg,toggleCart:G_,setCartOpen:K_,setDeliveryFee:X2,updateTotals:Y2,completeOrder:J_,saveToStorage:ej,loadFromStorage:tj}=ls.actions,Q_=ls.reducer,X_={currentLocation:{latitude:4.0511,longitude:9.7679},loading:!1,error:null,permissionGranted:!0},ho=Ke("location/getCurrentLocation",async(r,{rejectWithValue:i})=>new Promise((a,c)=>{if(!navigator.geolocation){c(i("La golocalisation n'est pas supporte"));return}navigator.geolocation.getCurrentPosition(h=>{a({latitude:h.coords.latitude,longitude:h.coords.longitude})},h=>{let p="Erreur de golocalisation";switch(h.code){case h.PERMISSION_DENIED:p="Permission de golocalisation refuse";break;case h.POSITION_UNAVAILABLE:p="Position indisponible";break;case h.TIMEOUT:p="Timeout de golocalisation";break}c(i(p))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})),Ym=Ke("location/watchLocation",async(r,{dispatch:i,rejectWithValue:a})=>new Promise((c,h)=>{if(!navigator.geolocation){h(a("La golocalisation n'est pas supporte"));return}const p=navigator.geolocation.watchPosition(g=>{i(vg({latitude:g.coords.latitude,longitude:g.coords.longitude}))},()=>{i(Ec("Erreur de surveillance de position"))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4});c(p)})),xg=Pi({name:"location",initialState:X_,reducers:{setCurrentLocation:(r,i)=>{r.currentLocation=i.payload,r.permissionGranted=!0,r.error=null},setError:(r,i)=>{r.error=i.payload,r.loading=!1},clearError:r=>{r.error=null},setPermissionGranted:(r,i)=>{r.permissionGranted=i.payload}},extraReducers:r=>{r.addCase(ho.pending,i=>{i.loading=!0,i.error=null}).addCase(ho.fulfilled,(i,a)=>{i.loading=!1,i.currentLocation=a.payload,i.permissionGranted=!0}).addCase(ho.rejected,(i,a)=>{i.loading=!1,i.error=a.payload,i.permissionGranted=!1}).addCase(Ym.fulfilled,i=>{i.loading=!1,i.permissionGranted=!0}).addCase(Ym.rejected,(i,a)=>{i.loading=!1,i.error=a.payload})}}),{setCurrentLocation:vg,setError:Ec,clearError:Y_,setPermissionGranted:ep}=xg.actions,e1=xg.reducer,t1={orders:[],currentOrder:null,loading:!1,error:null},Lc=Ke("order/create",async r=>(await Ha.create(r)).data),fo=Ke("order/fetchUserOrders",async()=>(await Ha.getUserOrders()).data),Zd=Ke("order/fetchById",async r=>(await Ha.getById(r)).data),n1=Ke("order/updateStatus",async r=>(await Ha.updateStatus(r.orderId,r.status)).data),yg=Ke("order/cancel",async r=>(await Ha.cancel(r)).data),_g=Pi({name:"order",initialState:t1,reducers:{clearError:r=>{r.error=null},setCurrentOrder:(r,i)=>{r.currentOrder=i.payload},clearOrders:r=>{r.orders=[]}},extraReducers:r=>{r.addCase(Lc.pending,i=>{i.loading=!0,i.error=null}).addCase(Lc.fulfilled,(i,a)=>{i.loading=!1;const c=a.payload.order||a.payload;i.orders.unshift(c),i.currentOrder=c}).addCase(Lc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur lors de la cration de la commande"}).addCase(fo.pending,i=>{i.loading=!0,i.error=null}).addCase(fo.fulfilled,(i,a)=>{i.loading=!1,i.orders=a.payload.orders||a.payload}).addCase(fo.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur de chargement des commandes"}).addCase(Zd.pending,i=>{i.loading=!0,i.error=null}).addCase(Zd.fulfilled,(i,a)=>{i.loading=!1;const c=a.payload.order||a.payload;i.currentOrder=c;const h=i.orders.findIndex(p=>p.id===c.id);h!==-1?i.orders[h]=c:i.orders.unshift(c)}).addCase(Zd.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Commande non trouve"}).addCase(n1.fulfilled,(i,a)=>{var p;const c=a.payload.order||a.payload,h=i.orders.findIndex(g=>g.id===c.id);h!==-1&&(i.orders[h]=c),((p=i.currentOrder)==null?void 0:p.id)===c.id&&(i.currentOrder=c)}).addCase(yg.fulfilled,(i,a)=>{var p;const c=a.payload.order||a.payload,h=i.orders.findIndex(g=>g.id===c.id);h!==-1&&(i.orders[h]=c),((p=i.currentOrder)==null?void 0:p.id)===c.id&&(i.currentOrder=c)})}}),{clearError:nj,setCurrentOrder:rj,clearOrders:ij}=_g.actions,r1=_g.reducer,i1={notifications:[]},wg=Pi({name:"notification",initialState:i1,reducers:{addNotification:(r,i)=>{const a={...i.payload,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:Date.now(),duration:i.payload.duration||5e3};r.notifications.push(a)},removeNotification:(r,i)=>{r.notifications=r.notifications.filter(a=>a.id!==i.payload)},clearAllNotifications:r=>{r.notifications=[]}}}),{addNotification:bi,removeNotification:tp,clearAllNotifications:sj}=wg.actions,s1=wg.reducer,np={interests:[],loading:!1,error:null,merchantInterests:[],merchantLoading:!1,merchantError:null,creating:!1,createError:null,currentPage:1,totalPages:1,totalCount:0,merchantCurrentPage:1,merchantTotalPages:1,merchantTotalCount:0},Tc=Ke("productInterest/fetchProductInterests",async({page:r=1,perPage:i=10}={})=>await Za.getMyInterests({page:r})),Mc=Ke("productInterest/createProductInterest",async(r,{rejectWithValue:i})=>{var a,c;try{const h={product_name:r.product_name,message:r.message,search_radius:r.search_radius||25,latitude:r.latitude,longitude:r.longitude};return await Za.create(h)}catch(h){return i(((c=(a=h.response)==null?void 0:a.data)==null?void 0:c.errors)||["Erreur lors de la cration"])}}),bg=Ke("productInterest/deleteProductInterest",async r=>(await Za.delete(r),r)),Rc=Ke("productInterest/fetchMerchantProductInterests",async({page:r=1,perPage:i=10}={})=>await Za.getMerchantInterests({page:r})),jg=Ke("productInterest/notifyProductAvailability",async({productId:r,radius:i=50},{rejectWithValue:a})=>{var c,h;try{return await Za.notifyAvailability({productId:r,radius:i})}catch(p){return a(((h=(c=p.response)==null?void 0:c.data)==null?void 0:h.error)||"Erreur lors de la notification")}}),Ng=Pi({name:"productInterest",initialState:np,reducers:{clearErrors:r=>{r.error=null,r.createError=null,r.merchantError=null},setCurrentPage:(r,i)=>{r.currentPage=i.payload},setMerchantCurrentPage:(r,i)=>{r.merchantCurrentPage=i.payload},resetState:r=>np},extraReducers:r=>{r.addCase(Tc.pending,i=>{i.loading=!0,i.error=null}).addCase(Tc.fulfilled,(i,a)=>{i.loading=!1,i.interests=a.payload.product_interests,i.currentPage=a.payload.meta.current_page,i.totalPages=a.payload.meta.total_pages,i.totalCount=a.payload.meta.total_count}).addCase(Tc.rejected,(i,a)=>{i.loading=!1,i.error=a.error.message||"Erreur lors du chargement"}).addCase(Mc.pending,i=>{i.creating=!0,i.createError=null}).addCase(Mc.fulfilled,(i,a)=>{i.creating=!1,i.interests.unshift(a.payload.product_interest),i.totalCount+=1}).addCase(Mc.rejected,(i,a)=>{i.creating=!1,i.createError=Array.isArray(a.payload)?a.payload.join(", "):a.payload||"Erreur lors de la cration"}).addCase(bg.fulfilled,(i,a)=>{i.interests=i.interests.filter(c=>c.id!==a.payload),i.totalCount-=1}).addCase(Rc.pending,i=>{i.merchantLoading=!0,i.merchantError=null}).addCase(Rc.fulfilled,(i,a)=>{i.merchantLoading=!1,i.merchantInterests=a.payload.product_interests,i.merchantCurrentPage=a.payload.meta.current_page,i.merchantTotalPages=a.payload.meta.total_pages,i.merchantTotalCount=a.payload.meta.total_count}).addCase(Rc.rejected,(i,a)=>{i.merchantLoading=!1,i.merchantError=a.error.message||"Erreur lors du chargement"}).addCase(jg.fulfilled,(i,a)=>{})}}),{clearErrors:o1,setCurrentPage:a1,setMerchantCurrentPage:l1,resetState:oj}=Ng.actions,c1=Ng.reducer,u1=Iv({reducer:{auth:O_,commerce:F_,product:V_,cart:Q_,location:e1,order:r1,notification:s1,productInterest:c1},middleware:r=>r({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),mt=ox.withTypes(),Ae=cx.withTypes(),rp=({size:r="md",className:i=""})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},c={sm:"text-xs",md:"text-sm",lg:"text-lg"};return s.jsx("div",{className:`flex items-center justify-center bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg ${a[r]} ${i}`,children:s.jsx("svg",{className:`${c[r]} text-white font-bold`,viewBox:"0 0 24 24",fill:"currentColor",width:"70%",height:"70%",children:s.jsxs("g",{children:[s.jsx("rect",{x:"2",y:"3",width:"8",height:"2",rx:"1"}),s.jsx("rect",{x:"5",y:"3",width:"2",height:"10",rx:"1"}),s.jsx("circle",{cx:"17",cy:"8",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"}),s.jsx("circle",{cx:"17",cy:"8",r:"1.5"}),s.jsx("path",{d:"M17 12l-2 4h4l-2-4z"}),s.jsx("circle",{cx:"6",cy:"18",r:"1",opacity:"0.7"}),s.jsx("circle",{cx:"10",cy:"16",r:"1",opacity:"0.5"}),s.jsx("circle",{cx:"14",cy:"19",r:"1",opacity:"0.6"}),s.jsx("path",{d:"M6 18l4-2m0 0l4 3",stroke:"currentColor",strokeWidth:"1",opacity:"0.4"})]})})})},d1=()=>{var T;const r=mt(),i=gs(),a=xo(),[c,h]=D.useState(!1),{user:p,isAuthenticated:g}=Ae(k=>k.auth),{totalItems:w}=Ae(k=>k.cart),{currentLocation:y}=Ae(k=>k.location),_=async()=>{await r(ug()),i("/")},N=()=>{r(G_())};D.useEffect(()=>{document.documentElement.style.setProperty("--sidebar-width",c?"64px":"256px")},[c]);const C=()=>{h(!c)},I=[{key:"home",path:"/",icon:"",label:"Accueil",description:"Vue d'ensemble"},{key:"commerces",path:"/commerces",icon:"",label:"Commerces",description:"Marchands locaux"},{key:"products",path:"/products",icon:"",label:"Produits",description:"Catalogue complet"},{key:"interests",path:"/interests",icon:"",label:"Intrts",description:"Manifestations d'intrt",requireAuth:!0},{key:"orders",path:"/orders",icon:"",label:"Commandes",description:"Mes achats",requireAuth:!0},{key:"profile",path:"/profile",icon:"",label:"Profil",description:"Mon compte",requireAuth:!0}],W=[{key:"dashboard",path:"/dashboard",icon:"",label:"Dashboard",description:"Gestion vendeur",requireAuth:!0,onlyVendor:!0}],O=k=>a.pathname===k;return s.jsxs("div",{className:`bg-white shadow-xl border-r border-gray-200 h-screen fixed left-0 top-0 z-40 transition-all duration-300 ${c?"w-16":"w-64"}`,style:{"--sidebar-width":c?"64px":"256px"},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!c&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rp,{size:"md"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-gray-900 text-sm",children:"TchopMyGrinds"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Marketplace golocalis"})]})]}),c&&s.jsx("div",{className:"flex justify-center",children:s.jsx(rp,{size:"sm"})}),s.jsx("button",{onClick:C,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":c?"largir le menu":"Rduire le menu",children:s.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),y&&!c&&s.jsx("div",{className:"p-4 bg-emerald-50 border-b border-emerald-200",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-700 text-xs font-medium",children:"Position dtecte"}),s.jsx("p",{className:"text-emerald-600 text-xs",children:"Rayon 50km actif"})]})]})}),s.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1",children:[I.map(k=>k.requireAuth&&!g?null:s.jsxs(ht,{to:k.path,className:`flex items-center px-3 py-3 rounded-lg text-sm font-medium transition-colors group ${O(k.path)?"bg-emerald-100 text-emerald-700 border-r-2 border-emerald-500":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx("span",{className:"text-lg mr-3",children:k.icon}),!c&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{children:k.label}),s.jsx("div",{className:"text-xs text-gray-500 group-hover:text-gray-700",children:k.description})]})]},k.key)),g&&p&&(p.role==="itinerant"||p.role==="sedentary")&&s.jsxs(s.Fragment,{children:[!c&&s.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider border-t border-gray-200 mt-4 pt-4",children:"Espace vendeur"}),W.map(k=>s.jsxs(ht,{to:k.path,className:`flex items-center px-3 py-3 rounded-lg text-sm font-medium transition-colors group ${O(k.path)?"bg-green-100 text-green-700 border-r-2 border-green-500":"text-gray-700 hover:bg-green-50 hover:text-green-700"}`,children:[s.jsx("span",{className:"text-lg mr-3",children:k.icon}),!c&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{children:k.label}),s.jsx("div",{className:"text-xs text-gray-500 group-hover:text-green-600",children:k.description})]})]},k.key))]})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-3",children:[s.jsxs("button",{onClick:N,className:"w-full flex items-center px-3 py-3 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors relative",children:[s.jsx("span",{className:"text-lg mr-3",children:""}),!c&&s.jsx("span",{className:"flex-1 text-left",children:"Panier"}),w>0&&s.jsx("span",{className:"bg-emerald-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center absolute -top-1 left-6",children:w})]}),g&&p?s.jsxs("div",{className:"space-y-2",children:[!c&&s.jsxs("div",{className:"flex items-center px-3 py-2",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center mr-3",children:p.avatar?s.jsx("img",{src:p.avatar,alt:p.name,className:"w-8 h-8 rounded-full"}):s.jsx("span",{className:"text-emerald-600 font-medium text-sm",children:((T=p.name)==null?void 0:T[0])||p.email[0].toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:p.name||p.email}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:p.role})]})]}),s.jsxs("button",{onClick:_,className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx("span",{className:"text-lg mr-3",children:""}),!c&&s.jsx("span",{children:"Se dconnecter"})]})]}):s.jsxs(ht,{to:"/auth",className:"w-full flex items-center px-3 py-3 rounded-lg text-sm font-medium text-white bg-emerald-500 hover:bg-emerald-600 transition-colors",children:[s.jsx("span",{className:"text-lg mr-3",children:""}),!c&&s.jsx("span",{children:"Connexion"})]})]}),!c&&s.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"v2.0 - Mode Carte"})})]})};function kg(r,i){const a=D.useRef(i);D.useEffect(function(){i!==a.current&&r.attributionControl!=null&&(a.current!=null&&r.attributionControl.removeAttribution(a.current),i!=null&&r.attributionControl.addAttribution(i)),a.current=i},[r,i])}const h1=1;function f1(r){return Object.freeze({__version:h1,map:r})}function m1(r,i){return Object.freeze({...r,...i})}const Cg=D.createContext(null),Sg=Cg.Provider;function Ch(){const r=D.useContext(Cg);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function p1(r){function i(a,c){const{instance:h,context:p}=r(a).current;return D.useImperativeHandle(c,()=>h),a.children==null?null:Ac.createElement(Sg,{value:p},a.children)}return D.forwardRef(i)}function g1(r){function i(a,c){const[h,p]=D.useState(!1),{instance:g}=r(a,p).current;D.useImperativeHandle(c,()=>g),D.useEffect(function(){h&&g.update()},[g,h,a.children]);const w=g._contentNode;return w?ux.createPortal(a.children,w):null}return D.forwardRef(i)}function x1(r){function i(a,c){const{instance:h}=r(a).current;return D.useImperativeHandle(c,()=>h),null}return D.forwardRef(i)}function Pg(r,i){const a=D.useRef();D.useEffect(function(){return i!=null&&r.instance.on(i),a.current=i,function(){a.current!=null&&r.instance.off(a.current),a.current=null}},[r,i])}function Sh(r,i){const a=r.pane??i.pane;return a?{...r,pane:a}:r}function v1(r,i){return function(c,h){const p=Ch(),g=r(Sh(c,p),p);return kg(p.map,c.attribution),Pg(g.current,c.eventHandlers),i(g.current,p,c,h),g}}var Ca={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var y1=Ca.exports,ip;function _1(){return ip||(ip=1,(function(r,i){(function(a,c){c(i)})(y1,(function(a){var c="1.9.4";function h(t){var o,u,f,v;for(u=1,f=arguments.length;u<f;u++){v=arguments[u];for(o in v)t[o]=v[o]}return t}var p=Object.create||(function(){function t(){}return function(o){return t.prototype=o,new t}})();function g(t,o){var u=Array.prototype.slice;if(t.bind)return t.bind.apply(t,u.call(arguments,1));var f=u.call(arguments,2);return function(){return t.apply(o,f.length?f.concat(u.call(arguments)):arguments)}}var w=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++w),t._leaflet_id}function _(t,o,u){var f,v,j,E;return E=function(){f=!1,v&&(j.apply(u,v),v=!1)},j=function(){f?v=arguments:(t.apply(u,arguments),setTimeout(E,o),f=!0)},j}function N(t,o,u){var f=o[1],v=o[0],j=f-v;return t===f&&u?t:((t-v)%j+j)%j+v}function C(){return!1}function I(t,o){if(o===!1)return t;var u=Math.pow(10,o===void 0?6:o);return Math.round(t*u)/u}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function O(t){return W(t).split(/\s+/)}function T(t,o){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var u in o)t.options[u]=o[u];return t.options}function k(t,o,u){var f=[];for(var v in t)f.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(t[v]));return(!o||o.indexOf("?")===-1?"?":"&")+f.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function R(t,o){return t.replace(S,function(u,f){var v=o[f];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(o)),v})}var $=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function K(t,o){for(var u=0;u<t.length;u++)if(t[u]===o)return u;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var oe=0;function ne(t){var o=+new Date,u=Math.max(0,16-(o-oe));return oe=o+u,window.setTimeout(t,u)}var X=window.requestAnimationFrame||se("RequestAnimationFrame")||ne,Fe=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function We(t,o,u){if(u&&X===ne)t.call(o);else return X.call(window,g(t,o))}function De(t){t&&Fe.call(window,t)}var pt={__proto__:null,extend:h,create:p,bind:g,get lastId(){return w},stamp:y,throttle:_,wrapNum:N,falseFn:C,formatNum:I,trim:W,splitWords:O,setOptions:T,getParamString:k,template:R,isArray:$,indexOf:K,emptyImageUrl:G,requestFn:X,cancelFn:Fe,requestAnimFrame:We,cancelAnimFrame:De};function Xe(){}Xe.extend=function(t){var o=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,f=p(u);f.constructor=o,o.prototype=f;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(o[v]=this[v]);return t.statics&&h(o,t.statics),t.includes&&(yt(t.includes),h.apply(null,[f].concat(t.includes))),h(f,t),delete f.statics,delete f.includes,f.options&&(f.options=u.options?p(u.options):{},h(f.options,t.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,E=f._initHooks.length;j<E;j++)f._initHooks[j].call(this)}},o},Xe.include=function(t){var o=this.prototype.options;return h(this.prototype,t),t.options&&(this.prototype.options=o,this.mergeOptions(t.options)),this},Xe.mergeOptions=function(t){return h(this.prototype.options,t),this},Xe.addInitHook=function(t){var o=Array.prototype.slice.call(arguments,1),u=typeof t=="function"?t:function(){this[t].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function yt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=$(t)?t:[t];for(var o=0;o<t.length;o++)t[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(t,o,u){if(typeof t=="object")for(var f in t)this._on(f,t[f],o);else{t=O(t);for(var v=0,j=t.length;v<j;v++)this._on(t[v],o,u)}return this},off:function(t,o,u){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var f in t)this._off(f,t[f],o);else{t=O(t);for(var v=arguments.length===1,j=0,E=t.length;j<E;j++)v?this._off(t[j]):this._off(t[j],o,u)}return this},_on:function(t,o,u,f){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(t,o,u)===!1){u===this&&(u=void 0);var v={fn:o,ctx:u};f&&(v.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(v)}},_off:function(t,o,u){var f,v,j;if(this._events&&(f=this._events[t],!!f)){if(arguments.length===1){if(this._firingCount)for(v=0,j=f.length;v<j;v++)f[v].fn=C;delete this._events[t];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var E=this._listens(t,o,u);if(E!==!1){var B=f[E];this._firingCount&&(B.fn=C,this._events[t]=f=f.slice()),f.splice(E,1)}}},fire:function(t,o,u){if(!this.listens(t,u))return this;var f=h({},o,{type:t,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var v=this._events[t];if(v){this._firingCount=this._firingCount+1||1;for(var j=0,E=v.length;j<E;j++){var B=v[j],Z=B.fn;B.once&&this.off(t,Z,B.ctx),Z.call(B.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(t,o,u,f){typeof t!="string"&&console.warn('"string" type argument expected');var v=o;typeof o!="function"&&(f=!!o,v=void 0,u=void 0);var j=this._events&&this._events[t];if(j&&j.length&&this._listens(t,v,u)!==!1)return!0;if(f){for(var E in this._eventParents)if(this._eventParents[E].listens(t,o,u,f))return!0}return!1},_listens:function(t,o,u){if(!this._events)return!1;var f=this._events[t]||[];if(!o)return!!f.length;u===this&&(u=void 0);for(var v=0,j=f.length;v<j;v++)if(f[v].fn===o&&f[v].ctx===u)return v;return!1},once:function(t,o,u){if(typeof t=="object")for(var f in t)this._on(f,t[f],o,!0);else{t=O(t);for(var v=0,j=t.length;v<j;v++)this._on(t[v],o,u,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var o in this._eventParents)this._eventParents[o].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var Ie=Xe.extend(Re);function U(t,o,u){this.x=u?Math.round(t):t,this.y=u?Math.round(o):o}var _e=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(t){return this.clone()._add(Q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new U(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new U(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_e(this.x),this.y=_e(this.y),this},distanceTo:function(t){t=Q(t);var o=t.x-this.x,u=t.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(t){return t=Q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function Q(t,o,u){return t instanceof U?t:$(t)?new U(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new U(t.x,t.y):new U(t,o,u)}function z(t,o){if(t)for(var u=o?[t,o]:t,f=0,v=u.length;f<v;f++)this.extend(u[f])}z.prototype={extend:function(t){var o,u;if(!t)return this;if(t instanceof U||typeof t[0]=="number"||"x"in t)o=u=Q(t);else if(t=J(t),o=t.min,u=t.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(t){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var o,u;return typeof t[0]=="number"||t instanceof U?t=Q(t):t=J(t),t instanceof z?(o=t.min,u=t.max):o=u=t,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(t){t=J(t);var o=this.min,u=this.max,f=t.min,v=t.max,j=v.x>=o.x&&f.x<=u.x,E=v.y>=o.y&&f.y<=u.y;return j&&E},overlaps:function(t){t=J(t);var o=this.min,u=this.max,f=t.min,v=t.max,j=v.x>o.x&&f.x<u.x,E=v.y>o.y&&f.y<u.y;return j&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var o=this.min,u=this.max,f=Math.abs(o.x-u.x)*t,v=Math.abs(o.y-u.y)*t;return J(Q(o.x-f,o.y-v),Q(u.x+f,u.y+v))},equals:function(t){return t?(t=J(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function J(t,o){return!t||t instanceof z?t:new z(t,o)}function ce(t,o){if(t)for(var u=o?[t,o]:t,f=0,v=u.length;f<v;f++)this.extend(u[f])}ce.prototype={extend:function(t){var o=this._southWest,u=this._northEast,f,v;if(t instanceof he)f=t,v=t;else if(t instanceof ce){if(f=t._southWest,v=t._northEast,!f||!v)return this}else return t?this.extend(ue(t)||le(t)):this;return!o&&!u?(this._southWest=new he(f.lat,f.lng),this._northEast=new he(v.lat,v.lng)):(o.lat=Math.min(f.lat,o.lat),o.lng=Math.min(f.lng,o.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(t){var o=this._southWest,u=this._northEast,f=Math.abs(o.lat-u.lat)*t,v=Math.abs(o.lng-u.lng)*t;return new ce(new he(o.lat-f,o.lng-v),new he(u.lat+f,u.lng+v))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof he||"lat"in t?t=ue(t):t=le(t);var o=this._southWest,u=this._northEast,f,v;return t instanceof ce?(f=t.getSouthWest(),v=t.getNorthEast()):f=v=t,f.lat>=o.lat&&v.lat<=u.lat&&f.lng>=o.lng&&v.lng<=u.lng},intersects:function(t){t=le(t);var o=this._southWest,u=this._northEast,f=t.getSouthWest(),v=t.getNorthEast(),j=v.lat>=o.lat&&f.lat<=u.lat,E=v.lng>=o.lng&&f.lng<=u.lng;return j&&E},overlaps:function(t){t=le(t);var o=this._southWest,u=this._northEast,f=t.getSouthWest(),v=t.getNorthEast(),j=v.lat>o.lat&&f.lat<u.lat,E=v.lng>o.lng&&f.lng<u.lng;return j&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,o){return t?(t=le(t),this._southWest.equals(t.getSouthWest(),o)&&this._northEast.equals(t.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(t,o){return t instanceof ce?t:new ce(t,o)}function he(t,o,u){if(isNaN(t)||isNaN(o))throw new Error("Invalid LatLng object: ("+t+", "+o+")");this.lat=+t,this.lng=+o,u!==void 0&&(this.alt=+u)}he.prototype={equals:function(t,o){if(!t)return!1;t=ue(t);var u=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return u<=(o===void 0?1e-9:o)},toString:function(t){return"LatLng("+I(this.lat,t)+", "+I(this.lng,t)+")"},distanceTo:function(t){return Te.distance(this,ue(t))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(t){var o=180*t/40075017,u=o/Math.cos(Math.PI/180*this.lat);return le([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function ue(t,o,u){return t instanceof he?t:$(t)&&typeof t[0]!="object"?t.length===3?new he(t[0],t[1],t[2]):t.length===2?new he(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new he(t.lat,"lng"in t?t.lng:t.lon,t.alt):o===void 0?null:new he(t,o,u)}var we={latLngToPoint:function(t,o){var u=this.projection.project(t),f=this.scale(o);return this.transformation._transform(u,f)},pointToLatLng:function(t,o){var u=this.scale(o),f=this.transformation.untransform(t,u);return this.projection.unproject(f)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(t),f=this.transformation.transform(o.min,u),v=this.transformation.transform(o.max,u);return new z(f,v)},infinite:!1,wrapLatLng:function(t){var o=this.wrapLng?N(t.lng,this.wrapLng,!0):t.lng,u=this.wrapLat?N(t.lat,this.wrapLat,!0):t.lat,f=t.alt;return new he(u,o,f)},wrapLatLngBounds:function(t){var o=t.getCenter(),u=this.wrapLatLng(o),f=o.lat-u.lat,v=o.lng-u.lng;if(f===0&&v===0)return t;var j=t.getSouthWest(),E=t.getNorthEast(),B=new he(j.lat-f,j.lng-v),Z=new he(E.lat-f,E.lng-v);return new ce(B,Z)}},Te=h({},we,{wrapLng:[-180,180],R:6371e3,distance:function(t,o){var u=Math.PI/180,f=t.lat*u,v=o.lat*u,j=Math.sin((o.lat-t.lat)*u/2),E=Math.sin((o.lng-t.lng)*u/2),B=j*j+Math.cos(f)*Math.cos(v)*E*E,Z=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*Z}}),$e=6378137,at={R:$e,MAX_LATITUDE:85.0511287798,project:function(t){var o=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,t.lat),-u),v=Math.sin(f*o);return new U(this.R*t.lng*o,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(t){var o=180/Math.PI;return new he((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*o,t.x*o/this.R)},bounds:(function(){var t=$e*Math.PI;return new z([-t,-t],[t,t])})()};function wn(t,o,u,f){if($(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=o,this._c=u,this._d=f}wn.prototype={transform:function(t,o){return this._transform(t.clone(),o)},_transform:function(t,o){return o=o||1,t.x=o*(this._a*t.x+this._b),t.y=o*(this._c*t.y+this._d),t},untransform:function(t,o){return o=o||1,new U((t.x/o-this._b)/this._a,(t.y/o-this._d)/this._c)}};function sn(t,o,u,f){return new wn(t,o,u,f)}var Ir=h({},Te,{code:"EPSG:3857",projection:at,transformation:(function(){var t=.5/(Math.PI*at.R);return sn(t,.5,-t,.5)})()}),bo=h({},Ir,{code:"EPSG:900913"});function jo(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function No(t,o){var u="",f,v,j,E,B,Z;for(f=0,j=t.length;f<j;f++){for(B=t[f],v=0,E=B.length;v<E;v++)Z=B[v],u+=(v?"L":"M")+Z.x+" "+Z.y;u+=o?ve.svg?"z":"x":""}return u||"M0 0"}var Ei=document.documentElement.style,Li="ActiveXObject"in window,ko=Li&&!document.addEventListener,Dr="msLaunchUri"in navigator&&!("documentMode"in document),Gn=Tt("webkit"),vs=Tt("android"),Co=Tt("android 2")||Tt("android 3"),qa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ga=vs&&Tt("Google")&&qa<537&&!("AudioNode"in window),ys=!!window.opera,_s=!Dr&&Tt("chrome"),Ti=Tt("gecko")&&!Gn&&!ys&&!Li,Ka=!_s&&Tt("safari"),Br=Tt("phantom"),Fr="OTransition"in Ei,iu=navigator.platform.indexOf("Win")===0,So=Li&&"transition"in Ei,ws="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Co,Ja="MozPerspective"in Ei,Po=!window.L_DISABLE_3D&&(So||ws||Ja)&&!Fr&&!Br,dr=typeof orientation<"u"||Tt("mobile"),Eo=dr&&Gn,Lo=dr&&ws,bs=!window.PointerEvent&&window.MSPointerEvent,hr=!!(window.PointerEvent||bs),fr="ontouchstart"in window||!!window.TouchEvent,Qa=!window.L_NO_TOUCH&&(fr||hr),Xa=dr&&ys,Ya=dr&&Ti,el=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tl=(function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",C,o),window.removeEventListener("testPassiveEventSupport",C,o)}catch{}return t})(),To=(function(){return!!document.createElement("canvas").getContext})(),js=!!(document.createElementNS&&jo("svg").createSVGRect),Mi=!!js&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Mo=!js&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),Ri=navigator.platform.indexOf("Mac")===0,su=navigator.platform.indexOf("Linux")===0;function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ve={ie:Li,ielt9:ko,edge:Dr,webkit:Gn,android:vs,android23:Co,androidStock:Ga,opera:ys,chrome:_s,gecko:Ti,safari:Ka,phantom:Br,opera12:Fr,win:iu,ie3d:So,webkit3d:ws,gecko3d:Ja,any3d:Po,mobile:dr,mobileWebkit:Eo,mobileWebkit3d:Lo,msPointer:bs,pointer:hr,touch:Qa,touchNative:fr,mobileOpera:Xa,mobileGecko:Ya,retina:el,passiveEvents:tl,canvas:To,svg:js,vml:Mo,inlineSvg:Mi,mac:Ri,linux:su},zi=ve.msPointer?"MSPointerDown":"pointerdown",Ns=ve.msPointer?"MSPointerMove":"pointermove",nl=ve.msPointer?"MSPointerUp":"pointerup",rl=ve.msPointer?"MSPointerCancel":"pointercancel",Ro={touchstart:zi,touchmove:Ns,touchend:nl,touchcancel:rl},Kn={touchstart:rt,touchmove:ks,touchend:ks,touchcancel:ks},mr={},zo=!1;function ou(t,o,u){return o==="touchstart"&&au(),Kn[o]?(u=Kn[o].bind(this,u),t.addEventListener(Ro[o],u,!1),u):(console.warn("wrong event specified:",o),C)}function il(t,o,u){if(!Ro[o]){console.warn("wrong event specified:",o);return}t.removeEventListener(Ro[o],u,!1)}function sl(t){mr[t.pointerId]=t}function ol(t){mr[t.pointerId]&&(mr[t.pointerId]=t)}function Ao(t){delete mr[t.pointerId]}function au(){zo||(document.addEventListener(zi,sl,!0),document.addEventListener(Ns,ol,!0),document.addEventListener(nl,Ao,!0),document.addEventListener(rl,Ao,!0),zo=!0)}function ks(t,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in mr)o.touches.push(mr[u]);o.changedTouches=[o],t(o)}}function rt(t,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&it(o),ks(t,o)}function lu(t){var o={},u,f;for(f in t)u=t[f],o[f]=u&&u.bind?u.bind(t):u;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Oo=200;function al(t,o){t.addEventListener("dblclick",o);var u=0,f;function v(j){if(j.detail!==1){f=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var E=xr(j);if(!(E.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!E.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var B=Date.now();B-u<=Oo?(f++,f===2&&o(lu(j))):f=1,u=B}}}return t.addEventListener("click",v),{dblclick:o,simDblclick:v}}function Cs(t,o){t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)}var Io=Hr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ur=Hr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ai=Ur==="webkitTransition"||Ur==="OTransition"?Ur+"End":"transitionend";function on(t){return typeof t=="string"?document.getElementById(t):t}function Oi(t,o){var u=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(t,null);u=f?f[o]:null}return u==="auto"?null:u}function Pe(t,o,u){var f=document.createElement(t);return f.className=o||"",u&&u.appendChild(f),f}function Ye(t){var o=t.parentNode;o&&o.removeChild(t)}function Ss(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Wr(t){var o=t.parentNode;o&&o.lastChild!==t&&o.appendChild(t)}function zn(t){var o=t.parentNode;o&&o.firstChild!==t&&o.insertBefore(t,o.firstChild)}function $r(t,o){if(t.classList!==void 0)return t.classList.contains(o);var u=Ps(t);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function Se(t,o){if(t.classList!==void 0)for(var u=O(o),f=0,v=u.length;f<v;f++)t.classList.add(u[f]);else if(!$r(t,o)){var j=Ps(t);Do(t,(j?j+" ":"")+o)}}function Je(t,o){t.classList!==void 0?t.classList.remove(o):Do(t,W((" "+Ps(t)+" ").replace(" "+o+" "," ")))}function Do(t,o){t.className.baseVal===void 0?t.className=o:t.className.baseVal=o}function Ps(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Mt(t,o){"opacity"in t.style?t.style.opacity=o:"filter"in t.style&&ll(t,o)}function ll(t,o){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=t.filters.item(f)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):t.style.filter+=" progid:"+f+"(opacity="+o+")"}function Hr(t){for(var o=document.documentElement.style,u=0;u<t.length;u++)if(t[u]in o)return t[u];return!1}function an(t,o,u){var f=o||new U(0,0);t.style[Io]=(ve.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function lt(t,o){t._leaflet_pos=o,ve.any3d?an(t,o):(t.style.left=o.x+"px",t.style.top=o.y+"px")}function An(t){return t._leaflet_pos||new U(0,0)}var Be,Zr,Es;if("onselectstart"in document)Be=function(){ke(window,"selectstart",it)},Zr=function(){qe(window,"selectstart",it)};else{var pr=Hr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Be=function(){if(pr){var t=document.documentElement.style;Es=t[pr],t[pr]="none"}},Zr=function(){pr&&(document.documentElement.style[pr]=Es,Es=void 0)}}function Ls(){ke(window,"dragstart",it)}function Ts(){qe(window,"dragstart",it)}var Ii,Di;function Vr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(ln(),Ii=t,Di=t.style.outlineStyle,t.style.outlineStyle="none",ke(window,"keydown",ln))}function ln(){Ii&&(Ii.style.outlineStyle=Di,Ii=void 0,Di=void 0,qe(window,"keydown",ln))}function On(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function bn(t){var o=t.getBoundingClientRect();return{x:o.width/t.offsetWidth||1,y:o.height/t.offsetHeight||1,boundingClientRect:o}}var Bi={__proto__:null,TRANSFORM:Io,TRANSITION:Ur,TRANSITION_END:Ai,get:on,getStyle:Oi,create:Pe,remove:Ye,empty:Ss,toFront:Wr,toBack:zn,hasClass:$r,addClass:Se,removeClass:Je,setClass:Do,getClass:Ps,setOpacity:Mt,testProp:Hr,setTransform:an,setPosition:lt,getPosition:An,get disableTextSelection(){return Be},get enableTextSelection(){return Zr},disableImageDrag:Ls,enableImageDrag:Ts,preventOutline:Vr,restoreOutline:ln,getSizedParentNode:On,getScale:bn};function ke(t,o,u,f){if(o&&typeof o=="object")for(var v in o)Fo(t,v,o[v],u);else{o=O(o);for(var j=0,E=o.length;j<E;j++)Fo(t,o[j],u,f)}return this}var _t="_leaflet_events";function qe(t,o,u,f){if(arguments.length===1)Bo(t),delete t[_t];else if(o&&typeof o=="object")for(var v in o)Ms(t,v,o[v],u);else if(o=O(o),arguments.length===2)Bo(t,function(B){return K(o,B)!==-1});else for(var j=0,E=o.length;j<E;j++)Ms(t,o[j],u,f);return this}function Bo(t,o){for(var u in t[_t]){var f=u.split(/\d/)[0];(!o||o(f))&&Ms(t,f,null,null,u)}}var gr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fo(t,o,u,f){var v=o+y(u)+(f?"_"+y(f):"");if(t[_t]&&t[_t][v])return this;var j=function(B){return u.call(f||t,B||window.event)},E=j;!ve.touchNative&&ve.pointer&&o.indexOf("touch")===0?j=ou(t,o,j):ve.touch&&o==="dblclick"?j=al(t,j):"addEventListener"in t?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?t.addEventListener(gr[o]||o,j,ve.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(j=function(B){B=B||window.event,Wi(t,B)&&E(B)},t.addEventListener(gr[o],j,!1)):t.addEventListener(o,E,!1):t.attachEvent("on"+o,j),t[_t]=t[_t]||{},t[_t][v]=j}function Ms(t,o,u,f,v){v=v||o+y(u)+(f?"_"+y(f):"");var j=t[_t]&&t[_t][v];if(!j)return this;!ve.touchNative&&ve.pointer&&o.indexOf("touch")===0?il(t,o,j):ve.touch&&o==="dblclick"?Cs(t,j):"removeEventListener"in t?t.removeEventListener(gr[o]||o,j,!1):t.detachEvent("on"+o,j),t[_t][v]=null}function jn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Rs(t){return Fo(t,"wheel",jn),this}function Fi(t){return ke(t,"mousedown touchstart dblclick contextmenu",jn),t._leaflet_disable_click=!0,this}function it(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function cn(t){return it(t),jn(t),this}function xr(t){if(t.composedPath)return t.composedPath();for(var o=[],u=t.target;u;)o.push(u),u=u.parentNode;return o}function Ui(t,o){if(!o)return new U(t.clientX,t.clientY);var u=bn(o),f=u.boundingClientRect;return new U((t.clientX-f.left)/u.x-o.clientLeft,(t.clientY-f.top)/u.y-o.clientTop)}var cu=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cl(t){return ve.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/cu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Wi(t,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==t;)u=u.parentNode}catch{return!1}return u!==t}var zs={__proto__:null,on:ke,off:qe,stopPropagation:jn,disableScrollPropagation:Rs,disableClickPropagation:Fi,preventDefault:it,stop:cn,getPropagationPath:xr,getMousePosition:Ui,getWheelDelta:cl,isExternalTarget:Wi,addListener:ke,removeListener:qe},As=Ie.extend({run:function(t,o,u,f){this.stop(),this._el=t,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=An(t),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=We(this._animate,this),this._step()},_step:function(t){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),t):(this._runFrame(1),this._complete())},_runFrame:function(t,o){var u=this._startPos.add(this._offset.multiplyBy(t));o&&u._round(),lt(this._el,u),this.fire("step")},_complete:function(){De(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Oe=Ie.extend({options:{crs:Ir,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,o){o=T(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(ue(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ur&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,Ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),t=this._limitCenter(ue(t),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=h({animate:u.animate},u.zoom),u.pan=h({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,o,u.zoom):this._tryAnimatedPan(t,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(t,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(t,o){return this._loaded?this.setView(this.getCenter(),t,{zoom:o}):(this._zoom=t,this)},zoomIn:function(t,o){return t=t||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,o)},zoomOut:function(t,o){return t=t||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,o)},setZoomAround:function(t,o,u){var f=this.getZoomScale(o),v=this.getSize().divideBy(2),j=t instanceof U?t:this.latLngToContainerPoint(t),E=j.subtract(v).multiplyBy(1-1/f),B=this.containerPointToLatLng(v.add(E));return this.setView(B,o,{zoom:u})},_getBoundsCenterZoom:function(t,o){o=o||{},t=t.getBounds?t.getBounds():le(t);var u=Q(o.paddingTopLeft||o.padding||[0,0]),f=Q(o.paddingBottomRight||o.padding||[0,0]),v=this.getBoundsZoom(t,!1,u.add(f));if(v=typeof o.maxZoom=="number"?Math.min(o.maxZoom,v):v,v===1/0)return{center:t.getCenter(),zoom:v};var j=f.subtract(u).divideBy(2),E=this.project(t.getSouthWest(),v),B=this.project(t.getNorthEast(),v),Z=this.unproject(E.add(B).divideBy(2).add(j),v);return{center:Z,zoom:v}},fitBounds:function(t,o){if(t=le(t),!t.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(t,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,o){return this.setView(t,this._zoom,{pan:o})},panBy:function(t,o){if(t=Q(t).round(),o=o||{},!t.x&&!t.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new As,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Se(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,o,u){if(u=u||{},u.animate===!1||!ve.any3d)return this.setView(t,o,u);this._stop();var f=this.project(this.getCenter()),v=this.project(t),j=this.getSize(),E=this._zoom;t=ue(t),o=o===void 0?E:o;var B=Math.max(j.x,j.y),Z=B*this.getZoomScale(E,o),Y=v.distanceTo(f)||1,ae=1.42,be=ae*ae;function Ee(Ve){var ai=Ve?-1:1,ju=Ve?Z:B,Nu=Z*Z-B*B+ai*be*be*Y*Y,Nr=2*ju*be*Y,kr=Nu/Nr,Cr=Math.sqrt(kr*kr+1)-kr,Ks=Cr<1e-9?-18:Math.log(Cr);return Ks}function wt(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function gt(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function $t(Ve){return wt(Ve)/gt(Ve)}var zt=Ee(0);function si(Ve){return B*(gt(zt)/gt(zt+ae*Ve))}function aa(Ve){return B*(gt(zt)*$t(zt+ae*Ve)-wt(zt))/be}function rr(Ve){return 1-Math.pow(1-Ve,1.5)}var Ll=Date.now(),jr=(Ee(1)-zt)/ae,Sn=u.duration?1e3*u.duration:1e3*jr*.8;function oi(){var Ve=(Date.now()-Ll)/Sn,ai=rr(Ve)*jr;Ve<=1?(this._flyToFrame=We(oi,this),this._move(this.unproject(f.add(v.subtract(f).multiplyBy(aa(ai)/Y)),E),this.getScaleZoom(B/si(ai),E),{flyTo:!0})):this._move(t,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),oi.call(this),this},flyToBounds:function(t,o){var u=this._getBoundsCenterZoom(t,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(t){return t=le(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var o=this.options.minZoom;return this.options.minZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var o=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,o){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,le(t));return u.equals(f)||this.panTo(f,o),this._enforcingBounds=!1,this},panInside:function(t,o){o=o||{};var u=Q(o.paddingTopLeft||o.padding||[0,0]),f=Q(o.paddingBottomRight||o.padding||[0,0]),v=this.project(this.getCenter()),j=this.project(t),E=this.getPixelBounds(),B=J([E.min.add(u),E.max.subtract(f)]),Z=B.getSize();if(!B.contains(j)){this._enforcingBounds=!0;var Y=j.subtract(B.getCenter()),ae=B.extend(j).getSize().subtract(Z);v.x+=Y.x<0?-ae.x:ae.x,v.y+=Y.y<0?-ae.y:ae.y,this.panTo(this.unproject(v),o),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},t===!0?{animate:!0}:t);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=o.divideBy(2).round(),v=u.divideBy(2).round(),j=f.subtract(v);return!j.x&&!j.y?this:(t.animate&&t.pan?this.panBy(j):(t.pan&&this._rawPanBy(j),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=h({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=g(this._handleGeolocationResponse,this),u=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,t):navigator.geolocation.getCurrentPosition(o,u,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var o=t.code,u=t.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var o=t.coords.latitude,u=t.coords.longitude,f=new he(o,u),v=f.toBounds(t.coords.accuracy*2),j=this._locateOptions;if(j.setView){var E=this.getBoundsZoom(v);this.setView(f,j.maxZoom?Math.min(E,j.maxZoom):E)}var B={latlng:f,bounds:v,timestamp:t.timestamp};for(var Z in t.coords)typeof t.coords[Z]=="number"&&(B[Z]=t.coords[Z]);this.fire("locationfound",B)}},addHandler:function(t,o){if(!o)return this;var u=this[t]=new o(this);return this._handlers.push(u),this.options[t]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(De(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Ye(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,o){var u="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),f=Pe("div",u,o||this._mapPane);return t&&(this._panes[t]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),o=this.unproject(t.getBottomLeft()),u=this.unproject(t.getTopRight());return new ce(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,o,u){t=le(t),u=Q(u||[0,0]);var f=this.getZoom()||0,v=this.getMinZoom(),j=this.getMaxZoom(),E=t.getNorthWest(),B=t.getSouthEast(),Z=this.getSize().subtract(u),Y=J(this.project(B,f),this.project(E,f)).getSize(),ae=ve.any3d?this.options.zoomSnap:1,be=Z.x/Y.x,Ee=Z.y/Y.y,wt=o?Math.max(be,Ee):Math.min(be,Ee);return f=this.getScaleZoom(wt,f),ae&&(f=Math.round(f/(ae/100))*(ae/100),f=o?Math.ceil(f/ae)*ae:Math.floor(f/ae)*ae),Math.max(v,Math.min(j,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,o){var u=this._getTopLeftPoint(t,o);return new z(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(t)/u.scale(o)},getScaleZoom:function(t,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var f=u.zoom(t*u.scale(o));return isNaN(f)?1/0:f},project:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(ue(t),o)},unproject:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(Q(t),o)},layerPointToLatLng:function(t){var o=Q(t).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(t){var o=this.project(ue(t))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ue(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(le(t))},distance:function(t,o){return this.options.crs.distance(ue(t),ue(o))},containerPointToLayerPoint:function(t){return Q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var o=this.containerPointToLayerPoint(Q(t));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(t)))},mouseEventToContainerPoint:function(t){return Ui(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var o=this._container=on(t);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ke(o,"scroll",this._onScroll,this),this._containerId=y(o)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Se(t,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Oi(t,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Se(t.markerPane,"leaflet-zoom-hide"),Se(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,o,u){lt(this._mapPane,new U(0,0));var f=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var v=this._zoom!==o;this._moveStart(v,u)._move(t,o)._moveEnd(v),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(t,o){return t&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(t,o,u,f){o===void 0&&(o=this._zoom);var v=this._zoom!==o;return this._zoom=o,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),f?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return De(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){lt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var o=t?qe:ke;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){De(this._resizeRequest),this._resizeRequest=We(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,o){for(var u=[],f,v=o==="mouseout"||o==="mouseover",j=t.target||t.srcElement,E=!1;j;){if(f=this._targets[y(j)],f&&(o==="click"||o==="preclick")&&this._draggableMoved(f)){E=!0;break}if(f&&f.listens(o,!0)&&(v&&!Wi(j,t)||(u.push(f),v))||j===this._container)break;j=j.parentNode}return!u.length&&!E&&!v&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var o=t.target||t.srcElement;if(!(!this._loaded||o._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(o))){var u=t.type;u==="mousedown"&&Vr(o),this._fireDOMEvent(t,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,o,u){if(t.type==="click"){var f=h({},t);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var v=this._findEventTargets(t,o);if(u){for(var j=[],E=0;E<u.length;E++)u[E].listens(o,!0)&&j.push(u[E]);v=j.concat(v)}if(v.length){o==="contextmenu"&&it(t);var B=v[0],Z={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Y=B.getLatLng&&(!B._radius||B._radius<=10);Z.containerPoint=Y?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(t),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=Y?B.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(E=0;E<v.length;E++)if(v[E].fire(o,Z,!0),Z.originalEvent._stopped||v[E].options.bubblingMouseEvents===!1&&K(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,o=this._handlers.length;t<o;t++)this._handlers[t].disable()},whenReady:function(t,o){return this._loaded?t.call(o||this,{target:this}):this.on("load",t,o),this},_getMapPanePos:function(){return An(this._mapPane)||new U(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,o){var u=t&&o!==void 0?this._getNewPixelOrigin(t,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,o){var u=this.getSize()._divideBy(2);return this.project(t,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,o,u){var f=this._getNewPixelOrigin(u,o);return this.project(t,o)._subtract(f)},_latLngBoundsToNewLayerBounds:function(t,o,u){var f=this._getNewPixelOrigin(u,o);return J([this.project(t.getSouthWest(),o)._subtract(f),this.project(t.getNorthWest(),o)._subtract(f),this.project(t.getSouthEast(),o)._subtract(f),this.project(t.getNorthEast(),o)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,o,u){if(!u)return t;var f=this.project(t,o),v=this.getSize().divideBy(2),j=new z(f.subtract(v),f.add(v)),E=this._getBoundsOffset(j,u,o);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?t:this.unproject(f.add(E),o)},_limitOffset:function(t,o){if(!o)return t;var u=this.getPixelBounds(),f=new z(u.min.add(t),u.max.add(t));return t.add(this._getBoundsOffset(f,o))},_getBoundsOffset:function(t,o,u){var f=J(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),v=f.min.subtract(t.min),j=f.max.subtract(t.max),E=this._rebound(v.x,-j.x),B=this._rebound(v.y,-j.y);return new U(E,B)},_rebound:function(t,o){return t+o>0?Math.round(t-o)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(o))},_limitZoom:function(t){var o=this.getMinZoom(),u=this.getMaxZoom(),f=ve.any3d?this.options.zoomSnap:1;return f&&(t=Math.round(t/f)*f),Math.max(o,Math.min(u,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,o){var u=this._getCenterOffset(t)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var t=this._proxy=Pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(o){var u=Io,f=this._proxy.style[u];an(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),o=this.getZoom();an(this._proxy,this.project(t,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(o),v=this._getCenterOffset(t)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(v)?!1:(We(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(t,o,!0)},this),!0)},_animateZoom:function(t,o,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=o,Se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:o,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jn(t,o){return new Oe(t,o)}var Ut=Xe.extend({options:{position:"topright"},initialize:function(t){T(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var o=this._map;return o&&o.removeControl(this),this.options.position=t,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var o=this._container=this.onAdd(t),u=this.getPosition(),f=t._controlCorners[u];return Se(o,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(o,f.firstChild):f.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Qn=function(t){return new Ut(t)};Oe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},o="leaflet-",u=this._controlContainer=Pe("div",o+"control-container",this._container);function f(v,j){var E=o+v+" "+o+j;t[v+j]=Pe("div",E,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Ye(this._controlCorners[t]);Ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Uo=Ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,o,u,f){return u<f?-1:f<u?1:0}},initialize:function(t,o,u){T(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in t)this._addLayer(t[f],f);for(f in o)this._addLayer(o[f],f,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ut.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,o){return this._addLayer(t,o),this._map?this._update():this},addOverlay:function(t,o){return this._addLayer(t,o,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var o=this._getLayer(y(t));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",o=this._container=Pe("div",t),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Fi(o),Rs(o);var f=this._section=Pe("section",t+"-list");u&&(this._map.on("click",this.collapse,this),ke(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Pe("a",t+"-toggle",o);v.href="#",v.title="Layers",v.setAttribute("role","button"),ke(v,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){it(j),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Pe("div",t+"-base",f),this._separator=Pe("div",t+"-separator",f),this._overlaysList=Pe("div",t+"-overlays",f),o.appendChild(f)},_getLayer:function(t){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&y(this._layers[o].layer)===t)return this._layers[o]},_addLayer:function(t,o,u){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(g(function(f,v){return this.options.sortFunction(f.layer,v.layer,f.name,v.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ss(this._baseLayersList),Ss(this._overlaysList),this._layerControlInputs=[];var t,o,u,f,v=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),o=o||f.overlay,t=t||!f.overlay,v+=f.overlay?0:1;return this.options.hideSingleBase&&(t=t&&v>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=o&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var o=this._getLayer(y(t.target)),u=o.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(t,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(t){var o=document.createElement("label"),u=this._map.hasLayer(t.layer),f;t.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+y(this),u),this._layerControlInputs.push(f),f.layerId=y(t.layer),ke(f,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+t.name;var j=document.createElement("span");o.appendChild(j),j.appendChild(f),j.appendChild(v);var E=t.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,o,u,f=[],v=[];this._handlingClick=!0;for(var j=t.length-1;j>=0;j--)o=t[j],u=this._getLayer(o.layerId).layer,o.checked?f.push(u):o.checked||v.push(u);for(j=0;j<v.length;j++)this._map.hasLayer(v[j])&&this._map.removeLayer(v[j]);for(j=0;j<f.length;j++)this._map.hasLayer(f[j])||this._map.addLayer(f[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,o,u,f=this._map.getZoom(),v=t.length-1;v>=0;v--)o=t[v],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ke(t,"click",it),this.expand();var o=this;setTimeout(function(){qe(t,"click",it),o._preventClick=!1})}}),Os=function(t,o,u){return new Uo(t,o,u)},qr=Ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var o="leaflet-control-zoom",u=Pe("div",o+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,o,u,f,v){var j=Pe("a",u,f);return j.innerHTML=t,j.href="#",j.title=o,j.setAttribute("role","button"),j.setAttribute("aria-label",o),Fi(j),ke(j,"click",cn),ke(j,"click",v,this),ke(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var t=this._map,o="leaflet-disabled";Je(this._zoomInButton,o),Je(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Se(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Se(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qr,this.addControl(this.zoomControl))});var ul=function(t){return new qr(t)},Rt=Ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var o="leaflet-control-scale",u=Pe("div",o),f=this.options;return this._addScales(f,o+"-line",u),t.on(f.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),u},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,o,u){t.metric&&(this._mScale=Pe("div",o,u)),t.imperial&&(this._iScale=Pe("div",o,u))},_update:function(){var t=this._map,o=t.getSize().y/2,u=t.distance(t.containerPointToLatLng([0,o]),t.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var o=this._getRoundNum(t),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/t)},_updateImperial:function(t){var o=t*3.2808399,u,f,v;o>5280?(u=o/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(v=this._getRoundNum(o),this._updateScale(this._iScale,v+" ft",v/o))},_updateScale:function(t,o,u){t.style.width=Math.round(this.options.maxWidth*u)+"px",t.innerHTML=o},_getRoundNum:function(t){var o=Math.pow(10,(Math.floor(t)+"").length-1),u=t/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),Gr=function(t){return new Rt(t)},Wo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',vr=Ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?Wo+" ":"")+"Leaflet</a>"},initialize:function(t){T(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Pe("div","leaflet-control-attribution"),Fi(this._container);for(var o in t._layers)t._layers[o].getAttribution&&this.addAttribution(t._layers[o].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var o in this._attributions)this._attributions[o]&&t.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),t.length&&u.push(t.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&new vr().addTo(this)});var uu=function(t){return new vr(t)};Ut.Layers=Uo,Ut.Zoom=qr,Ut.Scale=Rt,Ut.Attribution=vr,Qn.layers=Os,Qn.zoom=ul,Qn.scale=Gr,Qn.attribution=uu;var Vt=Xe.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,o){return t.addHandler(o,this),this};var $o={Events:Re},Kr=ve.touch?"touchstart mousedown":"mousedown",un=Ie.extend({options:{clickTolerance:3},initialize:function(t,o,u,f){T(this,f),this._element=t,this._dragStartTarget=o||t,this._preventOutline=u},enable:function(){this._enabled||(ke(this._dragStartTarget,Kr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(!0),qe(this._dragStartTarget,Kr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!$r(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){un._dragging===this&&this.finishDrag();return}if(!(un._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(un._dragging=this,this._preventOutline&&Vr(this._element),Ls(),Be(),!this._moving)){this.fire("down");var o=t.touches?t.touches[0]:t,u=On(this._element);this._startPoint=new U(o.clientX,o.clientY),this._startPos=An(this._element),this._parentScale=bn(u);var f=t.type==="mousedown";ke(document,f?"mousemove":"touchmove",this._onMove,this),ke(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var o=t.touches&&t.touches.length===1?t.touches[0]:t,u=new U(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,it(t),this._moved||(this.fire("dragstart"),this._moved=!0,Se(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),lt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qe(document,"mousemove touchmove",this._onMove,this),qe(document,"mouseup touchend touchcancel",this._onUp,this),Ts(),Zr();var o=this._moved&&this._moving;this._moving=!1,un._dragging=!1,o&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ho(t,o,u){var f,v=[1,4,2,8],j,E,B,Z,Y,ae,be,Ee;for(j=0,ae=t.length;j<ae;j++)t[j]._code=yr(t[j],o);for(B=0;B<4;B++){for(be=v[B],f=[],j=0,ae=t.length,E=ae-1;j<ae;E=j++)Z=t[j],Y=t[E],Z._code&be?Y._code&be||(Ee=Ds(Y,Z,be,o,u),Ee._code=yr(Ee,o),f.push(Ee)):(Y._code&be&&(Ee=Ds(Y,Z,be,o,u),Ee._code=yr(Ee,o),f.push(Ee)),f.push(Z));t=f}return t}function dl(t,o){var u,f,v,j,E,B,Z,Y,ae;if(!t||t.length===0)throw new Error("latlngs not passed");qt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var be=ue([0,0]),Ee=le(t),wt=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());wt<1700&&(be=Zo(t));var gt=t.length,$t=[];for(u=0;u<gt;u++){var zt=ue(t[u]);$t.push(o.project(ue([zt.lat-be.lat,zt.lng-be.lng])))}for(B=Z=Y=0,u=0,f=gt-1;u<gt;f=u++)v=$t[u],j=$t[f],E=v.y*j.x-j.y*v.x,Z+=(v.x+j.x)*E,Y+=(v.y+j.y)*E,B+=E*3;B===0?ae=$t[0]:ae=[Z/B,Y/B];var si=o.unproject(Q(ae));return ue([si.lat+be.lat,si.lng+be.lng])}function Zo(t){for(var o=0,u=0,f=0,v=0;v<t.length;v++){var j=ue(t[v]);o+=j.lat,u+=j.lng,f++}return ue([o/f,u/f])}var du={__proto__:null,clipPolygon:Ho,polygonCenter:dl,centroid:Zo};function Is(t,o){if(!o||!t.length)return t.slice();var u=o*o;return t=mu(t,u),t=fu(t,u),t}function hl(t,o,u){return Math.sqrt(_r(t,o,u,!0))}function hu(t,o,u){return _r(t,o,u)}function fu(t,o){var u=t.length,f=typeof Uint8Array<"u"?Uint8Array:Array,v=new f(u);v[0]=v[u-1]=1,Vo(t,v,o,0,u-1);var j,E=[];for(j=0;j<u;j++)v[j]&&E.push(t[j]);return E}function Vo(t,o,u,f,v){var j=0,E,B,Z;for(B=f+1;B<=v-1;B++)Z=_r(t[B],t[f],t[v],!0),Z>j&&(E=B,j=Z);j>u&&(o[E]=1,Vo(t,o,u,f,E),Vo(t,o,u,E,v))}function mu(t,o){for(var u=[t[0]],f=1,v=0,j=t.length;f<j;f++)pu(t[f],t[v])>o&&(u.push(t[f]),v=f);return v<j-1&&u.push(t[j-1]),u}var qo;function fl(t,o,u,f,v){var j=f?qo:yr(t,u),E=yr(o,u),B,Z,Y;for(qo=E;;){if(!(j|E))return[t,o];if(j&E)return!1;B=j||E,Z=Ds(t,o,B,u,v),Y=yr(Z,u),B===j?(t=Z,j=Y):(o=Z,E=Y)}}function Ds(t,o,u,f,v){var j=o.x-t.x,E=o.y-t.y,B=f.min,Z=f.max,Y,ae;return u&8?(Y=t.x+j*(Z.y-t.y)/E,ae=Z.y):u&4?(Y=t.x+j*(B.y-t.y)/E,ae=B.y):u&2?(Y=Z.x,ae=t.y+E*(Z.x-t.x)/j):u&1&&(Y=B.x,ae=t.y+E*(B.x-t.x)/j),new U(Y,ae,v)}function yr(t,o){var u=0;return t.x<o.min.x?u|=1:t.x>o.max.x&&(u|=2),t.y<o.min.y?u|=4:t.y>o.max.y&&(u|=8),u}function pu(t,o){var u=o.x-t.x,f=o.y-t.y;return u*u+f*f}function _r(t,o,u,f){var v=o.x,j=o.y,E=u.x-v,B=u.y-j,Z=E*E+B*B,Y;return Z>0&&(Y=((t.x-v)*E+(t.y-j)*B)/Z,Y>1?(v=u.x,j=u.y):Y>0&&(v+=E*Y,j+=B*Y)),E=t.x-v,B=t.y-j,f?E*E+B*B:new U(v,j)}function qt(t){return!$(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ml(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qt(t)}function pl(t,o){var u,f,v,j,E,B,Z,Y;if(!t||t.length===0)throw new Error("latlngs not passed");qt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ae=ue([0,0]),be=le(t),Ee=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());Ee<1700&&(ae=Zo(t));var wt=t.length,gt=[];for(u=0;u<wt;u++){var $t=ue(t[u]);gt.push(o.project(ue([$t.lat-ae.lat,$t.lng-ae.lng])))}for(u=0,f=0;u<wt-1;u++)f+=gt[u].distanceTo(gt[u+1])/2;if(f===0)Y=gt[0];else for(u=0,j=0;u<wt-1;u++)if(E=gt[u],B=gt[u+1],v=E.distanceTo(B),j+=v,j>f){Z=(j-f)/v,Y=[B.x-Z*(B.x-E.x),B.y-Z*(B.y-E.y)];break}var zt=o.unproject(Q(Y));return ue([zt.lat+ae.lat,zt.lng+ae.lng])}var gl={__proto__:null,simplify:Is,pointToSegmentDistance:hl,closestPointOnSegment:hu,clipSegment:fl,_getEdgeIntersection:Ds,_getBitCode:yr,_sqClosestPointOnSegment:_r,isFlat:qt,_flat:ml,polylineCenter:pl},Go={project:function(t){return new U(t.lng,t.lat)},unproject:function(t){return new he(t.y,t.x)},bounds:new z([-180,-90],[180,90])},Ko={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var o=Math.PI/180,u=this.R,f=t.lat*o,v=this.R_MINOR/u,j=Math.sqrt(1-v*v),E=j*Math.sin(f),B=Math.tan(Math.PI/4-f/2)/Math.pow((1-E)/(1+E),j/2);return f=-u*Math.log(Math.max(B,1e-10)),new U(t.lng*o*u,f)},unproject:function(t){for(var o=180/Math.PI,u=this.R,f=this.R_MINOR/u,v=Math.sqrt(1-f*f),j=Math.exp(-t.y/u),E=Math.PI/2-2*Math.atan(j),B=0,Z=.1,Y;B<15&&Math.abs(Z)>1e-7;B++)Y=v*Math.sin(E),Y=Math.pow((1-Y)/(1+Y),v/2),Z=Math.PI/2-2*Math.atan(j*Y)-E,E+=Z;return new he(E*o,t.x*o/u)}},gu={__proto__:null,LonLat:Go,Mercator:Ko,SphericalMercator:at},xu=h({},Te,{code:"EPSG:3395",projection:Ko,transformation:(function(){var t=.5/(Math.PI*Ko.R);return sn(t,.5,-t,.5)})()}),xl=h({},Te,{code:"EPSG:4326",projection:Go,transformation:sn(1/180,1,-1/180,.5)}),vu=h({},we,{projection:Go,transformation:sn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,o){var u=o.lng-t.lng,f=o.lat-t.lat;return Math.sqrt(u*u+f*f)},infinite:!0});we.Earth=Te,we.EPSG3395=xu,we.EPSG3857=Ir,we.EPSG900913=bo,we.EPSG4326=xl,we.Simple=vu;var dn=Ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var o=t.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var o=y(t);return this._layers[o]?this:(this._layers[o]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var o=y(t);return this._layers[o]?(this._loaded&&t.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},_addLayers:function(t){t=t?$(t)?t:[t]:[];for(var o=0,u=t.length;o<u;o++)this.addLayer(t[o])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var o=y(t);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,o=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var v=this._zoomBoundLayers[f].options;t=v.minZoom===void 0?t:Math.min(t,v.minZoom),o=v.maxZoom===void 0?o:Math.max(o,v.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=t===1/0?void 0:t,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=dn.extend({initialize:function(t,o){T(this,o),this._layers={};var u,f;if(t)for(u=0,f=t.length;u<f;u++)this.addLayer(t[u])},addLayer:function(t){var o=this.getLayerId(t);return this._layers[o]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var o=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(t){var o=typeof t=="number"?t:this.getLayerId(t);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var o=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[t]&&f[t].apply(f,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),$i=function(t,o){return new Xn(t,o)},In=Xn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Xn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Xn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ce;for(var o in this._layers){var u=this._layers[o];t.extend(u.getBounds?u.getBounds():u.getLatLng())}return t}}),vl=function(t,o){return new In(t,o)},wr=Xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){T(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,o){var u=this._getIconUrl(t);if(!u){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(f,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(t,o){var u=this.options,f=u[o+"Size"];typeof f=="number"&&(f=[f,f]);var v=Q(f),j=Q(o==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));t.className="leaflet-marker-"+o+" "+(u.className||""),j&&(t.style.marginLeft=-j.x+"px",t.style.marginTop=-j.y+"px"),v&&(t.style.width=v.x+"px",t.style.height=v.y+"px")},_createImg:function(t,o){return o=o||document.createElement("img"),o.src=t,o},_getIconUrl:function(t){return ve.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function yl(t){return new wr(t)}var Jr=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Jr.imagePath!="string"&&(Jr.imagePath=this._detectIconPath()),(this.options.imagePath||Jr.imagePath)+wr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var o=function(u,f,v){var j=f.exec(u);return j&&j[v]};return t=o(t,/^url\((['"])?(.+)\1\)$/,2),t&&o(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Pe("div","leaflet-default-icon-path",document.body),o=Oi(t,"background-image")||Oi(t,"backgroundImage");if(document.body.removeChild(t),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Jo=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Se(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var o=this._marker,u=o._map,f=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,j=An(o._icon),E=u.getPixelBounds(),B=u.getPixelOrigin(),Z=J(E.min._subtract(B).add(v),E.max._subtract(B).subtract(v));if(!Z.contains(j)){var Y=Q((Math.max(Z.max.x,j.x)-Z.max.x)/(E.max.x-Z.max.x)-(Math.min(Z.min.x,j.x)-Z.min.x)/(E.min.x-Z.min.x),(Math.max(Z.max.y,j.y)-Z.max.y)/(E.max.y-Z.max.y)-(Math.min(Z.min.y,j.y)-Z.min.y)/(E.min.y-Z.min.y)).multiplyBy(f);u.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),lt(o._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=We(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(De(this._panRequest),this._panRequest=We(this._adjustPan.bind(this,t)))},_onDrag:function(t){var o=this._marker,u=o._shadow,f=An(o._icon),v=o._map.layerPointToLatLng(f);u&&lt(u,f),o._latlng=v,t.latlng=v,t.oldLatLng=this._oldLatLng,o.fire("move",t).fire("drag",t)},_onDragEnd:function(t){De(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=dn.extend({options:{icon:new Jr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,o){T(this,o),this._latlng=ue(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var o=this._latlng;return this._latlng=ue(t),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=t.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,t.title&&(u.title=t.title),u.tagName==="IMG"&&(u.alt=t.alt||"")),Se(u,o),t.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(u,"focus",this._panOnFocus,this);var v=t.icon.createShadow(this._shadow),j=!1;v!==this._shadow&&(this._removeShadow(),j=!0),v&&(Se(v,o),v.alt=""),this._shadow=v,t.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&j&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(this._icon,"focus",this._panOnFocus,this),Ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ye(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&lt(this._icon,t),this._shadow&&lt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Mt(this._icon,t),this._shadow&&Mt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var o=this.options.icon.options,u=o.iconSize?Q(o.iconSize):Q(0,0),f=o.iconAnchor?Q(o.iconAnchor):Q(0,0);t.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yu(t,o){return new Dn(t,o)}var Yn=dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return T(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bs=Yn.extend({options:{fill:!0,radius:10},initialize:function(t,o){T(this,o),this._latlng=ue(t),this._radius=this.options.radius},setLatLng:function(t){var o=this._latlng;return this._latlng=ue(t),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var o=t&&t.radius||this._radius;return Yn.prototype.setStyle.call(this,t),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,o=this._radiusY||t,u=this._clickTolerance(),f=[t+u,o+u];this._pxBounds=new z(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _l(t,o){return new Bs(t,o)}var Fs=Bs.extend({initialize:function(t,o,u){if(typeof o=="number"&&(o=h({},u,{radius:o})),T(this,o),this._latlng=ue(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yn.prototype.setStyle,_project:function(){var t=this._latlng.lng,o=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===Te.distance){var v=Math.PI/180,j=this._mRadius/Te.R/v,E=u.project([o+j,t]),B=u.project([o-j,t]),Z=E.add(B).divideBy(2),Y=u.unproject(Z).lat,ae=Math.acos((Math.cos(j*v)-Math.sin(o*v)*Math.sin(Y*v))/(Math.cos(o*v)*Math.cos(Y*v)))/v;(isNaN(ae)||ae===0)&&(ae=j/Math.cos(Math.PI/180*o)),this._point=Z.subtract(u.getPixelOrigin()),this._radius=isNaN(ae)?0:Z.x-u.project([Y,t-ae]).x,this._radiusY=Z.y-E.y}else{var be=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(be).x}this._updateBounds()}});function Hi(t,o,u){return new Fs(t,o,u)}var Wt=Yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,o){T(this,o),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var o=1/0,u=null,f=_r,v,j,E=0,B=this._parts.length;E<B;E++)for(var Z=this._parts[E],Y=1,ae=Z.length;Y<ae;Y++){v=Z[Y-1],j=Z[Y];var be=f(t,v,j,!0);be<o&&(o=be,u=f(t,v,j))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,o){return o=o||this._defaultShape(),t=ue(t),o.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ce,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var o=[],u=qt(t),f=0,v=t.length;f<v;f++)u?(o[f]=ue(t[f]),this._bounds.extend(o[f])):o[f]=this._convertLatLngs(t[f]);return o},_project:function(){var t=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),o=new U(t,t);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(t,o,u){var f=t[0]instanceof he,v=t.length,j,E;if(f){for(E=[],j=0;j<v;j++)E[j]=this._map.latLngToLayerPoint(t[j]),u.extend(E[j]);o.push(E)}else for(j=0;j<v;j++)this._projectLatlngs(t[j],o,u)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,f,v,j,E,B,Z;for(u=0,v=0,j=this._rings.length;u<j;u++)for(Z=this._rings[u],f=0,E=Z.length;f<E-1;f++)B=fl(Z[f],Z[f+1],t,f,!0),B&&(o[v]=o[v]||[],o[v].push(B[0]),(B[1]!==Z[f+1]||f===E-2)&&(o[v].push(B[1]),v++))}},_simplifyPoints:function(){for(var t=this._parts,o=this.options.smoothFactor,u=0,f=t.length;u<f;u++)t[u]=Is(t[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,o){var u,f,v,j,E,B,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,j=this._parts.length;u<j;u++)for(B=this._parts[u],f=0,E=B.length,v=E-1;f<E;v=f++)if(!(!o&&f===0)&&hl(t,B[v],B[f])<=Z)return!0;return!1}});function _u(t,o){return new Wt(t,o)}Wt._flat=ml;var Bn=Wt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var o=Wt.prototype._convertLatLngs.call(this,t),u=o.length;return u>=2&&o[0]instanceof he&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(t){Wt.prototype._setLatLngs.call(this,t),qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,u=new U(o,o);if(t=new z(t.min.subtract(u),t.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,v=this._rings.length,j;f<v;f++)j=Ho(this._rings[f],t,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var o=!1,u,f,v,j,E,B,Z,Y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(j=0,Z=this._parts.length;j<Z;j++)for(u=this._parts[j],E=0,Y=u.length,B=Y-1;E<Y;B=E++)f=u[E],v=u[B],f.y>t.y!=v.y>t.y&&t.x<(v.x-f.x)*(t.y-f.y)/(v.y-f.y)+f.x&&(o=!o);return o||Wt.prototype._containsPoint.call(this,t,!0)}});function wu(t,o){return new Bn(t,o)}var Nn=In.extend({initialize:function(t,o){T(this,o),this._layers={},t&&this.addData(t)},addData:function(t){var o=$(t)?t:t.features,u,f,v;if(o){for(u=0,f=o.length;u<f;u++)v=o[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var j=this.options;if(j.filter&&!j.filter(t))return this;var E=Qr(t,j);return E?(E.feature=Zs(t),E.defaultOptions=E.options,this.resetStyle(E),j.onEachFeature&&j.onEachFeature(t,E),this.addLayer(E)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(o){this._setLayerStyle(o,t)},this)},_setLayerStyle:function(t,o){t.setStyle&&(typeof o=="function"&&(o=o(t.feature)),t.setStyle(o))}});function Qr(t,o){var u=t.type==="Feature"?t.geometry:t,f=u?u.coordinates:null,v=[],j=o&&o.pointToLayer,E=o&&o.coordsToLatLng||Ws,B,Z,Y,ae;if(!f&&!u)return null;switch(u.type){case"Point":return B=E(f),Us(j,t,B,o);case"MultiPoint":for(Y=0,ae=f.length;Y<ae;Y++)B=E(f[Y]),v.push(Us(j,t,B,o));return new In(v);case"LineString":case"MultiLineString":return Z=Zi(f,u.type==="LineString"?0:1,E),new Wt(Z,o);case"Polygon":case"MultiPolygon":return Z=Zi(f,u.type==="Polygon"?1:2,E),new Bn(Z,o);case"GeometryCollection":for(Y=0,ae=u.geometries.length;Y<ae;Y++){var be=Qr({geometry:u.geometries[Y],type:"Feature",properties:t.properties},o);be&&v.push(be)}return new In(v);case"FeatureCollection":for(Y=0,ae=u.features.length;Y<ae;Y++){var Ee=Qr(u.features[Y],o);Ee&&v.push(Ee)}return new In(v);default:throw new Error("Invalid GeoJSON object.")}}function Us(t,o,u,f){return t?t(o,u):new Dn(u,f&&f.markersInheritOptions&&f)}function Ws(t){return new he(t[1],t[0],t[2])}function Zi(t,o,u){for(var f=[],v=0,j=t.length,E;v<j;v++)E=o?Zi(t[v],o-1,u):(u||Ws)(t[v]),f.push(E);return f}function $s(t,o){return t=ue(t),t.alt!==void 0?[I(t.lng,o),I(t.lat,o),I(t.alt,o)]:[I(t.lng,o),I(t.lat,o)]}function Hs(t,o,u,f){for(var v=[],j=0,E=t.length;j<E;j++)v.push(o?Hs(t[j],qt(t[j])?0:o-1,u,f):$s(t[j],f));return!o&&u&&v.length>0&&v.push(v[0].slice()),v}function Xr(t,o){return t.feature?h({},t.feature,{geometry:o}):Zs(o)}function Zs(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Qo={toGeoJSON:function(t){return Xr(this,{type:"Point",coordinates:$s(this.getLatLng(),t)})}};Dn.include(Qo),Fs.include(Qo),Bs.include(Qo),Wt.include({toGeoJSON:function(t){var o=!qt(this._latlngs),u=Hs(this._latlngs,o?1:0,!1,t);return Xr(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Bn.include({toGeoJSON:function(t){var o=!qt(this._latlngs),u=o&&!qt(this._latlngs[0]),f=Hs(this._latlngs,u?2:o?1:0,!0,t);return o||(f=[f]),Xr(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),Xn.include({toMultiPoint:function(t){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(t).geometry.coordinates)}),Xr(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(t){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(t);var u=o==="GeometryCollection",f=[];return this.eachLayer(function(v){if(v.toGeoJSON){var j=v.toGeoJSON(t);if(u)f.push(j.geometry);else{var E=Zs(j);E.type==="FeatureCollection"?f.push.apply(f,E.features):f.push(E)}}}),u?Xr(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function wl(t,o){return new Nn(t,o)}var hn=wl,er=dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,o,u){this._url=t,this._bounds=le(o),T(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Wr(this._image),this},bringToBack:function(){return this._map&&zn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=le(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",o=this._image=t?this._url:Pe("img");if(Se(o,"leaflet-image-layer"),this._zoomAnimated&&Se(o,"leaflet-zoom-animated"),this.options.className&&Se(o,this.options.className),o.onselectstart=C,o.onmousemove=C,o.onload=g(this.fire,this,"load"),o.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(t){var o=this._map.getZoomScale(t.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;an(this._image,u,o)},_reset:function(){var t=this._image,o=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();lt(t,o.min),t.style.width=u.x+"px",t.style.height=u.y+"px"},_updateOpacity:function(){Mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),bl=function(t,o,u){return new er(t,o,u)},Xo=er.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",o=this._image=t?this._url:Pe("video");if(Se(o,"leaflet-image-layer"),this._zoomAnimated&&Se(o,"leaflet-zoom-animated"),this.options.className&&Se(o,this.options.className),o.onselectstart=C,o.onmousemove=C,o.onloadeddata=g(this.fire,this,"load"),t){for(var u=o.getElementsByTagName("source"),f=[],v=0;v<u.length;v++)f.push(u[v].src);this._url=u.length>0?f:[o.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var E=Pe("source");E.src=this._url[j],o.appendChild(E)}}});function jl(t,o,u){return new Xo(t,o,u)}var Yo=er.extend({_initImage:function(){var t=this._image=this._url;Se(t,"leaflet-image-layer"),this._zoomAnimated&&Se(t,"leaflet-zoom-animated"),this.options.className&&Se(t,this.options.className),t.onselectstart=C,t.onmousemove=C}});function ea(t,o,u){return new Yo(t,o,u)}var kn=dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,o){t&&(t instanceof he||$(t))?(this._latlng=ue(t),T(this,o)):(T(this,t),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Mt(this._container,1),this.bringToFront(),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Mt(this._container,0),this._removeTimeout=setTimeout(g(Ye,void 0,this._container),200)):Ye(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ue(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wr(this._container),this},bringToBack:function(){return this._map&&zn(this._container),this},_prepareOpen:function(t){var o=this._source;if(!o._map)return!1;if(o instanceof In){o=null;var u=this._source._layers;for(var f in u)if(u[f]._map){o=u[f];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else if(o.getBounds)t=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")t.innerHTML=o;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),o=Q(this.options.offset),u=this._getAnchor();this._zoomAnimated?lt(this._container,t.add(u)):o=o.add(t).add(u);var f=this._containerBottom=-o.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=f+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(t,o,u,f){var v=o;return v instanceof t||(v=new t(f).setContent(o)),u&&v.setLatLng(u),v}}),dn.include({_initOverlay:function(t,o,u,f){var v=u;return v instanceof t?(T(v,f),v._source=this):(v=o&&!f?o:new t(f,this),v.setContent(u)),v}});var Vs=kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,kn.prototype.openOn.call(this,t)},onAdd:function(t){kn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yn||this._source.on("preclick",jn))},onRemove:function(t){kn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yn||this._source.off("preclick",jn))},getEvents:function(){var t=kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",o=this._container=Pe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Pe("div",t+"-content-wrapper",o);if(this._contentNode=Pe("div",t+"-content",u),Fi(o),Rs(this._contentNode),ke(o,"contextmenu",jn),this._tipContainer=Pe("div",t+"-tip-container",o),this._tip=Pe("div",t+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Pe("a",t+"-close-button",o);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ke(f,"click",function(v){it(v),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,o=t.style;o.width="",o.whiteSpace="nowrap";var u=t.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var f=t.offsetHeight,v=this.options.maxHeight,j="leaflet-popup-scrolled";v&&f>v?(o.height=v+"px",Se(t,j)):Je(t,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),u=this._getAnchor();lt(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,o=parseInt(Oi(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,f=this._containerWidth,v=new U(this._containerLeft,-u-this._containerBottom);v._add(An(this._container));var j=t.layerPointToContainerPoint(v),E=Q(this.options.autoPanPadding),B=Q(this.options.autoPanPaddingTopLeft||E),Z=Q(this.options.autoPanPaddingBottomRight||E),Y=t.getSize(),ae=0,be=0;j.x+f+Z.x>Y.x&&(ae=j.x+f-Y.x+Z.x),j.x-ae-B.x<0&&(ae=j.x-B.x),j.y+u+Z.y>Y.y&&(be=j.y+u-Y.y+Z.y),j.y-be-B.y<0&&(be=j.y-B.y),(ae||be)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ae,be]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yr=function(t,o){return new Vs(t,o)};Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(t,o,u){return this._initOverlay(Vs,t,o,u).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),dn.include({bindPopup:function(t,o){return this._popup=this._initOverlay(Vs,this._popup,t,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){cn(t);var o=t.layer||t.target;if(this._popup._source===o&&!(o instanceof Yn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=o,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ei=kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){kn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){kn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=kn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",o=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pe("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var o,u,f=this._map,v=this._container,j=f.latLngToContainerPoint(f.getCenter()),E=f.layerPointToContainerPoint(t),B=this.options.direction,Z=v.offsetWidth,Y=v.offsetHeight,ae=Q(this.options.offset),be=this._getAnchor();B==="top"?(o=Z/2,u=Y):B==="bottom"?(o=Z/2,u=0):B==="center"?(o=Z/2,u=Y/2):B==="right"?(o=0,u=Y/2):B==="left"?(o=Z,u=Y/2):E.x<j.x?(B="right",o=0,u=Y/2):(B="left",o=Z+(ae.x+be.x)*2,u=Y/2),t=t.subtract(Q(o,u,!0)).add(ae).add(be),Je(v,"leaflet-tooltip-right"),Je(v,"leaflet-tooltip-left"),Je(v,"leaflet-tooltip-top"),Je(v,"leaflet-tooltip-bottom"),Se(v,"leaflet-tooltip-"+B),lt(v,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Mt(this._container,t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(o)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vi=function(t,o){return new ei(t,o)};Oe.include({openTooltip:function(t,o,u){return this._initOverlay(ei,t,o,u).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),dn.include({bindTooltip:function(t,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ei,this._tooltip,t,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var o=t?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&(ke(o,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ke(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var o=t.latlng,u,f;this._tooltip.options.sticky&&t.originalEvent&&(u=this._map.mouseEventToContainerPoint(t.originalEvent),f=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(o)}});var qs=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var o=t&&t.tagName==="DIV"?t:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Ss(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=Q(u.bgPos);o.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Nl(t){return new qs(t)}wr.Default=Jr;var tr=dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){T(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Ye(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof U?t:new U(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var o=this.getPane().children,u=-t(-1/0,1/0),f=0,v=o.length,j;f<v;f++)j=o[f].style.zIndex,o[f]!==this._container&&j&&(u=t(u,+j));isFinite(u)&&(this.options.zIndex=u+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Mt(this._container,this.options.opacity);var t=+new Date,o=!1,u=!1;for(var f in this._tiles){var v=this._tiles[f];if(!(!v.current||!v.loaded)){var j=Math.min(1,(t-v.loaded)/200);Mt(v.el,j),j<1?o=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&(De(this._fadeFrame),this._fadeFrame=We(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,o=this.options.maxZoom;if(t!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===t?(this._levels[u].el.style.zIndex=o-Math.abs(t-u),this._onUpdateLevel(u)):(Ye(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[t],v=this._map;return f||(f=this._levels[t]={},f.el=Pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=o,f.origin=v.project(v.unproject(v.getPixelOrigin()),t).round(),f.zoom=t,this._setZoomTransform(f,v.getCenter(),v.getZoom()),C(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var t,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)o=this._tiles[t],o.retain=o.current;for(t in this._tiles)if(o=this._tiles[t],o.current&&!o.active){var f=o.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var o in this._tiles)this._tiles[o].coords.z===t&&this._removeTile(o)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Ye(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,o,u,f){var v=Math.floor(t/2),j=Math.floor(o/2),E=u-1,B=new U(+v,+j);B.z=+E;var Z=this._tileCoordsToKey(B),Y=this._tiles[Z];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),E>f?this._retainParent(v,j,E,f):!1)},_retainChildren:function(t,o,u,f){for(var v=2*t;v<2*t+2;v++)for(var j=2*o;j<2*o+2;j++){var E=new U(v,j);E.z=u+1;var B=this._tileCoordsToKey(E),Z=this._tiles[B];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);u+1<f&&this._retainChildren(v,j,u+1,f)}},_resetView:function(t){var o=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var o=this.options;return o.minNativeZoom!==void 0&&t<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<t?o.maxNativeZoom:t},_setView:function(t,o,u,f){var v=Math.round(o);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var j=this.options.updateWhenZooming&&v!==this._tileZoom;(!f||j)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(t),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(t,o)},_setZoomTransforms:function(t,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],t,o)},_setZoomTransform:function(t,o,u){var f=this._map.getZoomScale(u,t.zoom),v=t.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(o,u)).round();ve.any3d?an(t.el,v,f):lt(t.el,v)},_resetGrid:function(){var t=this._map,o=t.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,o.wrapLng[0]],f).x/u.x),Math.ceil(t.project([0,o.wrapLng[1]],f).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([o.wrapLat[0],0],f).y/u.x),Math.ceil(t.project([o.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),f=o.getZoomScale(u,this._tileZoom),v=o.project(t,this._tileZoom).floor(),j=o.getSize().divideBy(f*2);return new z(v.subtract(j),v.add(j))},_update:function(t){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(t===void 0&&(t=o.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(t),v=this._pxBoundsToTileRange(f),j=v.getCenter(),E=[],B=this.options.keepBuffer,Z=new z(v.getBottomLeft().subtract([B,-B]),v.getTopRight().add([B,-B]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ae=this._tiles[Y].coords;(ae.z!==this._tileZoom||!Z.contains(new U(ae.x,ae.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(t,u);return}for(var be=v.min.y;be<=v.max.y;be++)for(var Ee=v.min.x;Ee<=v.max.x;Ee++){var wt=new U(Ee,be);if(wt.z=this._tileZoom,!!this._isValidTile(wt)){var gt=this._tiles[this._tileCoordsToKey(wt)];gt?gt.current=!0:E.push(wt)}}if(E.sort(function(zt,si){return zt.distanceTo(j)-si.distanceTo(j)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $t=document.createDocumentFragment();for(Ee=0;Ee<E.length;Ee++)this._addTile(E[Ee],$t);this._level.el.appendChild($t)}}}},_isValidTile:function(t){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(t.x<u.min.x||t.x>u.max.x)||!o.wrapLat&&(t.y<u.min.y||t.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(t);return le(this.options.bounds).overlaps(f)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var o=this._map,u=this.getTileSize(),f=t.scaleBy(u),v=f.add(u),j=o.unproject(f,t.z),E=o.unproject(v,t.z);return[j,E]},_tileCoordsToBounds:function(t){var o=this._tileCoordsToNwSe(t),u=new ce(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var o=t.split(":"),u=new U(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(t){var o=this._tiles[t];o&&(Ye(o.el),delete this._tiles[t],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Se(t,"leaflet-tile");var o=this.getTileSize();t.style.width=o.x+"px",t.style.height=o.y+"px",t.onselectstart=C,t.onmousemove=C,ve.ielt9&&this.options.opacity<1&&Mt(t,this.options.opacity)},_addTile:function(t,o){var u=this._getTilePos(t),f=this._tileCoordsToKey(t),v=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(v),this.createTile.length<2&&We(g(this._tileReady,this,t,null,v)),lt(v,u),this._tiles[f]={el:v,coords:t,current:!0},o.appendChild(v),this.fire("tileloadstart",{tile:v,coords:t})},_tileReady:function(t,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:t});var f=this._tileCoordsToKey(t);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Mt(u.el,0),De(this._fadeFrame),this._fadeFrame=We(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(Se(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?We(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var o=new U(this._wrapX?N(t.x,this._wrapX):t.x,this._wrapY?N(t.y,this._wrapY):t.y);return o.z=t.z,o},_pxBoundsToTileRange:function(t){var o=this.getTileSize();return new z(t.min.unscaleBy(o).floor(),t.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ti(t){return new tr(t)}var nr=tr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,o){this._url=t,o=T(this,o),o.detectRetina&&ve.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,o){return this._url===t&&o===void 0&&(o=!0),this._url=t,o||this.redraw(),this},createTile:function(t,o){var u=document.createElement("img");return ke(u,"load",g(this._tileOnLoad,this,o,u)),ke(u,"error",g(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(t),u},getTileUrl:function(t){var o={r:ve.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-t.y;this.options.tms&&(o.y=u),o["-y"]=u}return R(this._url,h(o,this.options))},_tileOnLoad:function(t,o){ve.ielt9?setTimeout(g(t,this,null,o),0):t(null,o)},_tileOnError:function(t,o,u){var f=this.options.errorTileUrl;f&&o.getAttribute("src")!==f&&(o.src=f),t(u,o)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(t=o-t),t+f},_getSubdomain:function(t){var o=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var t,o;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(o=this._tiles[t].el,o.onload=C,o.onerror=C,!o.complete)){o.src=G;var u=this._tiles[t].coords;Ye(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(t){var o=this._tiles[t];if(o)return o.el.setAttribute("src",G),tr.prototype._removeTile.call(this,t)},_tileReady:function(t,o,u){if(!(!this._map||u&&u.getAttribute("src")===G))return tr.prototype._tileReady.call(this,t,o,u)}});function ta(t,o){return new nr(t,o)}var qi=nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,o){this._url=t;var u=h({},this.defaultWmsParams);for(var f in o)f in this.options||(u[f]=o[f]);o=T(this,o);var v=o.detectRetina&&ve.retina?2:1,j=this.getTileSize();u.width=j.x*v,u.height=j.y*v,this.wmsParams=u},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,nr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var o=this._tileCoordsToNwSe(t),u=this._crs,f=J(u.project(o[0]),u.project(o[1])),v=f.min,j=f.max,E=(this._wmsVersion>=1.3&&this._crs===xl?[v.y,v.x,j.y,j.x]:[v.x,v.y,j.x,j.y]).join(","),B=nr.prototype.getTileUrl.call(this,t);return B+k(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(t,o){return h(this.wmsParams,t),o||this.redraw(),this}});function kl(t,o){return new qi(t,o)}nr.WMS=qi,ta.wms=kl;var Cn=dn.extend({options:{padding:.1},initialize:function(t){T(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,o){var u=this._map.getZoomScale(o,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,o),j=f.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(t,o));ve.any3d?an(this._container,j,u):lt(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-t)).round();this._bounds=new z(u,u.add(o.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),na=Cn.extend({options:{tolerance:0},getEvents:function(){var t=Cn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ke(t,"mousemove",this._onMouseMove,this),ke(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){De(this._redrawRequest),delete this._ctx,Ye(this._container),qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var o in this._layers)t=this._layers[o],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var t=this._bounds,o=this._container,u=t.getSize(),f=ve.retina?2:1;lt(o,t.min),o.width=f*u.x,o.height=f*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var o=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var o=t._order,u=o.next,f=o.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var o=t.options.dashArray.split(/[, ]+/),u=[],f,v;for(v=0;v<o.length;v++){if(f=Number(o[v]),isNaN(f))return;u.push(f)}t.options._dashArray=u}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||We(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var o=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(t._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(t._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var o=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)t=f.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,o){if(this._drawing){var u,f,v,j,E=t._parts,B=E.length,Z=this._ctx;if(B){for(Z.beginPath(),u=0;u<B;u++){for(f=0,v=E[u].length;f<v;f++)j=E[u][f],Z[f?"lineTo":"moveTo"](j.x,j.y);o&&Z.closePath()}this._fillStroke(Z,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var o=t._point,u=this._ctx,f=Math.max(Math.round(t._radius),1),v=(Math.max(Math.round(t._radiusY),1)||f)/f;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(o.x,o.y/v,f,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,t)}},_fillStroke:function(t,o){var u=o.options;u.fill&&(t.globalAlpha=u.fillOpacity,t.fillStyle=u.fillColor||u.color,t.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(t.setLineDash&&t.setLineDash(o.options&&o.options._dashArray||[]),t.globalAlpha=u.opacity,t.lineWidth=u.weight,t.strokeStyle=u.color,t.lineCap=u.lineCap,t.lineJoin=u.lineJoin,t.stroke())},_onClick:function(t){for(var o=this._map.mouseEventToLayerPoint(t),u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(o)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,o)}},_handleMouseOut:function(t){var o=this._hoveredLayer;o&&(Je(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,o){if(!this._mouseHoverThrottled){for(var u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(o)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(t),f&&(Se(this._container,"leaflet-interactive"),this._fireEvent([f],t,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,o,u){this._map._fireDOMEvent(o,u||o.type,t)},_bringToFront:function(t){var o=t._order;if(o){var u=o.next,f=o.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(t)}},_bringToBack:function(t){var o=t._order;if(o){var u=o.next,f=o.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(t)}}});function ra(t){return ve.canvas?new na(t):null}var ni=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Cl={_initContainer:function(){this._container=Pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var o=t._container=ni("shape");Se(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",t._path=ni("path"),o.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var o=t._container;this._container.appendChild(o),t.options.interactive&&t.addInteractiveTarget(o)},_removePath:function(t){var o=t._container;Ye(o),t.removeInteractiveTarget(o),delete this._layers[y(t)]},_updateStyle:function(t){var o=t._stroke,u=t._fill,f=t.options,v=t._container;v.stroked=!!f.stroke,v.filled=!!f.fill,f.stroke?(o||(o=t._stroke=ni("stroke")),v.appendChild(o),o.weight=f.weight+"px",o.color=f.color,o.opacity=f.opacity,f.dashArray?o.dashStyle=$(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=f.lineCap.replace("butt","flat"),o.joinstyle=f.lineJoin):o&&(v.removeChild(o),t._stroke=null),f.fill?(u||(u=t._fill=ni("fill")),v.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(v.removeChild(u),t._fill=null)},_updateCircle:function(t){var o=t._point.round(),u=Math.round(t._radius),f=Math.round(t._radiusY||u);this._setPath(t,t._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(t,o){t._path.v=o},_bringToFront:function(t){Wr(t._container)},_bringToBack:function(t){zn(t._container)}},fn=ve.vml?ni:jo,br=Cn.extend({_initContainer:function(){this._container=fn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ye(this._container),qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var t=this._bounds,o=t.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),lt(u,t.min),u.setAttribute("viewBox",[t.min.x,t.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(t){var o=t._path=fn("path");t.options.className&&Se(o,t.options.className),t.options.interactive&&Se(o,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Ye(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var o=t._path,u=t.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(t,o){this._setPath(t,No(t._parts,o))},_updateCircle:function(t){var o=t._point,u=Math.max(Math.round(t._radius),1),f=Math.max(Math.round(t._radiusY),1)||u,v="a"+u+","+f+" 0 1,0 ",j=t._empty()?"M0 0":"M"+(o.x-u)+","+o.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(t,j)},_setPath:function(t,o){t._path.setAttribute("d",o)},_bringToFront:function(t){Wr(t._path)},_bringToBack:function(t){zn(t._path)}});ve.vml&&br.include(Cl);function Gs(t){return ve.svg||ve.vml?new br(t):null}Oe.include({getRenderer:function(t){var o=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var o=this._paneRenderers[t];return o===void 0&&(o=this._createRenderer({pane:t}),this._paneRenderers[t]=o),o},_createRenderer:function(t){return this.options.preferCanvas&&ra(t)||Gs(t)}});var Sl=Bn.extend({initialize:function(t,o){Bn.prototype.initialize.call(this,this._boundsToLatLngs(t),o)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=le(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function bu(t,o){return new Sl(t,o)}br.create=fn,br.pointsToPath=No,Nn.geometryToLayer=Qr,Nn.coordsToLatLng=Ws,Nn.coordsToLatLngs=Zi,Nn.latLngToCoords=$s,Nn.latLngsToCoords=Hs,Nn.getFeature=Xr,Nn.asFeature=Zs,Oe.mergeOptions({boxZoom:!0});var ri=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Be(),Ls(),this._startPoint=this._map.mouseEventToContainerPoint(t),ke(document,{contextmenu:cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Pe("div","leaflet-zoom-box",this._container),Se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var o=new z(this._point,this._startPoint),u=o.getSize();lt(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ye(this._box),Je(this._container,"leaflet-crosshair")),Zr(),Ts(),qe(document,{contextmenu:cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var o=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",ri),Oe.mergeOptions({doubleClickZoom:!0});var Pl=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var o=this._map,u=o.getZoom(),f=o.options.zoomDelta,v=t.originalEvent.shiftKey?u-f:u+f;o.options.doubleClickZoom==="center"?o.setZoom(v):o.setZoomAround(t.containerPoint,v)}});Oe.addInitHook("addHandler","doubleClickZoom",Pl),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ia=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=le(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,o){return t-(t-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;t.x<o.min.x&&(t.x=this._viscousLimit(t.x,o.min.x)),t.y<o.min.y&&(t.y=this._viscousLimit(t.y,o.min.y)),t.x>o.max.x&&(t.x=this._viscousLimit(t.x,o.max.x)),t.y>o.max.y&&(t.y=this._viscousLimit(t.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,o=Math.round(t/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,v=(f-o+u)%t+o-u,j=(f+o+u)%t-o-u,E=Math.abs(v+u)<Math.abs(j+u)?v:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(t){var o=this._map,u=o.options,f=!u.inertia||t.noInertia||this._times.length<2;if(o.fire("dragend",t),f)o.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,E=u.easeLinearity,B=v.multiplyBy(E/j),Z=B.distanceTo([0,0]),Y=Math.min(u.inertiaMaxSpeed,Z),ae=B.multiplyBy(Y/Z),be=Y/(u.inertiaDeceleration*E),Ee=ae.multiplyBy(-be/2).round();!Ee.x&&!Ee.y?o.fire("moveend"):(Ee=o._limitOffset(Ee,o.options.maxBounds),We(function(){o.panBy(Ee,{duration:be,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Oe.addInitHook("addHandler","dragging",ia),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sa=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ke(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,o=document.documentElement,u=t.scrollTop||o.scrollTop,f=t.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var o=this._panKeys={},u=this.keyCodes,f,v;for(f=0,v=u.left.length;f<v;f++)o[u.left[f]]=[-1*t,0];for(f=0,v=u.right.length;f<v;f++)o[u.right[f]]=[t,0];for(f=0,v=u.down.length;f<v;f++)o[u.down[f]]=[0,t];for(f=0,v=u.up.length;f<v;f++)o[u.up[f]]=[0,-1*t]},_setZoomDelta:function(t){var o=this._zoomKeys={},u=this.keyCodes,f,v;for(f=0,v=u.zoomIn.length;f<v;f++)o[u.zoomIn[f]]=t;for(f=0,v=u.zoomOut.length;f<v;f++)o[u.zoomOut[f]]=-t},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o=t.keyCode,u=this._map,f;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[o],t.shiftKey&&(f=Q(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(Q(f),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(v)}else u.panBy(f)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;cn(t)}}});Oe.addInitHook("addHandler","keyboard",sa),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ge=Vt.extend({addHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=cl(t),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),f),cn(t)},_performZoom:function(){var t=this._map,o=t.getZoom(),u=this._map.options.zoomSnap||0;t._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,j=u?Math.ceil(v/u)*u:v,E=t._limitZoom(o+(this._delta>0?j:-j))-o;this._delta=0,this._startTime=null,E&&(t.options.scrollWheelZoom==="center"?t.setZoom(o+E):t.setZoomAround(this._lastMousePos,o+E))}});Oe.addInitHook("addHandler","scrollWheelZoom",Ge);var oa=600;Oe.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var Gi=Vt.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var o=t.touches[0];this._startPos=this._newPos=new U(o.clientX,o.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(ke(document,"touchend",it),ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),oa),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){qe(document,"touchend",it),qe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)},_onMove:function(t){var o=t.touches[0];this._newPos=new U(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,o){var u=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});Oe.addInitHook("addHandler","tapHold",Gi),Oe.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var ii=Vt.extend({addHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(!(!t.touches||t.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(t.touches[0]),f=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),it(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(t.touches[0]),f=o.mouseEventToContainerPoint(t.touches[1]),v=u.distanceTo(f)/this._startDist;if(this._zoom=o.getScaleZoom(v,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&v<1||this._zoom>o.getMaxZoom()&&v>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var j=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(v===1&&j.x===0&&j.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),De(this._animRequest);var E=g(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=We(E,this,!0),it(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,De(this._animRequest),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Oe.addInitHook("addHandler","touchZoom",ii),Oe.BoxZoom=ri,Oe.DoubleClickZoom=Pl,Oe.Drag=ia,Oe.Keyboard=sa,Oe.ScrollWheelZoom=Ge,Oe.TapHold=Gi,Oe.TouchZoom=ii,a.Bounds=z,a.Browser=ve,a.CRS=we,a.Canvas=na,a.Circle=Fs,a.CircleMarker=Bs,a.Class=Xe,a.Control=Ut,a.DivIcon=qs,a.DivOverlay=kn,a.DomEvent=zs,a.DomUtil=Bi,a.Draggable=un,a.Evented=Ie,a.FeatureGroup=In,a.GeoJSON=Nn,a.GridLayer=tr,a.Handler=Vt,a.Icon=wr,a.ImageOverlay=er,a.LatLng=he,a.LatLngBounds=ce,a.Layer=dn,a.LayerGroup=Xn,a.LineUtil=gl,a.Map=Oe,a.Marker=Dn,a.Mixin=$o,a.Path=Yn,a.Point=U,a.PolyUtil=du,a.Polygon=Bn,a.Polyline=Wt,a.Popup=Vs,a.PosAnimation=As,a.Projection=gu,a.Rectangle=Sl,a.Renderer=Cn,a.SVG=br,a.SVGOverlay=Yo,a.TileLayer=nr,a.Tooltip=ei,a.Transformation=wn,a.Util=pt,a.VideoOverlay=Xo,a.bind=g,a.bounds=J,a.canvas=ra,a.circle=Hi,a.circleMarker=_l,a.control=Qn,a.divIcon=Nl,a.extend=h,a.featureGroup=vl,a.geoJSON=wl,a.geoJson=hn,a.gridLayer=ti,a.icon=yl,a.imageOverlay=bl,a.latLng=ue,a.latLngBounds=le,a.layerGroup=$i,a.map=Jn,a.marker=yu,a.point=Q,a.polygon=wu,a.polyline=_u,a.popup=Yr,a.rectangle=bu,a.setOptions=T,a.stamp=y,a.svg=Gs,a.svgOverlay=ea,a.tileLayer=ta,a.tooltip=Vi,a.transformation=sn,a.version=c,a.videoOverlay=jl;var El=window.L;a.noConflict=function(){return window.L=El,this},window.L=a}))})(Ca,Ca.exports)),Ca.exports}var Va=_1();const w1=dp(Va);function Ph(r,i,a){return Object.freeze({instance:r,context:i,container:a})}function Eh(r,i){return i==null?function(c,h){const p=D.useRef();return p.current||(p.current=r(c,h)),p}:function(c,h){const p=D.useRef();p.current||(p.current=r(c,h));const g=D.useRef(c),{instance:w}=p.current;return D.useEffect(function(){g.current!==c&&(i(w,c,g.current),g.current=c)},[w,c,h]),p}}function b1(r,i){D.useEffect(function(){return(i.layerContainer??i.map).addLayer(r.instance),function(){var p;(p=i.layerContainer)==null||p.removeLayer(r.instance),i.map.removeLayer(r.instance)}},[i,r])}function Eg(r){return function(a){const c=Ch(),h=r(Sh(a,c),c);return kg(c.map,a.attribution),Pg(h.current,a.eventHandlers),b1(h.current,c),h}}function j1(r,i){const a=Eh(r,i),c=Eg(a);return p1(c)}function N1(r,i){const a=Eh(r),c=v1(a,i);return g1(c)}function k1(r,i){const a=Eh(r,i),c=Eg(a);return x1(c)}function C1(r,i,a){const{opacity:c,zIndex:h}=i;c!=null&&c!==a.opacity&&r.setOpacity(c),h!=null&&h!==a.zIndex&&r.setZIndex(h)}function S1(){return Ch().map}function dh(){return dh=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},dh.apply(this,arguments)}function P1({bounds:r,boundsOptions:i,center:a,children:c,className:h,id:p,placeholder:g,style:w,whenReady:y,zoom:_,...N},C){const[I]=D.useState({className:h,id:p,style:w}),[W,O]=D.useState(null);D.useImperativeHandle(C,()=>(W==null?void 0:W.map)??null,[W]);const T=D.useCallback(S=>{if(S!==null&&W===null){const R=new Va.Map(S,N);a!=null&&_!=null?R.setView(a,_):r!=null&&R.fitBounds(r,i),y!=null&&R.whenReady(y),O(f1(R))}},[]);D.useEffect(()=>()=>{W==null||W.map.remove()},[W]);const k=W?Ac.createElement(Sg,{value:W},c):g??null;return Ac.createElement("div",dh({},I,{ref:T}),k)}const E1=D.forwardRef(P1),Lg=j1(function({position:i,...a},c){const h=new Va.Marker(i,a);return Ph(h,m1(c,{overlayContainer:h}))},function(i,a,c){a.position!==c.position&&i.setLatLng(a.position),a.icon!=null&&a.icon!==c.icon&&i.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==c.zIndexOffset&&i.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==c.opacity&&i.setOpacity(a.opacity),i.dragging!=null&&a.draggable!==c.draggable&&(a.draggable===!0?i.dragging.enable():i.dragging.disable())}),Tg=N1(function(i,a){const c=new Va.Popup(i,a.overlayContainer);return Ph(c,a)},function(i,a,{position:c},h){D.useEffect(function(){const{instance:g}=i;function w(_){_.popup===g&&(g.update(),h(!0))}function y(_){_.popup===g&&h(!1)}return a.map.on({popupopen:w,popupclose:y}),a.overlayContainer==null?(c!=null&&g.setLatLng(c),g.openOn(a.map)):a.overlayContainer.bindPopup(g),function(){var N;a.map.off({popupopen:w,popupclose:y}),(N=a.overlayContainer)==null||N.unbindPopup(),a.map.removeLayer(g)}},[i,a,h,c])}),L1=k1(function({url:i,...a},c){const h=new Va.TileLayer(i,Sh(a,c));return Ph(h,c)},function(i,a,c){C1(i,a,c);const{url:h}=a;h!=null&&h!==c.url&&i.setUrl(h)}),T1={user:{color:"#3B82F6",icon:"",size:"large",pulseColor:"rgba(59, 130, 246, 0.4)",borderColor:"#1E40AF"},fixed_commerce:{color:"#059669",icon:"",size:"medium",pulseColor:"rgba(5, 150, 105, 0.3)",borderColor:"#047857"},ambulant_commerce:{color:"#DC2626",icon:"",size:"medium",pulseColor:"rgba(220, 38, 38, 0.4)",animated:!0,borderColor:"#B91C1C"}},Mg=(r,i={})=>{const a=T1[r],{isOnline:c=!1,hasNotification:h=!1}=i,p=a.size==="large"?40:32,g=a.size==="large"?20:16,w=a.animated?"animate-pulse":"",y=c?"border-2 border-green-400":"",_=h?'<div style="position: absolute; top: -4px; right: -4px; width: 12px; height: 12px; background: #EF4444; border-radius: 50%; border: 2px solid white;"></div>':"",N=`
    <div class="relative ${w}">
      <div style="
        width: ${p}px;
        height: ${p}px;
        background: ${a.color};
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: ${g}px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        border: 3px solid ${a.borderColor||a.color};
        position: relative;
        ${y?"border-color: #4ADE80; border-width: 4px;":""}
        ${r==="user"?"z-index: 1000;":""}
      " class="marker-icon ${w}">
        ${a.icon}
        ${_}
      </div>
      ${a.animated?`
        <div style="
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: ${p+20}px;
          height: ${p+20}px;
          border-radius: 50%;
          background: ${a.pulseColor};
          animation: ping 1.5s infinite;
          z-index: -1;
        "></div>
      `:""}
    </div>
  `;return w1.divIcon({html:N,className:"custom-marker",iconSize:[p,p],iconAnchor:[p/2,p/2],popupAnchor:[0,-p/2]})},M1=(r,i)=>r?`
    <div class="p-3 min-w-[200px]">
      <div class="flex items-center space-x-3 mb-3">
        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
          ${r.avatar?`<img src="${r.avatar}" alt="${r.name||"Utilisateur"}" class="w-12 h-12 rounded-full">`:`<span class="text-blue-600 font-bold text-lg">${(r.name||r.email||"U")[0].toUpperCase()}</span>`}
        </div>
        <div>
          <h3 class="font-semibold text-gray-900">${r.name||r.email||"Utilisateur"}</h3>
          <p class="text-sm text-blue-600 capitalize">${r.role||"utilisateur"}</p>
        </div>
      </div>
      
      <div class="text-xs text-gray-600 mb-3">
         Votre position actuelle
      </div>
      
      <button 
        onclick="window.handleProfileClick()"
        class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors"
      >
         Voir mon profil
      </button>
    </div>
  `:`
      <div class="p-3 min-w-[200px]">
        <div class="flex items-center space-x-3 mb-3">
          <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
            <span class="text-blue-600 font-bold text-lg"></span>
          </div>
          <div>
            <h3 class="font-semibold text-gray-900">Utilisateur</h3>
            <p class="text-sm text-blue-600">En ligne</p>
          </div>
        </div>
        
        <div class="text-xs text-gray-600 mb-3">
           Votre position actuelle
        </div>
        
        <button 
          onclick="window.handleProfileClick()"
          class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors"
        >
           Voir mon profil
        </button>
      </div>
    `,R1=(r,i,a)=>{const c=r.type==="itinerant",h=r.distance?` ${Number(r.distance||0).toFixed(1)} km`:"",p=r.rating?` ${Number(r.rating||0).toFixed(1)}`:" Non not";return`
    <div class="p-4 min-w-[250px]">
      <!-- Header avec icne commerce -->
      <div class="flex items-center space-x-3 mb-3">
        <div class="text-2xl">
          ${c?"":""}
        </div>
        <div class="flex-1">
          <h3 class="font-semibold text-gray-900 text-base">${r.name}</h3>
          <p class="text-sm text-gray-600">
            ${c?"Commerce ambulant":"Commerce fixe"}
            ${r.isVerified?" ":""}
          </p>
        </div>
      </div>

      <!-- Description -->
      ${r.description?`
        <p class="text-sm text-gray-700 mb-3 line-clamp-2">${r.description}</p>
      `:""}

      <!-- Informations -->
      <div class="space-y-2 mb-4">
        <div class="flex items-center justify-between text-sm">
          <span class="text-gray-600">${p}</span>
          <span class="text-gray-600">${h}</span>
        </div>
        
        ${r.category?`
          <div class="text-sm">
            <span class="inline-block bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full text-xs">
              ${r.category}
            </span>
          </div>
        `:""}

        ${c&&r.isOnline?`
          <div class="text-sm text-green-600 font-medium">
             En ligne - Position mise  jour
          </div>
        `:""}
      </div>

      <!-- Actions -->
      <div class="space-y-2">
        <button 
          onclick="window.handleProductsClick('${r.id}')"
          class="w-full bg-emerald-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-emerald-600 transition-colors"
        >
           Voir les produits
        </button>
        
        ${c?`
          <button 
            onclick="window.handleTrackClick('${r.id}')"
            class="w-full bg-amber-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-amber-600 transition-colors"
          >
             Suivre le trajet
          </button>
        `:""}
        
        <button 
          onclick="window.handleCommerceDetail('${r.id}')"
          class="w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"
        >
           Dtails du commerce
        </button>
      </div>
    </div>
  `},z1=`
<style>
@keyframes ping {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  75%, 100% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0;
  }
}

.custom-marker {
  background: transparent !important;
  border: none !important;
}

.leaflet-popup-content-wrapper {
  border-radius: 12px !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

.leaflet-popup-tip {
  background: white !important;
}
</style>
`,Vd={mapRefreshInterval:15,autoRefreshEnabled:!0,ambulantTrackingInterval:30,ambulantAutoTrack:!0,searchRadius:50,showUserLocation:!0,showTrackingIndicator:!0,showLastUpdate:!0,animateMovements:!0};class A1{constructor(){xn(this,"settings");xn(this,"refreshTimer",null);xn(this,"listeners",new Set);this.settings=this.loadSettings()}loadSettings(){try{const i=localStorage.getItem("mapSettings");if(i)return{...Vd,...JSON.parse(i)}}catch(i){console.warn("Erreur lors du chargement des paramtres carte:",i)}return{...Vd}}saveSettings(){try{localStorage.setItem("mapSettings",JSON.stringify(this.settings))}catch(i){console.warn("Erreur lors de la sauvegarde des paramtres carte:",i)}}getSettings(){return{...this.settings}}updateSettings(i){this.settings={...this.settings,...i},this.saveSettings(),this.notifyListeners(),("mapRefreshInterval"in i||"autoRefreshEnabled"in i)&&this.setupRefreshTimer()}setupRefreshTimer(){if(this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.settings.autoRefreshEnabled&&this.settings.mapRefreshInterval>0){const i=this.settings.mapRefreshInterval*60*1e3;this.refreshTimer=setInterval(()=>{window.dispatchEvent(new CustomEvent("map-auto-refresh",{detail:{timestamp:new Date,interval:this.settings.mapRefreshInterval}}))},i),console.log(` Rafrachissement automatique configur: ${this.settings.mapRefreshInterval} minutes`)}}forceRefresh(){window.dispatchEvent(new CustomEvent("map-force-refresh",{detail:{timestamp:new Date}}))}addListener(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notifyListeners(){this.listeners.forEach(i=>{try{i(this.settings)}catch(a){console.error("Erreur dans le listener de paramtres carte:",a)}})}getTrackingSettings(){return{updateInterval:this.settings.ambulantTrackingInterval*1e3,maxRetries:3,timeout:1e4}}cleanup(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null),this.listeners.clear()}resetToDefaults(){this.settings={...Vd},this.saveSettings(),this.notifyListeners(),this.setupRefreshTimer()}getNextRefreshTime(){if(!this.settings.autoRefreshEnabled||!this.refreshTimer)return null;const i=this.settings.mapRefreshInterval*60*1e3;return new Date(Date.now()+i)}}const vn=new A1;vn.setupRefreshTimer();class O1{constructor(){xn(this,"trackedCommerces",new Map);xn(this,"trackingIntervals",new Map);xn(this,"trackingCallbacks",new Map);xn(this,"settings",{updateInterval:3e4,maxRetries:3,timeout:1e4});this.updateSettingsFromConfig(),vn.addListener(i=>{this.updateSettingsFromConfig(),this.restartAllTracking()})}updateSettingsFromConfig(){const i=vn.getSettings();this.settings={updateInterval:i.ambulantTrackingInterval*1e3,maxRetries:3,timeout:1e4}}restartAllTracking(){const i=Array.from(this.trackingCallbacks.entries());this.stopAllTracking(),i.forEach(([a,c])=>{console.log(` Redmarrage du suivi pour commerce ${a} avec nouvel intervalle: ${this.settings.updateInterval}ms`),this.startTracking(a,c)})}configure(i){this.settings={...this.settings,...i}}startTracking(i,a){this.stopTracking(i),this.trackingCallbacks.set(i,a);const c=setInterval(async()=>{try{const h=await this.fetchCommerceLocation(i);h&&(this.trackedCommerces.set(i,h),a(h),console.log(` Position mise  jour: ${h.name} (${h.latitude.toFixed(4)}, ${h.longitude.toFixed(4)})`))}catch(h){console.error(` Erreur lors du suivi du commerce ${i}:`,h)}},this.settings.updateInterval);this.trackingIntervals.set(i,c),console.log(` Dmarrage du suivi pour commerce ${i}, intervalle: ${this.settings.updateInterval/1e3}s`),this.fetchCommerceLocation(i).then(h=>{h&&(this.trackedCommerces.set(i,h),a(h))}).catch(h=>{console.error(` Erreur lors de la premire mise  jour du commerce ${i}:`,h)})}stopTracking(i){const a=this.trackingIntervals.get(i);a&&(clearInterval(a),this.trackingIntervals.delete(i),console.log(` Arrt du suivi pour commerce ${i}`)),this.trackedCommerces.delete(i),this.trackingCallbacks.delete(i)}stopAllTracking(){this.trackingIntervals.forEach(i=>{clearInterval(i)}),this.trackingIntervals.clear(),this.trackedCommerces.clear(),this.trackingCallbacks.clear(),console.log(" Arrt de tous les suivis")}async fetchCommerceLocation(i){var a;try{const c=await fetch(`/api/v1/commerces/${i}/location`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},signal:AbortSignal.timeout(this.settings.timeout)});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=await c.json();return{id:h.id,name:h.name,type:"itinerant",latitude:h.latitude,longitude:h.longitude,lastUpdate:new Date(h.last_update||Date.now()),isOnline:h.is_online||!1,route:h.route?{startTime:new Date(h.route.start_time),endTime:new Date(h.route.end_time),waypoints:((a=h.route.waypoints)==null?void 0:a.map(p=>({latitude:p.latitude,longitude:p.longitude,timestamp:new Date(p.timestamp),activity:p.activity})))||[]}:void 0}}catch(c){return console.error("Erreur lors de la rcupration de la position:",c),null}}simulateMovement(i,a){let c=a.latitude,h=a.longitude;const p=[{lat:.001,lng:.001},{lat:.001,lng:-.001},{lat:-.001,lng:-.001},{lat:-.001,lng:.001}];let g=0;this.startTracking(i,()=>{});const w=setInterval(()=>{const y=p[g%p.length];c+=y.lat,h+=y.lng,g++;const _={id:i,name:`Commerce Ambulant ${i}`,type:"itinerant",latitude:c,longitude:h,lastUpdate:new Date,isOnline:!0,route:{startTime:new Date(Date.now()-36e5),endTime:new Date(Date.now()+36e5),waypoints:[]}};this.trackedCommerces.set(i,_),window.dispatchEvent(new CustomEvent("commerce-location-update",{detail:{commerceId:i,commerce:_}}))},this.settings.updateInterval);this.trackingIntervals.set(i,w)}getTrackedCommerces(){return Array.from(this.trackedCommerces.values())}getTrackedCommerce(i){return this.trackedCommerces.get(i)}isTracking(i){return this.trackingIntervals.has(i)}updateTrackingInterval(i,a){if(this.isTracking(i)){this.stopTracking(i);const c=this.settings.updateInterval;this.settings.updateInterval=a,console.log(`Suivi du commerce ${i} arrt. Redmarrez avec le nouvel intervalle.`),this.settings.updateInterval=c}}}const ji=new O1;function I1(){return D.useEffect(()=>{const r="leaflet-custom-styles";if(!document.getElementById(r)){const i=document.createElement("div");i.id=r,i.innerHTML=z1,document.head.appendChild(i)}},[]),null}function D1({commerces:r}){const i=gs();return D.useEffect(()=>(window.handleProfileClick=()=>{i("/profile")},window.handleProductsClick=a=>{i(`/products?commerce=${a}`)},window.handleTrackClick=a=>{const c=r.find(h=>h.id===a);c&&c.type==="itinerant"&&ji.startTracking(a,h=>{console.log("Position mise  jour:",h),window.dispatchEvent(new CustomEvent("commerce-location-update",{detail:{commerceId:a,commerce:h}}))})},window.handleCommerceDetail=a=>{i(`/commerces/${a}`)},()=>{delete window.handleProfileClick,delete window.handleProductsClick,delete window.handleTrackClick,delete window.handleCommerceDetail}),[i,r]),null}function B1({position:r}){const{user:i}=Ae(h=>h.auth),a=gs(),c=()=>{a("/profile")};return s.jsx(Lg,{position:[r.latitude,r.longitude],icon:Mg("user",{isOnline:!0}),eventHandlers:{click:c},children:s.jsx(Tg,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:M1(i)}})})})}function F1({commerces:r,onCommerceClick:i,selectedCommerce:a}){const[c,h]=D.useState(new Map);return D.useEffect(()=>{const p=g=>{const{commerceId:w,commerce:y}=g.detail;h(_=>{const N=new Map(_);return N.set(w,y),N})};return window.addEventListener("commerce-location-update",p),()=>{window.removeEventListener("commerce-location-update",p)}},[]),D.useEffect(()=>(r.filter(p=>p.type==="itinerant"&&p.isOnline).forEach(p=>{ji.isTracking(p.id)||ji.simulateMovement(p.id,{latitude:p.latitude,longitude:p.longitude})}),()=>{ji.stopAllTracking()}),[r]),s.jsx(s.Fragment,{children:r.map(p=>{if(!p.latitude||!p.longitude)return null;const g=c.get(p.id),w=g?[g.latitude,g.longitude]:[p.latitude,p.longitude],y=(a==null?void 0:a.id)===p.id,_=p.type==="itinerant",N=p.isOnline||!1;let C="fixed_commerce";return _&&(C="ambulant_commerce"),s.jsx(Lg,{position:w,icon:Mg(C,{isOnline:N,hasNotification:y}),eventHandlers:{click:()=>i(p)},zIndexOffset:y?1e3:0,children:s.jsx(Tg,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:R1({...p,isOnline:N})}})})},p.id)})})}function U1({selectedCommerce:r,userLocation:i,zoom:a}){const c=S1();return D.useEffect(()=>{r&&r.latitude&&r.longitude?c.flyTo([r.latitude,r.longitude],a+2,{animate:!0,duration:1}):i&&c.flyTo([i.latitude,i.longitude],a,{animate:!0,duration:1})},[c,r,i,a]),null}const Rg=({userLocation:r,commerces:i,onCommerceClick:a,height:c,zoom:h,center:p,selectedCommerce:g})=>{const w=D.useRef(null);return s.jsxs("div",{style:{height:c,width:"100%"},className:"relative",children:[s.jsx(I1,{}),s.jsx(D1,{commerces:i}),s.jsxs(E1,{center:p,zoom:h,style:{height:"100%",width:"100%"},className:"rounded-xl",ref:w,children:[s.jsx(L1,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(U1,{selectedCommerce:g,userLocation:r,zoom:h}),r&&s.jsx(B1,{position:r}),s.jsx(F1,{commerces:i,onCommerceClick:a,selectedCommerce:g})]}),ji.getTrackedCommerces().length>0&&s.jsx("div",{className:"absolute top-4 right-4 bg-amber-100 border border-amber-300 rounded-lg px-3 py-2 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-amber-800 font-medium",children:[ji.getTrackedCommerces().length," commerce",ji.getTrackedCommerces().length>1?"s":""," suivi",ji.getTrackedCommerces().length>1?"s":""]})]})})]})};function W1({onLocationFound:r,className:i="",children:a}){const[c,h]=D.useState(!1),p=mt(),g=async()=>{if(!navigator.geolocation){p(Ec("La golocalisation n'est pas supporte par ce navigateur"));return}h(!0),p(Y_());const w={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};try{navigator.geolocation.getCurrentPosition(y=>{const _={latitude:y.coords.latitude,longitude:y.coords.longitude};p(vg(_)),p(ep(!0)),r==null||r(_),h(!1)},y=>{let _="Erreur de golocalisation";switch(y.code){case y.PERMISSION_DENIED:_="Permission de golocalisation refuse",p(ep(!1));break;case y.POSITION_UNAVAILABLE:_="Position non disponible";break;case y.TIMEOUT:_="Dlai de golocalisation dpass";break}p(Ec(_)),h(!1)},w)}catch{p(Ec("Erreur lors de la demande de golocalisation")),h(!1)}};return s.jsx("button",{onClick:g,disabled:c,className:`
        inline-flex items-center justify-center px-4 py-2 
        bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300
        text-white font-medium rounded-lg
        transition-colors duration-200
        ${c?"cursor-not-allowed":"cursor-pointer"}
        ${i}
      `,title:"Obtenir ma position",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Localisation..."]}):s.jsx(s.Fragment,{children:a||s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mr-2",children:""}),"Ma position"]})})})}function zg(r){var i,a,c="";if(typeof r=="string"||typeof r=="number")c+=r;else if(typeof r=="object")if(Array.isArray(r)){var h=r.length;for(i=0;i<h;i++)r[i]&&(a=zg(r[i]))&&(c&&(c+=" "),c+=a)}else for(a in r)r[a]&&(c&&(c+=" "),c+=a);return c}function $1(){for(var r,i,a=0,c="",h=arguments.length;a<h;a++)(r=arguments[a])&&(i=zg(r))&&(c&&(c+=" "),c+=i);return c}const Lh="-",H1=r=>{const i=V1(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:c}=r;return{getClassGroupId:g=>{const w=g.split(Lh);return w[0]===""&&w.length!==1&&w.shift(),Ag(w,i)||Z1(g)},getConflictingClassGroupIds:(g,w)=>{const y=a[g]||[];return w&&c[g]?[...y,...c[g]]:y}}},Ag=(r,i)=>{var g;if(r.length===0)return i.classGroupId;const a=r[0],c=i.nextPart.get(a),h=c?Ag(r.slice(1),c):void 0;if(h)return h;if(i.validators.length===0)return;const p=r.join(Lh);return(g=i.validators.find(({validator:w})=>w(p)))==null?void 0:g.classGroupId},sp=/^\[(.+)\]$/,Z1=r=>{if(sp.test(r)){const i=sp.exec(r)[1],a=i==null?void 0:i.substring(0,i.indexOf(":"));if(a)return"arbitrary.."+a}},V1=r=>{const{theme:i,classGroups:a}=r,c={nextPart:new Map,validators:[]};for(const h in a)hh(a[h],c,h,i);return c},hh=(r,i,a,c)=>{r.forEach(h=>{if(typeof h=="string"){const p=h===""?i:op(i,h);p.classGroupId=a;return}if(typeof h=="function"){if(q1(h)){hh(h(c),i,a,c);return}i.validators.push({validator:h,classGroupId:a});return}Object.entries(h).forEach(([p,g])=>{hh(g,op(i,p),a,c)})})},op=(r,i)=>{let a=r;return i.split(Lh).forEach(c=>{a.nextPart.has(c)||a.nextPart.set(c,{nextPart:new Map,validators:[]}),a=a.nextPart.get(c)}),a},q1=r=>r.isThemeGetter,G1=r=>{if(r<1)return{get:()=>{},set:()=>{}};let i=0,a=new Map,c=new Map;const h=(p,g)=>{a.set(p,g),i++,i>r&&(i=0,c=a,a=new Map)};return{get(p){let g=a.get(p);if(g!==void 0)return g;if((g=c.get(p))!==void 0)return h(p,g),g},set(p,g){a.has(p)?a.set(p,g):h(p,g)}}},fh="!",mh=":",K1=mh.length,J1=r=>{const{prefix:i,experimentalParseClassName:a}=r;let c=h=>{const p=[];let g=0,w=0,y=0,_;for(let O=0;O<h.length;O++){let T=h[O];if(g===0&&w===0){if(T===mh){p.push(h.slice(y,O)),y=O+K1;continue}if(T==="/"){_=O;continue}}T==="["?g++:T==="]"?g--:T==="("?w++:T===")"&&w--}const N=p.length===0?h:h.substring(y),C=Q1(N),I=C!==N,W=_&&_>y?_-y:void 0;return{modifiers:p,hasImportantModifier:I,baseClassName:C,maybePostfixModifierPosition:W}};if(i){const h=i+mh,p=c;c=g=>g.startsWith(h)?p(g.substring(h.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:g,maybePostfixModifierPosition:void 0}}if(a){const h=c;c=p=>a({className:p,parseClassName:h})}return c},Q1=r=>r.endsWith(fh)?r.substring(0,r.length-1):r.startsWith(fh)?r.substring(1):r,X1=r=>{const i=Object.fromEntries(r.orderSensitiveModifiers.map(c=>[c,!0]));return c=>{if(c.length<=1)return c;const h=[];let p=[];return c.forEach(g=>{g[0]==="["||i[g]?(h.push(...p.sort(),g),p=[]):p.push(g)}),h.push(...p.sort()),h}},Y1=r=>({cache:G1(r.cacheSize),parseClassName:J1(r),sortModifiers:X1(r),...H1(r)}),ew=/\s+/,tw=(r,i)=>{const{parseClassName:a,getClassGroupId:c,getConflictingClassGroupIds:h,sortModifiers:p}=i,g=[],w=r.trim().split(ew);let y="";for(let _=w.length-1;_>=0;_-=1){const N=w[_],{isExternal:C,modifiers:I,hasImportantModifier:W,baseClassName:O,maybePostfixModifierPosition:T}=a(N);if(C){y=N+(y.length>0?" "+y:y);continue}let k=!!T,S=c(k?O.substring(0,T):O);if(!S){if(!k){y=N+(y.length>0?" "+y:y);continue}if(S=c(O),!S){y=N+(y.length>0?" "+y:y);continue}k=!1}const R=p(I).join(":"),$=W?R+fh:R,K=$+S;if(g.includes(K))continue;g.push(K);const G=h(S,k);for(let se=0;se<G.length;++se){const oe=G[se];g.push($+oe)}y=N+(y.length>0?" "+y:y)}return y};function nw(){let r=0,i,a,c="";for(;r<arguments.length;)(i=arguments[r++])&&(a=Og(i))&&(c&&(c+=" "),c+=a);return c}const Og=r=>{if(typeof r=="string")return r;let i,a="";for(let c=0;c<r.length;c++)r[c]&&(i=Og(r[c]))&&(a&&(a+=" "),a+=i);return a};function rw(r,...i){let a,c,h,p=g;function g(y){const _=i.reduce((N,C)=>C(N),r());return a=Y1(_),c=a.cache.get,h=a.cache.set,p=w,w(y)}function w(y){const _=c(y);if(_)return _;const N=tw(y,a);return h(y,N),N}return function(){return p(nw.apply(null,arguments))}}const Nt=r=>{const i=a=>a[r]||[];return i.isThemeGetter=!0,i},Ig=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iw=/^\d+\/\d+$/,sw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ow=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=r=>iw.test(r),Me=r=>!!r&&!Number.isNaN(Number(r)),_i=r=>!!r&&Number.isInteger(Number(r)),qd=r=>r.endsWith("%")&&Me(r.slice(0,-1)),zr=r=>sw.test(r),uw=()=>!0,dw=r=>ow.test(r)&&!aw.test(r),Bg=()=>!1,hw=r=>lw.test(r),fw=r=>cw.test(r),mw=r=>!pe(r)&&!ge(r),pw=r=>_o(r,Wg,Bg),pe=r=>Ig.test(r),os=r=>_o(r,$g,dw),Gd=r=>_o(r,_w,Me),ap=r=>_o(r,Fg,Bg),gw=r=>_o(r,Ug,fw),vc=r=>_o(r,Hg,hw),ge=r=>Dg.test(r),Na=r=>wo(r,$g),xw=r=>wo(r,ww),lp=r=>wo(r,Fg),vw=r=>wo(r,Wg),yw=r=>wo(r,Ug),yc=r=>wo(r,Hg,!0),_o=(r,i,a)=>{const c=Ig.exec(r);return c?c[1]?i(c[1]):a(c[2]):!1},wo=(r,i,a=!1)=>{const c=Dg.exec(r);return c?c[1]?i(c[1]):a:!1},Fg=r=>r==="position"||r==="percentage",Ug=r=>r==="image"||r==="url",Wg=r=>r==="length"||r==="size"||r==="bg-size",$g=r=>r==="length",_w=r=>r==="number",ww=r=>r==="family-name",Hg=r=>r==="shadow",bw=()=>{const r=Nt("color"),i=Nt("font"),a=Nt("text"),c=Nt("font-weight"),h=Nt("tracking"),p=Nt("leading"),g=Nt("breakpoint"),w=Nt("container"),y=Nt("spacing"),_=Nt("radius"),N=Nt("shadow"),C=Nt("inset-shadow"),I=Nt("text-shadow"),W=Nt("drop-shadow"),O=Nt("blur"),T=Nt("perspective"),k=Nt("aspect"),S=Nt("ease"),R=Nt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],G=()=>[...K(),ge,pe],se=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto","contain","none"],ne=()=>[ge,pe,y],X=()=>[uo,"full","auto",...ne()],Fe=()=>[_i,"none","subgrid",ge,pe],We=()=>["auto",{span:["full",_i,ge,pe]},_i,ge,pe],De=()=>[_i,"auto",ge,pe],pt=()=>["auto","min","max","fr",ge,pe],Xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],yt=()=>["start","end","center","stretch","center-safe","end-safe"],Re=()=>["auto",...ne()],Ie=()=>[uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ne()],U=()=>[r,ge,pe],_e=()=>[...K(),lp,ap,{position:[ge,pe]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",vw,pw,{size:[ge,pe]}],J=()=>[qd,Na,os],ce=()=>["","none","full",_,ge,pe],le=()=>["",Me,Na,os],he=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[Me,qd,lp,ap],Te=()=>["","none",O,ge,pe],$e=()=>["none",Me,ge,pe],at=()=>["none",Me,ge,pe],wn=()=>[Me,ge,pe],sn=()=>[uo,"full",...ne()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zr],breakpoint:[zr],color:[uw],container:[zr],"drop-shadow":[zr],ease:["in","out","in-out"],font:[mw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zr],shadow:[zr],spacing:["px",Me],text:[zr],"text-shadow":[zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uo,pe,ge,k]}],container:["container"],columns:[{columns:[Me,pe,ge,w]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:G()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:oe()}],"overscroll-x":[{"overscroll-x":oe()}],"overscroll-y":[{"overscroll-y":oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[_i,"auto",ge,pe]}],basis:[{basis:[uo,"full","auto",w,...ne()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,uo,"auto","initial","none",pe]}],grow:[{grow:["",Me,ge,pe]}],shrink:[{shrink:["",Me,ge,pe]}],order:[{order:[_i,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":Fe()}],"col-start-end":[{col:We()}],"col-start":[{"col-start":De()}],"col-end":[{"col-end":De()}],"grid-rows":[{"grid-rows":Fe()}],"row-start-end":[{row:We()}],"row-start":[{"row-start":De()}],"row-end":[{"row-end":De()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pt()}],"auto-rows":[{"auto-rows":pt()}],gap:[{gap:ne()}],"gap-x":[{"gap-x":ne()}],"gap-y":[{"gap-y":ne()}],"justify-content":[{justify:[...Xe(),"normal"]}],"justify-items":[{"justify-items":[...yt(),"normal"]}],"justify-self":[{"justify-self":["auto",...yt()]}],"align-content":[{content:["normal",...Xe()]}],"align-items":[{items:[...yt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...yt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Xe()}],"place-items":[{"place-items":[...yt(),"baseline"]}],"place-self":[{"place-self":["auto",...yt()]}],p:[{p:ne()}],px:[{px:ne()}],py:[{py:ne()}],ps:[{ps:ne()}],pe:[{pe:ne()}],pt:[{pt:ne()}],pr:[{pr:ne()}],pb:[{pb:ne()}],pl:[{pl:ne()}],m:[{m:Re()}],mx:[{mx:Re()}],my:[{my:Re()}],ms:[{ms:Re()}],me:[{me:Re()}],mt:[{mt:Re()}],mr:[{mr:Re()}],mb:[{mb:Re()}],ml:[{ml:Re()}],"space-x":[{"space-x":ne()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ne()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ie()}],w:[{w:[w,"screen",...Ie()]}],"min-w":[{"min-w":[w,"screen","none",...Ie()]}],"max-w":[{"max-w":[w,"screen","none","prose",{screen:[g]},...Ie()]}],h:[{h:["screen","lh",...Ie()]}],"min-h":[{"min-h":["screen","lh","none",...Ie()]}],"max-h":[{"max-h":["screen","lh",...Ie()]}],"font-size":[{text:["base",a,Na,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[c,ge,Gd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qd,pe]}],"font-family":[{font:[xw,pe,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[h,ge,pe]}],"line-clamp":[{"line-clamp":[Me,"none",ge,Gd]}],leading:[{leading:[p,...ne()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",ge,os]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Me,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_i,ge,pe],radial:["",ge,pe],conic:[_i,ge,pe]},yw,gw]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,ge,pe]}],"outline-w":[{outline:["",Me,Na,os]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",N,yc,vc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",C,yc,vc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Me,os]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",I,yc,vc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[Me,ge,pe]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:Te()}],brightness:[{brightness:[Me,ge,pe]}],contrast:[{contrast:[Me,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",W,yc,vc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",Me,ge,pe]}],"hue-rotate":[{"hue-rotate":[Me,ge,pe]}],invert:[{invert:["",Me,ge,pe]}],saturate:[{saturate:[Me,ge,pe]}],sepia:[{sepia:["",Me,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[Me,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Me,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Me,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Me,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Me,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ne()}],"border-spacing-x":[{"border-spacing-x":ne()}],"border-spacing-y":[{"border-spacing-y":ne()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",ge,pe]}],ease:[{ease:["linear","initial",S,ge,pe]}],delay:[{delay:[Me,ge,pe]}],animate:[{animate:["none",R,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ge,pe]}],"perspective-origin":[{"perspective-origin":G()}],rotate:[{rotate:$e()}],"rotate-x":[{"rotate-x":$e()}],"rotate-y":[{"rotate-y":$e()}],"rotate-z":[{"rotate-z":$e()}],scale:[{scale:at()}],"scale-x":[{"scale-x":at()}],"scale-y":[{"scale-y":at()}],"scale-z":[{"scale-z":at()}],"scale-3d":["scale-3d"],skew:[{skew:wn()}],"skew-x":[{"skew-x":wn()}],"skew-y":[{"skew-y":wn()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:G()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:sn()}],"translate-x":[{"translate-x":sn()}],"translate-y":[{"translate-y":sn()}],"translate-z":[{"translate-z":sn()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Me,Na,os,Gd]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jw=rw(bw);function ur(...r){return jw($1(r))}const tn=({variant:r="primary",size:i="md",loading:a=!1,disabled:c,className:h,children:p,...g})=>{const w="inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-40 disabled:cursor-not-allowed",y={primary:"bg-brand-600 text-white hover:bg-brand-700 shadow-card focus:ring-brand-500",secondary:"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50 focus:ring-brand-500",accent:"bg-accent-500 text-slate-900 hover:bg-accent-700 hover:text-white focus:ring-accent-500",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 focus:ring-brand-500"},_={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};return s.jsxs("button",{className:ur(w,y[r],_[i],h),disabled:c||a,...g,children:[a&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),p]})},La=({variant:r="brand",children:i,className:a})=>{const c="inline-flex items-center gap-1 rounded-pill px-3 py-1 text-xs font-medium",h={brand:"bg-brand-50 text-brand-700",accent:"bg-accent-100 text-accent-700",success:"bg-green-50 text-green-700",warning:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-700",info:"bg-blue-50 text-blue-700"};return s.jsx("span",{className:ur(c,h[r],a),children:i})},tt=({children:r,className:i})=>s.jsx("div",{className:ur("rounded-lg bg-white shadow-card border border-slate-100",i),children:r}),Nw=({children:r,className:i})=>s.jsx("div",{className:ur("p-5 border-b border-slate-100",i),children:r}),kw=({children:r,className:i})=>s.jsx("div",{className:ur("p-5",i),children:r}),Cw=({children:r,className:i})=>s.jsx("div",{className:ur("p-4 border-t border-slate-100 flex justify-end gap-3",i),children:r});tt.Header=Nw;tt.Body=kw;tt.Footer=Cw;const Hc=({label:r,error:i,helpText:a,className:c,id:h,...p})=>{const g=h||(r==null?void 0:r.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("label",{htmlFor:g,className:"block text-sm font-medium text-slate-700",children:r}),s.jsx("input",{id:g,className:ur("block w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600 text-slate-900 transition-all duration-200",i&&"border-red-300 focus:border-red-500 focus:ring-red-500",c),...p}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),a&&!i&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a})]})},Sw=({label:r,error:i,helpText:a,className:c,id:h,...p})=>{const g=h||(r==null?void 0:r.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("label",{htmlFor:g,className:"block text-sm font-medium text-slate-700",children:r}),s.jsx("textarea",{id:g,className:ur("block w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600 text-slate-900 transition-all duration-200 min-h-[120px] resize-none",i&&"border-red-300 focus:border-red-500 focus:ring-red-500",c),...p}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),a&&!i&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a})]})},Pw=({label:r,error:i,helpText:a,className:c,id:h,children:p,...g})=>{const w=h||(r==null?void 0:r.toLowerCase().replace(/\s+/g,"-"));return s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("label",{htmlFor:w,className:"block text-sm font-medium text-slate-700",children:r}),s.jsx("select",{id:w,className:ur("block w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600 text-slate-900 transition-all duration-200 pr-8",i&&"border-red-300 focus:border-red-500 focus:ring-red-500",c),...g,children:p}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),a&&!i&&s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a})]})};Hc.Textarea=Sw;Hc.Select=Pw;const Oa=({variant:r="info",children:i,className:a,onClose:c})=>{const h="rounded-md p-4 flex items-start gap-3 shadow-card",p={info:"bg-blue-50 text-blue-900 border border-blue-200",success:"bg-green-50 text-green-900 border border-green-200",warning:"bg-yellow-50 text-yellow-900 border border-yellow-200",error:"bg-red-50 text-red-900 border border-red-200"},g={info:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:s.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};return s.jsxs("div",{className:ur(h,p[r],a),children:[g[r],s.jsx("div",{className:"flex-1 text-sm",children:i}),c&&s.jsx("button",{onClick:c,className:"flex-shrink-0 ml-auto pl-3 -mr-1 -mt-1",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},Ia=({isOpen:r,onClose:i,title:a,size:c="lg",children:h})=>{const p=gs();D.useEffect(()=>{const y=_=>{_.key==="Escape"&&g()};return r&&(document.addEventListener("keydown",y),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",y),document.body.style.overflow="unset"}},[r]);const g=()=>{i(),p("/")};if(!r)return null;const w={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl w-full mx-4"};return s.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:g}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-hidden ${w[c]} z-[10000]`,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a}),s.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Fermer la modal",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-4rem)]",children:h})]})})]})},Ew=({isOpen:r,onClose:i})=>{const[a,c]=D.useState(vn.getSettings()),[h,p]=D.useState(!1);D.useEffect(()=>{r&&(c(vn.getSettings()),p(!1))},[r]);const g=(_,N)=>{c(C=>({...C,[_]:N})),p(!0)},w=()=>{vn.updateSettings(a),p(!1),i()},y=()=>{vn.resetToDefaults(),c(vn.getSettings()),p(!1)};return r?s.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i}),s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-hidden w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" Paramtres de la carte"}),s.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors","aria-label":"Fermer les paramtres",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-8rem)] p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Rafrachissement automatique"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Activer le rafrachissement automatique"}),s.jsx("input",{type:"checkbox",checked:a.autoRefreshEnabled,onChange:_=>g("autoRefreshEnabled",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),a.autoRefreshEnabled&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalle de rafrachissement (minutes)"}),s.jsx("input",{type:"range",min:"5",max:"60",step:"5",value:a.mapRefreshInterval,onChange:_=>g("mapRefreshInterval",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"5 min"}),s.jsxs("span",{className:"font-medium",children:[a.mapRefreshInterval," min"]}),s.jsx("span",{children:"60 min"})]})]})]}),s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Commerces ambulants"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suivre automatiquement les commerces ambulants"}),s.jsx("input",{type:"checkbox",checked:a.ambulantAutoTrack,onChange:_=>g("ambulantAutoTrack",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalle de suivi (secondes)"}),s.jsx("input",{type:"range",min:"10",max:"300",step:"10",value:a.ambulantTrackingInterval,onChange:_=>g("ambulantTrackingInterval",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"10s"}),s.jsxs("span",{className:"font-medium",children:[a.ambulantTrackingInterval,"s"]}),s.jsx("span",{children:"5min"})]})]})]}),s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Golocalisation"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rayon de recherche (km)"}),s.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:a.searchRadius,onChange:_=>g("searchRadius",parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"5 km"}),s.jsxs("span",{className:"font-medium",children:[a.searchRadius," km"]}),s.jsx("span",{children:"100 km"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Afficher ma position sur la carte"}),s.jsx("input",{type:"checkbox",checked:a.showUserLocation,onChange:_=>g("showUserLocation",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]})]}),s.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:" Interface"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Afficher l'indicateur de suivi"}),s.jsx("input",{type:"checkbox",checked:a.showTrackingIndicator,onChange:_=>g("showTrackingIndicator",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Afficher l'heure de dernire mise  jour"}),s.jsx("input",{type:"checkbox",checked:a.showLastUpdate,onChange:_=>g("showLastUpdate",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Animer les mouvements"}),s.jsx("input",{type:"checkbox",checked:a.animateMovements,onChange:_=>g("animateMovements",_.target.checked),className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex justify-between",children:[s.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" Rinitialiser"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{onClick:w,disabled:!h,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${h?"text-white bg-emerald-500 hover:bg-emerald-600":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,children:" Sauvegarder"})]})]})]})})]}):null},Lw=({children:r})=>{const i=mt(),a=xo(),{commerces:c,loading:h}=Ae(K=>K.commerce),{currentLocation:p,loading:g}=Ae(K=>K.location),[w,y]=D.useState(null),[_,N]=D.useState(!1),[C,I]=D.useState(""),[W,O]=D.useState(new Date),[T,k]=D.useState(!1);D.useEffect(()=>{!p&&!g&&i(ho())},[i,p,g]);const S=()=>{if(p){const K=vn.getSettings();i(ki({location:p,radius:K.searchRadius})),O(new Date),console.log(` Rafrachissement des commerces (rayon: ${K.searchRadius}km)`)}};D.useEffect(()=>{p&&Array.isArray(c)&&c.length===0&&!h&&S()},[p,i,c,h]),D.useEffect(()=>{const K=()=>{console.log(" Rafrachissement automatique dclench"),S()},G=()=>{console.log(" Rafrachissement forc dclench"),S()};return window.addEventListener("map-auto-refresh",K),window.addEventListener("map-force-refresh",G),()=>{window.removeEventListener("map-auto-refresh",K),window.removeEventListener("map-force-refresh",G)}},[p]),D.useEffect(()=>{const K=a.pathname;K==="/"?N(!1):K==="/commerces"?(I("Commerces locaux"),N(!0)):K==="/products"?(I("Catalogue produits"),N(!0)):K==="/orders"?(I("Mes commandes"),N(!0)):K==="/profile"?(I("Mon profil"),N(!0)):K==="/auth"?(I("Authentification"),N(!0)):K==="/checkout"?(I("Finaliser la commande"),N(!0)):K==="/cart"?(I("Mon panier"),N(!0)):K==="/interests"?(I("Manifestations d'intrt"),N(!0)):K==="/dashboard"?(I("Dashboard Vendeur"),N(!0)):K.startsWith("/commerces/")?(I("Dtails du commerce"),N(!0)):K.startsWith("/products/")?(I("Dtails du produit"),N(!0)):N(!1)},[a.pathname]);const R=K=>{y(K)},$=Array.isArray(c)?c:[];return s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s.jsx(d1,{}),s.jsxs("div",{className:"flex-1 transition-all duration-300 relative",style:{marginLeft:"var(--sidebar-width, 256px)"},children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white/95 backdrop-blur-sm shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace Golocalis"}),s.jsx("p",{className:"text-sm text-gray-600",children:p?`${$.length} commerce${$.length!==1?"s":""} dans un rayon de 50km`:"Activez la golocalisation pour dcouvrir les commerces prs de vous"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[!p&&s.jsx(W1,{onLocationFound:K=>{i(ki({location:K,radius:50}))},className:"btn-primary",children:" Golocalisation"}),p&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-emerald-600",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Position active"})]}),s.jsx("button",{onClick:()=>k(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Paramtres de la carte",children:s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})}),s.jsx("div",{className:"h-full pt-20",children:s.jsx(Rg,{userLocation:p,commerces:$,onCommerceClick:R,height:"100%",zoom:p?12:6,center:p?[p.latitude,p.longitude]:[4.0511,9.7679]})}),g&&s.jsx("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Golocalisation en cours..."})]})}),h&&s.jsx("div",{className:"absolute bottom-6 left-6 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Chargement des commerces..."})]})}),p&&$.length>0&&s.jsx("div",{className:"absolute bottom-6 right-6 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-4 z-10",children:s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Statistiques"}),s.jsxs("p",{className:"text-gray-600",children:[$.length," commerces"]}),s.jsxs("p",{className:"text-gray-600",children:["Rayon: ",vn.getSettings().searchRadius,"km"]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-2",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["Dernire MAJ: ",W.toLocaleTimeString()]}),vn.getSettings().autoRefreshEnabled&&s.jsxs("p",{className:"text-xs text-emerald-600",children:[" Auto-refresh: ",vn.getSettings().mapRefreshInterval,"min"]}),s.jsx("button",{onClick:()=>vn.forceRefresh(),className:"mt-1 text-xs text-blue-600 hover:text-blue-800 underline",children:" Actualiser maintenant"})]})]})})]}),s.jsx(Ia,{isOpen:_,onClose:()=>N(!1),title:C,size:"xl",children:r}),s.jsx(Ew,{isOpen:T,onClose:()=>k(!1)})]})},Tw=({notification:r})=>{const i=mt();D.useEffect(()=>{if(r.duration&&r.duration>0){const p=setTimeout(()=>{i(tp(r.id))},r.duration);return()=>clearTimeout(p)}},[r.id,r.duration,i]);const a=()=>{i(tp(r.id))},c=()=>{switch(r.type){case"success":return s.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return s.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return s.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return s.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});default:return null}},h=()=>{const p="relative flex items-start p-4 mb-4 rounded-lg shadow-lg border-l-4 bg-white";switch(r.type){case"success":return`${p} border-green-400`;case"error":return`${p} border-red-400`;case"warning":return`${p} border-yellow-400`;case"info":return`${p} border-blue-400`;default:return`${p} border-gray-400`}};return s.jsxs("div",{className:`${h()} animate-slide-up`,children:[s.jsx("div",{className:"flex-shrink-0 mr-3 pt-0.5",children:c()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:r.title}),r.message&&s.jsx("p",{className:"text-sm text-gray-600",children:r.message})]}),s.jsx("button",{onClick:a,className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.duration&&r.duration>0&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 rounded-b-lg overflow-hidden",children:s.jsx("div",{className:`h-full ${r.type==="success"?"bg-green-400":r.type==="error"?"bg-red-400":r.type==="warning"?"bg-yellow-400":"bg-blue-400"} transition-all ease-linear`,style:{animation:`shrinkProgress ${r.duration}ms linear forwards`}})}),s.jsx("style",{jsx:!0,children:`
        @keyframes shrinkProgress {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},Mw=()=>{const r=Ae(i=>i.notification.notifications);return r.length===0?null:s.jsx("div",{className:"fixed top-20 right-4 space-y-2 z-50 max-w-sm",children:r.map(i=>s.jsx(Tw,{notification:i},i.id))})},Rw=()=>{const r=mt(),{isOpen:i,items:a,totalItems:c,totalPrice:h,deliveryFee:p}=Ae(N=>N.cart),g=()=>{r(K_(!1))},w=N=>{r(mg(N))},y=(N,C)=>{r(pg({itemId:N,quantity:C}))},_=()=>{r(gg())};return i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:g}),s.jsx("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl z-[9999] transform transition-transform duration-300",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Panier (",c,")"]}),s.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fermer le panier",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Panier vide"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Dcouvrez nos produits frais et ajoutez-les  votre panier"}),s.jsx(ht,{to:"/products",onClick:g,className:"btn-primary",children:"Voir les produits"})]}):s.jsxs("div",{className:"p-4 space-y-4",children:[a.map(N=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:N.product.imageUrl?s.jsx("img",{src:N.product.imageUrl,alt:N.product.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:N.product.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[N.unitPrice.toFixed(2)," / ",N.product.unit]}),N.product.commerce&&s.jsx("p",{className:"text-xs text-gray-500 truncate",children:N.product.commerce.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>y(N.id,N.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors",disabled:N.quantity<=1,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"text-sm font-medium w-8 text-center",children:N.quantity}),s.jsx("button",{onClick:()=>y(N.id,N.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("button",{onClick:()=>w(N.id),className:"p-1 text-red-400 hover:text-red-600 transition-colors","aria-label":"Supprimer du panier",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},N.id)),a.length>0&&s.jsx("button",{onClick:_,className:"w-full text-sm text-red-600 hover:text-red-800 transition-colors py-2",children:"Vider le panier"})]})}),a.length>0&&s.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sous-total"}),s.jsxs("span",{children:[h.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Livraison"}),s.jsxs("span",{children:[p.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t border-gray-200 pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:[(h+p).toFixed(2),""]})]})]}),s.jsx(ht,{to:"/checkout",onClick:g,className:"btn-primary w-full text-center block",children:"Passer commande"})]})]})})]}):null},zw=()=>{const r=mt(),{commerces:i,loading:a}=Ae(k=>k.commerce),{currentLocation:c}=Ae(k=>k.location),[h,p]=D.useState(""),[g,w]=D.useState(""),[y,_]=D.useState(0),[N,C]=D.useState(!1),I=["Tous","Alimentation gnrale","Fruits et lgumes","Bananes plantain","picerie fine","Produits bio","March local"];D.useEffect(()=>{c&&r(ki({location:c,radius:50}))},[c,r]);const W=()=>{h.trim()?r(Cc({query:h,location:c||void 0,filters:{category:g||void 0,rating:y>0?y:void 0,verified:N||void 0}})):c&&r(ki({location:c,radius:50}))},O=()=>{r(ho())},T=Array.isArray(i)?i.filter(k=>!(g&&g!=="Tous"&&k.category!==g||y>0&&(k.rating||0)<y||N&&!k.isVerified)):[];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-gray-600",children:[T.length," commerce",T.length!==1?"s":""," dans un rayon de 50km"]})}),!c&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:s.jsx("p",{className:"text-amber-800 text-sm",children:" Activez la golocalisation depuis la carte pour voir les commerces prs de vous"})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Rechercher un commerce...",value:h,onChange:k=>p(k.target.value),className:"form-input",onKeyPress:k=>k.key==="Enter"&&W()})}),s.jsx("button",{onClick:W,disabled:a,className:"btn-primary px-8",children:a?"Recherche...":"Rechercher"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catgorie"}),s.jsx("select",{value:g,onChange:k=>w(k.target.value),className:"form-input",children:I.map(k=>s.jsx("option",{value:k==="Tous"?"":k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Note minimale"}),s.jsxs("select",{value:y,onChange:k=>_(Number(k.target.value)),className:"form-input",children:[s.jsx("option",{value:0,children:"Toutes les notes"}),s.jsx("option",{value:4,children:"4+ toiles"}),s.jsx("option",{value:3,children:"3+ toiles"}),s.jsx("option",{value:2,children:"2+ toiles"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx("input",{type:"checkbox",id:"verified",checked:N,onChange:k=>C(k.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),s.jsx("label",{htmlFor:"verified",className:"text-sm text-gray-700",children:"Commerces vrifis uniquement"})]}),s.jsx("div",{className:"pt-8",children:s.jsx("button",{onClick:()=>{p(""),w(""),_(0),C(!1),c&&r(ki({location:c,radius:50}))},className:"btn-secondary w-full",children:"Rinitialiser"})})]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[T.length," commerce",T.length!==1?"s":""," trouv",T.length!==1?"s":""]}),c&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 inline mr-1 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Rayon de 50km"]})]}),a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((k,S)=>s.jsxs("div",{className:"card animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200 rounded-t-xl"}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},S))}):T.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(k=>s.jsxs(ht,{to:`/commerces/${k.id}`,className:"card hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-t-xl flex items-center justify-center relative",children:[s.jsx("svg",{className:"w-16 h-16 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),k.isVerified&&s.jsx("div",{className:"absolute top-3 right-3 bg-emerald-500 text-white p-1 rounded-full",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:k.name}),s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:k.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"truncate",children:k.address})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-emerald-600 font-medium",children:k.category}),k.distance&&s.jsxs("span",{className:"text-gray-500",children:[Number(k.distance||0).toFixed(1)," km"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((S,R)=>s.jsx("svg",{className:`w-4 h-4 ${R<Math.floor(k.rating||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},R))}),s.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",Number(k.rating||0).toFixed(1),")"]})]})]})]})]},k.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun commerce trouv"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche ou d'activer la golocalisation"}),!c&&s.jsx("button",{onClick:O,className:"btn-primary",children:"Activer la golocalisation"})]})]})]})},Aw=()=>{const{id:r}=jp(),i=mt(),{currentCommerce:a,loading:c,error:h}=Ae(S=>S.commerce),{products:p,loading:g}=Ae(S=>S.product),{currentLocation:w}=Ae(S=>S.location),[y,_]=D.useState(""),[N,C]=D.useState("name");D.useEffect(()=>{r&&(i(Pa(Number(r))),i(Ea(Number(r))))},[r,i]);const I=S=>{i(kh({product:S,quantity:1}))},W=Array.isArray(p)?p.filter(S=>S.isAvailable&&S.stock>0):[],T=[...Array.isArray(W)?W.filter(S=>!(y&&S.category!==y)):[]].sort((S,R)=>{switch(N){case"price":return S.price-R.price;case"stock":return R.stock-S.stock;case"name":default:return S.name.localeCompare(R.name)}}),k=Array.from(new Set(W.map(S=>S.category)));return c?s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(6)].map((S,R)=>s.jsx("div",{className:"h-64 bg-gray-200 rounded"},R))})]})}):h||!a?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Commerce introuvable"}),s.jsx("p",{className:"text-gray-600 mb-6",children:h||"Ce commerce n'existe pas ou a t supprim"}),s.jsx(ht,{to:"/commerces",className:"btn-primary",children:"Retour aux commerces"})]}):s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:s.jsx("div",{className:"p-6 lg:p-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),a.isVerified&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Vrifi"]})]}),a.category&&s.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full mb-3",children:a.category}),a.description&&s.jsx("p",{className:"text-gray-600 text-lg mb-4 max-w-2xl",children:a.description})]}),a.rating&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((S,R)=>s.jsx("svg",{className:`w-5 h-5 ${R<Math.floor(Number(a.rating)||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},R))}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:Number(a.rating||0).toFixed(1)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),a.adress1||a.address]}),a.phone&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.phone]}),a.email&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.email]}),a.distance&&s.jsxs("div",{className:"flex items-center text-emerald-600 font-medium",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.distance.toFixed(1)," km"]})]})]}),a.latitude&&a.longitude&&s.jsx("div",{className:"w-full lg:w-80 h-64 lg:h-80",children:s.jsx(Rg,{center:[a.latitude,a.longitude],zoom:15,commerces:[a],userLocation:w,height:"100%",className:"w-full h-full rounded-lg"})})]})})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6 lg:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Produits disponibles"}),s.jsxs("p",{className:"text-gray-600",children:[W.length," produit",W.length!==1?"s":""," en stock"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 sm:mt-0",children:[s.jsxs("select",{value:y,onChange:S=>_(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[s.jsx("option",{value:"",children:"Toutes catgories"}),k.map(S=>s.jsx("option",{value:S,children:S},S))]}),s.jsxs("select",{value:N,onChange:S=>C(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[s.jsx("option",{value:"name",children:"Trier par nom"}),s.jsx("option",{value:"price",children:"Trier par prix"}),s.jsx("option",{value:"stock",children:"Trier par stock"})]})]})]}),g?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((S,R)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},R))}):T.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit disponible"}),s.jsx("p",{className:"text-gray-600",children:"Ce commerce n'a pas encore ajout de produits ou tous sont en rupture de stock."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(S=>s.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:[s.jsx("div",{className:"h-48 bg-gray-100 rounded-t-xl overflow-hidden",children:S.imageUrl?s.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 flex-1",children:S.name}),s.jsx("span",{className:"ml-2 inline-block px-2 py-1 bg-emerald-100 text-emerald-800 text-xs font-medium rounded-full",children:S.category})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[S.price.toFixed(2),""]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["par ",S.unit]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Stock: ",S.stock]}),S.stock<=5&&S.stock>0&&s.jsx("div",{className:"text-xs text-orange-600 font-medium",children:"Stock faible"})]})]}),s.jsx("button",{onClick:()=>I(S),disabled:S.stock===0,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:S.stock===0?"Rupture de stock":"Ajouter au panier"})]})]},S.id))})]})})]})},Ow=()=>{const r=mt(),{products:i,loading:a,sortBy:c}=Ae(R=>R.product),{currentLocation:h}=Ae(R=>R.location),[p,g]=D.useState(""),[w,y]=D.useState(""),[_,N]=D.useState(""),[C,I]=D.useState(""),W=["Tous","Bananes plantain","Fruits locaux","Lgumes frais","pices","Crales","Tubercules"];D.useEffect(()=>{r(h?us({location:h||void 0}):us())},[h,r]);const O=()=>{p.trim()?r(Pc({query:p,location:h||void 0,filters:{category:w||void 0,minPrice:_?Number(_):void 0,maxPrice:C?Number(C):void 0}})):r(us({location:h||void 0}))},T=R=>{r(kh({product:R,quantity:1})),window.addNotification&&window.addNotification({type:"success",title:"Produit ajout",message:`${R.name} a t ajout au panier`})},k=()=>{r(ho())},S=Array.isArray(i)?i.filter(R=>!(w&&w!=="Tous"&&R.category!==w||_&&R.price&&R.price<Number(_)||C&&R.price&&R.price>Number(C))):[];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-gray-600",children:[S.length," produit",S.length!==1?"s":""," disponible",S.length!==1?"s":""]})}),!h&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Activez la golocalisation"}),s.jsx("p",{className:"text-gray-600",children:"Pour voir les produits les plus proches"})]})]}),s.jsx("button",{onClick:k,className:"btn-primary",children:"Activer"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:p,onChange:R=>g(R.target.value),className:"form-input",onKeyPress:R=>R.key==="Enter"&&O()})}),s.jsx("button",{onClick:O,disabled:a,className:"btn-primary px-8",children:a?"Recherche...":"Rechercher"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Catgorie"}),s.jsx("select",{value:w,onChange:R=>y(R.target.value),className:"form-input",children:W.map(R=>s.jsx("option",{value:R==="Tous"?"":R,children:R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Prix min ()"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:_,onChange:R=>N(R.target.value),className:"form-input",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Prix max ()"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:C,onChange:R=>I(R.target.value),className:"form-input",placeholder:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Trier par"}),s.jsxs("select",{value:c,onChange:R=>r(Z_(R.target.value)),className:"form-input",children:[s.jsx("option",{value:"name",children:"Nom"}),s.jsx("option",{value:"price",children:"Prix"}),s.jsx("option",{value:"rating",children:"Note"}),s.jsx("option",{value:"distance",children:"Distance"})]})]}),s.jsx("div",{className:"pt-8",children:s.jsx("button",{onClick:()=>{g(""),y(""),N(""),I(""),r(us({location:h||void 0}))},className:"btn-secondary w-full",children:"Rinitialiser"})})]})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[S.length," produit",S.length!==1?"s":""," trouv",S.length!==1?"s":""]})}),a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((R,$)=>s.jsxs("div",{className:"card animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200 rounded-t-xl"}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},$))}):S.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(R=>s.jsxs("div",{className:"card hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-t-xl flex items-center justify-center relative",children:[R.imageUrl?s.jsx("img",{src:R.imageUrl,alt:R.name,className:"w-full h-full object-cover rounded-t-xl"}):s.jsx("svg",{className:"w-16 h-16 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),!R.isAvailable&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-t-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:"Indisponible"})})]}),s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:R.name}),s.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:R.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[R.price?R.price.toFixed(2):"0.00",""]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["/ ",R.unit||"unit"]})]}),R.commerce&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"truncate",children:R.commerce.name})]}),R.commerce.distance&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[typeof R.commerce.distance=="number"?R.commerce.distance.toFixed(1):R.commerce.distance," km"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:R.category||"Non catgoris"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",R.stock||0]})]}),s.jsx("button",{onClick:()=>T(R),disabled:!R.isAvailable||(R.stock||0)===0,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${R.isAvailable&&(R.stock||0)>0?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:R.isAvailable?(R.stock||0)===0?"Rupture de stock":"Ajouter au panier":"Indisponible"})]})]})]},R.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun produit trouv"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche"})]})]})]})},Zg=({initialProductName:r="",onSuccess:i,onCancel:a,className:c=""})=>{const h=mt(),{creating:p,createError:g}=Ae(T=>T.productInterest),{position:w}=Ae(T=>T.location),{user:y}=Ae(T=>T.auth),[_,N]=D.useState({product_name:r,message:"",search_radius:25}),[C,I]=D.useState(!0);D.useEffect(()=>{r&&N(T=>({...T,product_name:r}))},[r]),D.useEffect(()=>()=>{h(o1())},[h]);const W=async T=>{if(T.preventDefault(),!y){h(bi({type:"error",message:"Vous devez tre connect pour manifester votre intrt"}));return}if(!_.product_name.trim()){h(bi({type:"error",message:"Veuillez spcifier le nom du produit"}));return}let k,S;if(C&&w&&(k=w.latitude,S=w.longitude),!k||!S){h(bi({type:"error",message:"Position gographique requise pour crer une manifestation d'intrt"}));return}try{await h(Mc({..._,latitude:k,longitude:S})).unwrap(),h(bi({type:"success",message:"Manifestation d'intrt enregistre ! Nous vous notifierons ds qu'un produit correspondant sera disponible."})),N({product_name:"",message:"",search_radius:25}),i==null||i()}catch{}},O=T=>{const{name:k,value:S}=T.target;N(R=>({...R,[k]:k==="search_radius"?parseInt(S)||0:S}))};return s.jsxs(tt,{className:c,children:[s.jsxs(tt.Header,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Manifester votre intrt"}),a&&s.jsx("button",{onClick:a,className:"text-slate-400 hover:text-slate-600 p-1 rounded transition-all duration-200",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Vous ne trouvez pas un produit ? Manifestez votre intrt et nous vous notifierons ds qu'il sera disponible prs de vous !"})]}),s.jsx(tt.Body,{children:s.jsxs("form",{id:"product-interest-form",onSubmit:W,className:"space-y-6",children:[s.jsx(Hc,{label:"Nom du produit *",type:"text",name:"product_name",value:_.product_name,onChange:O,placeholder:"Ex: Tomates fraches, Pain complet, etc.",disabled:p,required:!0}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"search_radius",className:"block text-sm font-medium text-slate-700 mb-2",children:["Rayon de recherche: ",_.search_radius," km"]}),s.jsx("input",{type:"range",id:"search_radius",name:"search_radius",min:"5",max:"100",step:"5",value:_.search_radius,onChange:O,className:"w-full h-2 bg-slate-200 rounded-pill appearance-none cursor-pointer accent-brand-500",disabled:p}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[s.jsx("span",{children:"5 km"}),s.jsx("span",{children:"100 km"})]})]}),s.jsx(Hc.Textarea,{label:"Message complmentaire (optionnel)",name:"message",value:_.message,onChange:O,placeholder:"Prcisez vos prfrences (quantit, qualit, prix, etc.)",rows:3,disabled:p}),s.jsxs(Oa,{variant:"info",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-sm",children:[" Position: ",w?"Dtecte":"Non disponible"]})}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:T=>I(T.target.checked),className:"mr-2 rounded border-slate-300 text-brand-600 focus:ring-brand-500",disabled:!w||p}),s.jsx("span",{className:"text-sm",children:"Utiliser ma position"})]})]}),w&&s.jsxs("p",{className:"text-xs mt-2 opacity-75",children:["Lat: ",w.latitude.toFixed(4),", Lng: ",w.longitude.toFixed(4)]})]}),g&&s.jsx(Oa,{variant:"error",children:g})]})}),s.jsxs(tt.Footer,{className:"justify-between",children:[a&&s.jsx(tn,{type:"button",variant:"secondary",onClick:a,disabled:p,children:"Annuler"}),s.jsx(tn,{type:"submit",form:"product-interest-form",loading:p,disabled:!w||!_.product_name.trim(),className:a?"":"ml-auto",children:p?"Enregistrement...":" Notifier quand disponible"})]})]})};function ph(r){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ph(r)}function qn(r,i){if(i.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+i.length+" present")}function Ft(r){qn(1,arguments);var i=Object.prototype.toString.call(r);return r instanceof Date||ph(r)==="object"&&i==="[object Date]"?new Date(r.getTime()):typeof r=="number"||i==="[object Number]"?new Date(r):((typeof r=="string"||i==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Iw={};function Dw(){return Iw}function cp(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}function zc(r,i){qn(2,arguments);var a=Ft(r),c=Ft(i),h=a.getTime()-c.getTime();return h<0?-1:h>0?1:h}function Bw(r,i){qn(2,arguments);var a=Ft(r),c=Ft(i),h=a.getFullYear()-c.getFullYear(),p=a.getMonth()-c.getMonth();return h*12+p}function Fw(r,i){return qn(2,arguments),Ft(r).getTime()-Ft(i).getTime()}var Uw={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(i){return i<0?Math.ceil(i):Math.floor(i)}},Ww="trunc";function $w(r){return Uw[Ww]}function Hw(r){qn(1,arguments);var i=Ft(r);return i.setHours(23,59,59,999),i}function Zw(r){qn(1,arguments);var i=Ft(r),a=i.getMonth();return i.setFullYear(i.getFullYear(),a+1,0),i.setHours(23,59,59,999),i}function Vw(r){qn(1,arguments);var i=Ft(r);return Hw(i).getTime()===Zw(i).getTime()}function qw(r,i){qn(2,arguments);var a=Ft(r),c=Ft(i),h=zc(a,c),p=Math.abs(Bw(a,c)),g;if(p<1)g=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-h*p);var w=zc(a,c)===-h;Vw(Ft(r))&&p===1&&zc(r,c)===1&&(w=!1),g=h*(p-Number(w))}return g===0?0:g}function Gw(r,i,a){qn(2,arguments);var c=Fw(r,i)/1e3;return $w()(c)}var Kw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jw=function(i,a,c){var h,p=Kw[i];return typeof p=="string"?h=p:a===1?h=p.one:h=p.other.replace("{{count}}",a.toString()),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"in "+h:h+" ago":h};function mo(r){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=i.width?String(i.width):r.defaultWidth,c=r.formats[a]||r.formats[r.defaultWidth];return c}}var Qw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eb={date:mo({formats:Qw,defaultWidth:"full"}),time:mo({formats:Xw,defaultWidth:"full"}),dateTime:mo({formats:Yw,defaultWidth:"full"})},tb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nb=function(i,a,c,h){return tb[i]};function lr(r){return function(i,a){var c=a!=null&&a.context?String(a.context):"standalone",h;if(c==="formatting"&&r.formattingValues){var p=r.defaultFormattingWidth||r.defaultWidth,g=a!=null&&a.width?String(a.width):p;h=r.formattingValues[g]||r.formattingValues[p]}else{var w=r.defaultWidth,y=a!=null&&a.width?String(a.width):r.defaultWidth;h=r.values[y]||r.values[w]}var _=r.argumentCallback?r.argumentCallback(i):i;return h[_]}}var rb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ib={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ob={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ab={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cb=function(i,a){var c=Number(i),h=c%100;if(h>20||h<10)switch(h%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},ub={ordinalNumber:cb,era:lr({values:rb,defaultWidth:"wide"}),quarter:lr({values:ib,defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:lr({values:sb,defaultWidth:"wide"}),day:lr({values:ob,defaultWidth:"wide"}),dayPeriod:lr({values:ab,defaultWidth:"wide",formattingValues:lb,defaultFormattingWidth:"wide"})};function cr(r){return function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=a.width,h=c&&r.matchPatterns[c]||r.matchPatterns[r.defaultMatchWidth],p=i.match(h);if(!p)return null;var g=p[0],w=c&&r.parsePatterns[c]||r.parsePatterns[r.defaultParseWidth],y=Array.isArray(w)?hb(w,function(C){return C.test(g)}):db(w,function(C){return C.test(g)}),_;_=r.valueCallback?r.valueCallback(y):y,_=a.valueCallback?a.valueCallback(_):_;var N=i.slice(g.length);return{value:_,rest:N}}}function db(r,i){for(var a in r)if(r.hasOwnProperty(a)&&i(r[a]))return a}function hb(r,i){for(var a=0;a<r.length;a++)if(i(r[a]))return a}function Vg(r){return function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.match(r.matchPattern);if(!c)return null;var h=c[0],p=i.match(r.parsePattern);if(!p)return null;var g=r.valueCallback?r.valueCallback(p[0]):p[0];g=a.valueCallback?a.valueCallback(g):g;var w=i.slice(h.length);return{value:g,rest:w}}}var fb=/^(\d+)(th|st|nd|rd)?/i,mb=/\d+/i,pb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gb={any:[/^b/i,/^(a|c)/i]},xb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vb={any:[/1/i,/2/i,/3/i,/4/i]},yb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_b={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kb={ordinalNumber:Vg({matchPattern:fb,parsePattern:mb,valueCallback:function(i){return parseInt(i,10)}}),era:cr({matchPatterns:pb,defaultMatchWidth:"wide",parsePatterns:gb,defaultParseWidth:"any"}),quarter:cr({matchPatterns:xb,defaultMatchWidth:"wide",parsePatterns:vb,defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:cr({matchPatterns:yb,defaultMatchWidth:"wide",parsePatterns:_b,defaultParseWidth:"any"}),day:cr({matchPatterns:wb,defaultMatchWidth:"wide",parsePatterns:bb,defaultParseWidth:"any"}),dayPeriod:cr({matchPatterns:jb,defaultMatchWidth:"any",parsePatterns:Nb,defaultParseWidth:"any"})},Cb={code:"en-US",formatDistance:Jw,formatLong:eb,formatRelative:nb,localize:ub,match:kb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qg(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return r}function Sb(r){return qg({},r)}var up=1440,Pb=2520,Kd=43200,Eb=86400;function Lb(r,i,a){var c,h;qn(2,arguments);var p=Dw(),g=(c=(h=a==null?void 0:a.locale)!==null&&h!==void 0?h:p.locale)!==null&&c!==void 0?c:Cb;if(!g.formatDistance)throw new RangeError("locale must contain formatDistance property");var w=zc(r,i);if(isNaN(w))throw new RangeError("Invalid time value");var y=qg(Sb(a),{addSuffix:!!(a!=null&&a.addSuffix),comparison:w}),_,N;w>0?(_=Ft(i),N=Ft(r)):(_=Ft(r),N=Ft(i));var C=Gw(N,_),I=(cp(N)-cp(_))/1e3,W=Math.round((C-I)/60),O;if(W<2)return a!=null&&a.includeSeconds?C<5?g.formatDistance("lessThanXSeconds",5,y):C<10?g.formatDistance("lessThanXSeconds",10,y):C<20?g.formatDistance("lessThanXSeconds",20,y):C<40?g.formatDistance("halfAMinute",0,y):C<60?g.formatDistance("lessThanXMinutes",1,y):g.formatDistance("xMinutes",1,y):W===0?g.formatDistance("lessThanXMinutes",1,y):g.formatDistance("xMinutes",W,y);if(W<45)return g.formatDistance("xMinutes",W,y);if(W<90)return g.formatDistance("aboutXHours",1,y);if(W<up){var T=Math.round(W/60);return g.formatDistance("aboutXHours",T,y)}else{if(W<Pb)return g.formatDistance("xDays",1,y);if(W<Kd){var k=Math.round(W/up);return g.formatDistance("xDays",k,y)}else if(W<Eb)return O=Math.round(W/Kd),g.formatDistance("aboutXMonths",O,y)}if(O=qw(N,_),O<12){var S=Math.round(W/Kd);return g.formatDistance("xMonths",S,y)}else{var R=O%12,$=Math.floor(O/12);return R<3?g.formatDistance("aboutXYears",$,y):R<9?g.formatDistance("overXYears",$,y):g.formatDistance("almostXYears",$+1,y)}}function Gg(r,i){return qn(1,arguments),Lb(r,Date.now(),i)}var Tb={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},Mb=function(i,a,c){var h,p=Tb[i];return typeof p=="string"?h=p:a===1?h=p.one:h=p.other.replace("{{count}}",String(a)),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"dans "+h:"il y a "+h:h},Rb={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},zb={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ab={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ob={date:mo({formats:Rb,defaultWidth:"full"}),time:mo({formats:zb,defaultWidth:"full"}),dateTime:mo({formats:Ab,defaultWidth:"full"})},Ib={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},Db=function(i,a,c,h){return Ib[i]},Bb={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},Fb={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},Ub={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},Wb={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},$b={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},Hb=function(i,a){var c=Number(i),h=a==null?void 0:a.unit;if(c===0)return"0";var p=["year","week","hour","minute","second"],g;return c===1?g=h&&p.includes(h)?"re":"er":g="me",c+g},Zb={ordinalNumber:Hb,era:lr({values:Bb,defaultWidth:"wide"}),quarter:lr({values:Fb,defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:lr({values:Ub,defaultWidth:"wide"}),day:lr({values:Wb,defaultWidth:"wide"}),dayPeriod:lr({values:$b,defaultWidth:"wide"})},Vb=/^(\d+)(ime|re|me|er|e)?/i,qb=/\d+/i,Gb={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},Kb={any:[/^av/i,/^ap/i]},Jb={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},Qb={any:[/1/i,/2/i,/3/i,/4/i]},Xb={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},Yb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},e2={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},t2={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},n2={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},r2={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},i2={ordinalNumber:Vg({matchPattern:Vb,parsePattern:qb,valueCallback:function(i){return parseInt(i)}}),era:cr({matchPatterns:Gb,defaultMatchWidth:"wide",parsePatterns:Kb,defaultParseWidth:"any"}),quarter:cr({matchPatterns:Jb,defaultMatchWidth:"wide",parsePatterns:Qb,defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:cr({matchPatterns:Xb,defaultMatchWidth:"wide",parsePatterns:Yb,defaultParseWidth:"any"}),day:cr({matchPatterns:e2,defaultMatchWidth:"wide",parsePatterns:t2,defaultParseWidth:"any"}),dayPeriod:cr({matchPatterns:n2,defaultMatchWidth:"any",parsePatterns:r2,defaultParseWidth:"any"})},Kg={code:"fr",formatDistance:Mb,formatLong:Ob,formatRelative:Db,localize:Zb,match:i2,options:{weekStartsOn:1,firstWeekContainsDate:4}};const s2=({className:r="",showCreateButton:i=!0,onCreateClick:a})=>{const c=mt(),{interests:h,loading:p,error:g,currentPage:w,totalPages:y,totalCount:_}=Ae(k=>k.productInterest),{user:N}=Ae(k=>k.auth),[C,I]=D.useState(new Set);D.useEffect(()=>{N&&c(Tc({page:w}))},[c,N,w]);const W=async k=>{if(window.confirm("tes-vous sr de vouloir supprimer cette manifestation d'intrt ?")){I(S=>new Set(S).add(k));try{await c(bg(k)).unwrap(),c(bi({type:"success",message:"Manifestation d'intrt supprime"}))}catch{c(bi({type:"error",message:"Erreur lors de la suppression"}))}finally{I(S=>{const R=new Set(S);return R.delete(k),R})}}},O=k=>{c(a1(k))},T=k=>Gg(new Date(k),{addSuffix:!0,locale:Kg});return N?p&&h.length===0?s.jsx(tt,{className:r,children:s.jsx(tt.Body,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((k,S)=>s.jsx("div",{className:"h-20 bg-slate-100 rounded-md"},S))})})}):s.jsxs(tt,{className:r,children:[s.jsx(tt.Header,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Mes manifestations d'intrt"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[_," manifestation",_!==1?"s":""," d'intrt"]})]}),i&&s.jsx(tn,{onClick:a,size:"sm",className:"shrink-0",children:" Nouvelle manifestation"})]})}),s.jsxs(tt.Body,{children:[g&&s.jsx("div",{className:"mb-6",children:s.jsx(Oa,{variant:"error",children:g})}),s.jsx("div",{className:"space-y-6",children:h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Aucune manifestation d'intrt"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Vous n'avez pas encore manifest votre intrt pour des produits."}),i&&a&&s.jsx(tn,{onClick:a,children:"Crer une manifestation d'intrt"})]}):h.map(k=>s.jsx("div",{className:"p-6 border border-slate-200 rounded-lg hover:border-slate-300 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h4",{className:"text-md font-semibold text-slate-900",children:k.product_name}),k.fulfilled?s.jsx(La,{variant:"success",children:" Satisfait"}):s.jsx(La,{variant:"warning",children:" En attente"}),k.email_sent&&s.jsx(La,{variant:"info",children:" Notifi"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("p",{children:[" Rayon de recherche: ",k.search_radius," km"]}),s.jsxs("p",{children:[" Cr ",T(k.created_at)]}),k.message&&s.jsx("div",{className:"bg-slate-50 p-3 rounded-md border-l-4 border-brand-200",children:s.jsxs("p",{className:"text-sm italic text-slate-700",children:[' "',k.message,'"']})}),k.fulfilled_at&&s.jsxs("p",{className:"text-brand-600 font-medium",children:[" Satisfait le ",T(k.fulfilled_at)]})]})]}),s.jsx("div",{className:"ml-4 flex items-center space-x-2",children:!k.fulfilled&&s.jsx(tn,{variant:"ghost",size:"sm",onClick:()=>W(k.id),loading:C.has(k.id),disabled:C.has(k.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]})},k.id))})]}),y>1&&s.jsxs(tt.Footer,{className:"justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",w," sur ",y]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>O(w-1),disabled:w===1||p,children:"Prcdent"}),s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>O(w+1),disabled:w===y||p,children:"Suivant"})]})]})]}):s.jsx(tt,{className:r,children:s.jsxs(tt.Body,{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Connexion requise"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Connectez-vous pour voir vos manifestations d'intrt"}),s.jsx(tn,{onClick:()=>window.location.href="/auth",children:"Se connecter"})]})})},o2=({className:r=""})=>{const i=mt(),{merchantInterests:a,merchantLoading:c,merchantError:h,merchantCurrentPage:p,merchantTotalPages:g,merchantTotalCount:w}=Ae(G=>G.productInterest),{user:y}=Ae(G=>G.auth),{products:_}=Ae(G=>G.product),[N,C]=D.useState(new Set),[I,W]=D.useState(50),O=(y==null?void 0:y.statut_type)==="itinerant"||(y==null?void 0:y.statut_type)==="sedentary";D.useEffect(()=>{O&&i(Rc({page:p}))},[i,O,p]);const T=async(G,se)=>{C(oe=>new Set(oe).add(G));try{const oe=await i(jg({productId:G,radius:I})).unwrap();i(bi({type:"success",message:`${oe.interests_notified} notifications envoyes pour "${se}"`}))}catch(oe){i(bi({type:"error",message:typeof oe=="string"?oe:"Erreur lors de l'envoi des notifications"}))}finally{C(oe=>{const ne=new Set(oe);return ne.delete(G),ne})}},k=G=>{i(l1(G))},S=G=>Gg(new Date(G),{addSuffix:!0,locale:Kg}),R=()=>{const G={};return a.forEach(se=>{const oe=se.product_name.toLowerCase();G[oe]||(G[oe]=[]),G[oe].push(se)}),G},$=G=>_.filter(se=>se.name.toLowerCase().includes(G.toLowerCase())&&se.unitsinstock>0);if(!O)return s.jsx(tt,{className:r,children:s.jsxs(tt.Body,{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Accs marchand requis"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Cette section est rserve aux marchands pour grer les manifestations d'intrt."}),s.jsx(tn,{onClick:()=>window.location.href="/dashboard",children:"Tableau de bord marchand"})]})});if(c&&a.length===0)return s.jsx(tt,{className:r,children:s.jsx(tt.Body,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((G,se)=>s.jsx("div",{className:"h-24 bg-slate-100 rounded-md"},se))})})});const K=R();return s.jsxs(tt,{className:r,children:[s.jsx(tt.Header,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Manifestations d'intrt pour mes produits"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[w," manifestation",w!==1?"s":""," d'intrt active",w!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Rayon de notification:"}),s.jsxs("select",{value:I,onChange:G=>W(parseInt(G.target.value)),className:"px-3 py-2 border border-slate-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-all duration-200",children:[s.jsx("option",{value:25,children:"25 km"}),s.jsx("option",{value:50,children:"50 km"}),s.jsx("option",{value:75,children:"75 km"}),s.jsx("option",{value:100,children:"100 km"})]})]})]})}),s.jsxs(tt.Body,{children:[h&&s.jsx("div",{className:"mb-6",children:s.jsx(Oa,{variant:"error",children:h})}),s.jsx("div",{className:"space-y-8",children:Object.keys(K).length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-slate-400 text-5xl mb-4",children:""}),s.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Aucune manifestation d'intrt"}),s.jsx("p",{className:"text-slate-600",children:"Il n'y a actuellement aucune manifestation d'intrt pour vos produits."})]}):Object.entries(K).map(([G,se])=>{const oe=$(G);return s.jsxs("div",{className:"p-6 border border-slate-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:[" ",se[0].product_name]}),s.jsxs("p",{className:"text-sm text-slate-600",children:[se.length," personne",se.length!==1?"s":""," intresse",se.length!==1?"s":""]})]}),oe.length>0&&s.jsxs("div",{className:"text-right",children:[s.jsxs(La,{variant:"success",className:"mb-3",children:[" ",oe.length," produit",oe.length!==1?"s":""," en stock"]}),s.jsx("div",{className:"space-y-2",children:oe.map(ne=>s.jsx(tn,{size:"sm",onClick:()=>T(ne.id,ne.name),loading:N.has(ne.id),disabled:N.has(ne.id),className:"block w-full",children:N.has(ne.id)?"Notification...":` Notifier pour "${ne.name}"`},ne.id))})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:se.map(ne=>s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-slate-900 text-sm",children:[" ",ne.user.name]}),s.jsx("p",{className:"text-xs text-slate-600",children:ne.user.email})]}),ne.distance&&s.jsxs(La,{variant:"info",className:"text-xs",children:[ne.distance," km"]})]}),s.jsxs("div",{className:"space-y-2 text-xs text-slate-600",children:[s.jsxs("p",{children:[" Rayon: ",ne.search_radius," km"]}),s.jsxs("p",{children:[" ",S(ne.created_at)]}),ne.message&&s.jsx("div",{className:"bg-white p-3 rounded-md border border-slate-200 mt-3",children:s.jsxs("p",{className:"text-xs italic text-slate-700",children:[' "',ne.message,'"']})})]})]},ne.id))}),oe.length===0&&s.jsx("div",{className:"mt-6",children:s.jsxs(Oa,{variant:"warning",children:[' Aucun produit correspondant en stock. Ajoutez "',G,'"  votre inventaire pour notifier ces clients.']})})]},G)})})]}),g>1&&s.jsxs(tt.Footer,{className:"justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",p," sur ",g]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>k(p-1),disabled:p===1||c,children:"Prcdent"}),s.jsx(tn,{variant:"secondary",size:"sm",onClick:()=>k(p+1),disabled:p===g||c,children:"Suivant"})]})]})]})},a2=()=>{const{id:r}=jp(),i=mt(),{currentProduct:a,loading:c,error:h}=Ae(S=>S.product),{user:p}=Ae(S=>S.auth),[g,w]=D.useState(1),[y,_]=D.useState(0),[N,C]=D.useState(!1);D.useEffect(()=>{r&&i(Sc(Number(r)))},[r,i]);const I=()=>{a&&i(kh({product:a,quantity:g}))},W=S=>{S>=1&&S<=((a==null?void 0:a.stock)||1)&&w(S)},O=()=>{if(!p){window.location.href="/auth";return}C(!0)},T=()=>{C(!1)},k=a!=null&&a.imageUrl?[a.imageUrl]:[];return c?s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg mb-4"}),s.jsx("div",{className:"flex space-x-2",children:[...Array(3)].map((S,R)=>s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded"},R))})]}),s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-2/3"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4 w-1/3"}),s.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})}):h||!a?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Produit introuvable"}),s.jsx("p",{className:"text-gray-600 mb-6",children:h||"Ce produit n'existe pas ou a t supprim"}),s.jsx(ht,{to:"/products",className:"btn-primary",children:"Retour aux produits"})]}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:s.jsxs("ol",{className:"flex items-center space-x-4",children:[s.jsx("li",{children:s.jsx(ht,{to:"/",className:"text-gray-400 hover:text-gray-500",children:"Accueil"})}),s.jsx("li",{children:s.jsx("svg",{className:"flex-shrink-0 h-4 w-4 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})}),s.jsx("li",{children:s.jsx(ht,{to:"/products",className:"text-gray-400 hover:text-gray-500",children:"Produits"})}),s.jsx("li",{children:s.jsx("svg",{className:"flex-shrink-0 h-4 w-4 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})})}),s.jsx("li",{children:s.jsx("span",{className:"text-gray-500 font-medium",children:a.name})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-xl overflow-hidden mb-4",children:k.length>0?s.jsx("img",{src:k[y],alt:a.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-24 h-24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),k.length>1&&s.jsx("div",{className:"flex space-x-2",children:k.map((S,R)=>s.jsx("button",{onClick:()=>_(R),className:`flex-1 aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 ${y===R?"border-emerald-500":"border-transparent"}`,children:s.jsx("img",{src:S,alt:`${a.name} - vue ${R+1}`,className:"w-full h-full object-cover"})},R))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"inline-block px-3 py-1 bg-emerald-100 text-emerald-800 text-sm font-medium rounded-full mb-3",children:a.category}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:a.name}),s.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:a.description})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[a.price.toFixed(2),""]}),s.jsxs("span",{className:"text-lg text-gray-500",children:["par ",a.unit]})]})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${a.stock>10?"bg-green-500":a.stock>0?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.stock>0?s.jsxs(s.Fragment,{children:[a.stock," ",a.unit,a.stock>1?"s":""," en stock",a.stock<=5&&s.jsx("span",{className:"text-orange-600 ml-2",children:"(Stock faible)"})]}):s.jsx("span",{className:"text-red-600",children:"Rupture de stock"})})]})}),a.commerce&&s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Vendu par"}),s.jsxs(ht,{to:`/commerces/${a.commerce.id}`,className:"flex items-center space-x-3 hover:bg-gray-100 rounded-lg p-2 transition-colors",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-emerald-600 font-medium text-lg",children:a.commerce.name[0]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:a.commerce.name}),a.commerce.isVerified&&s.jsx("svg",{className:"w-4 h-4 text-emerald-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),s.jsx("p",{className:"text-sm text-gray-600",children:a.commerce.category}),a.commerce.distance&&s.jsxs("p",{className:"text-sm text-emerald-600 font-medium",children:[a.commerce.distance.toFixed(1)," km"]})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),a.stock>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Quantit"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>W(g-1),disabled:g<=1,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"px-4 py-2 text-lg font-medium text-gray-900 min-w-[3rem] text-center",children:g}),s.jsx("button",{onClick:()=>W(g+1),disabled:g>=a.stock,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[a.unit," disponible",a.stock>1?"s":""]})]}),s.jsx("div",{className:"mb-4 p-3 bg-emerald-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Prix total"}),s.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[(a.price*g).toFixed(2),""]})]})}),s.jsxs("button",{onClick:I,className:"w-full btn-primary text-lg py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),"Ajouter au panier"]})]}),a.stock===0&&s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("h4",{className:"text-yellow-800 font-medium",children:"Produit en rupture de stock"})]}),s.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"Ce produit n'est actuellement pas disponible. Manifestez votre intrt et nous vous notifierons ds qu'il sera  nouveau en stock prs de vous !"}),s.jsxs("button",{onClick:O,className:"w-full bg-yellow-600 text-white font-medium py-3 px-4 rounded-lg hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5v-9a4 4 0 118 0v9z"})})," Me notifier quand disponible"]})]})}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informations produit"}),s.jsxs("dl",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Catgorie"}),s.jsx("dd",{className:"text-sm font-medium text-gray-900",children:a.category})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Unit de vente"}),s.jsx("dd",{className:"text-sm font-medium text-gray-900",children:a.unit})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Disponibilit"}),s.jsx("dd",{className:`text-sm font-medium ${a.isAvailable?"text-green-600":"text-red-600"}`,children:a.isAvailable?"Disponible":"Non disponible"})]}),a.createdAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-sm text-gray-600",children:"Ajout le"}),s.jsx("dd",{className:"text-sm font-medium text-gray-900",children:new Date(a.createdAt).toLocaleDateString("fr-FR")})]})]})]})]})]}),s.jsx(Ia,{isOpen:N,onClose:()=>C(!1),title:"Manifestation d'intrt",size:"md",children:s.jsx(Zg,{initialProductName:(a==null?void 0:a.name)||"",onSuccess:T,onCancel:()=>C(!1)})})]})},l2=()=>{const r=mt(),{items:i,totalItems:a,totalPrice:c,deliveryFee:h}=Ae(_=>_.cart),p=_=>{r(mg(_))},g=(_,N)=>{r(pg({itemId:_,quantity:N}))},w=()=>{r(gg())},y=c+h;return i.length===0?s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Votre panier est vide"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Dcouvrez nos produits frais et ajoutez-les  votre panier"}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(ht,{to:"/products",className:"btn-primary",children:"Voir les produits"}),s.jsx(ht,{to:"/commerces",className:"btn-secondary",children:"Dcouvrir les commerces"})]})]})}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Panier (",a," article",a!==1?"s":"",")"]}),s.jsx("p",{className:"text-gray-600",children:"Vrifiez vos articles avant de passer commande"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," article",i.length!==1?"s":""," dans votre panier"]}),s.jsx("button",{onClick:w,className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Vider le panier"})]}),s.jsx("div",{className:"space-y-4",children:i.map(_=>s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:_.product.imageUrl?s.jsx("img",{src:_.product.imageUrl,alt:_.product.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.product.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:_.product.description}),_.product.commerce&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Vendu par ",_.product.commerce.name]}),s.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:_.product.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[_.unitPrice.toFixed(2),""]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["/ ",_.product.unit]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>g(_.id,_.quantity-1),className:"w-10 h-10 flex items-center justify-center bg-gray-100 border border-gray-300 rounded-full hover:bg-gray-200 transition-colors",disabled:_.quantity<=1,children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"text-lg font-medium w-12 text-center",children:_.quantity}),s.jsx("button",{onClick:()=>g(_.id,_.quantity+1),className:"w-10 h-10 flex items-center justify-center bg-gray-100 border border-gray-300 rounded-full hover:bg-gray-200 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[_.totalPrice.toFixed(2),""]})}),s.jsx("button",{onClick:()=>p(_.id),className:"p-2 text-red-400 hover:text-red-600 transition-colors","aria-label":"Supprimer du panier",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})},_.id))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"card sticky top-6",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Rcapitulatif"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["Sous-total (",a," articles)"]}),s.jsxs("span",{className:"font-medium",children:[c.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Frais de livraison"}),s.jsxs("span",{className:"font-medium",children:[h.toFixed(2),""]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[y.toFixed(2),""]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ht,{to:"/checkout",className:"btn-primary w-full text-center block",children:"Passer commande"}),s.jsx(ht,{to:"/products",className:"btn-secondary w-full text-center block",children:"Continuer mes achats"})]}),s.jsx("div",{className:"mt-6 p-4 bg-emerald-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("svg",{className:"w-5 h-5 text-emerald-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),s.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707L16 7.586A1 1 0 0015.414 7H14z"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-emerald-900",children:"Livraison sous 24-48h"}),s.jsx("p",{className:"text-sm text-emerald-700",children:"Livraison gratuite  partir de 50"})]})]})})]})})})]})]})},c2=()=>{const r=gs(),i=mt(),{items:a,totalPrice:c,deliveryFee:h}=Ae($=>$.cart),{user:p,isAuthenticated:g}=Ae($=>$.auth),{loading:w}=Ae($=>$.order),[y,_]=D.useState({deliveryAddress:{street:"",city:"",postalCode:"",country:"France",latitude:0,longitude:0},phone:(p==null?void 0:p.phone)||"",notes:"",paymentMethod:"card"}),[N,C]=D.useState({}),[I,W]=D.useState(!1),[O]=D.useState([]),T=c+h;D.useEffect(()=>{if(!g){r("/auth?redirect=/checkout");return}if(a.length===0){r("/cart");return}},[g,a.length,r]);const k=()=>{const $={};return y.deliveryAddress.street.trim()||($.street="L'adresse est requise"),y.deliveryAddress.city.trim()||($.city="La ville est requise"),y.deliveryAddress.postalCode.trim()||($.postalCode="Le code postal est requis"),y.phone.trim()||($.phone="Le tlphone est requis"),C($),Object.keys($).length===0},S=($,K)=>{if($.startsWith("address.")){const G=$.replace("address.","");_(se=>({...se,deliveryAddress:{...se.deliveryAddress,[G]:K}}))}else _(G=>({...G,[$]:K}));N[$]&&C(G=>({...G,[$]:""}))},R=async()=>{if(k())try{const $={items:a.map(G=>({productId:G.productId,quantity:G.quantity,unitPrice:G.unitPrice})),deliveryAddress:y.deliveryAddress,phone:y.phone,notes:y.notes,paymentMethod:y.paymentMethod,totalPrice:c,deliveryFee:h,grandTotal:T},K=await i(Lc($)).unwrap();K&&(i(J_()),r(`/orders/${K.id}`,{state:{success:!0,message:"Commande passe avec succs !"}}))}catch($){console.error("Erreur lors de la commande:",$)}};return!g||a.length===0?null:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Finaliser la commande"}),s.jsx("p",{className:"text-gray-600",children:"Vrifiez vos informations de livraison et finalisez votre commande"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Adresse de livraison"}),O.length>0&&s.jsx("div",{className:"mb-6",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:I,onChange:$=>W($.target.checked),className:"mr-3"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Utiliser une adresse enregistre"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Adresse *"}),s.jsx("input",{type:"text",value:y.deliveryAddress.street,onChange:$=>S("address.street",$.target.value),className:`form-input ${N.street?"border-red-500":""}`,placeholder:"123 Rue de la Rpublique"}),N.street&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.street})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Ville *"}),s.jsx("input",{type:"text",value:y.deliveryAddress.city,onChange:$=>S("address.city",$.target.value),className:`form-input ${N.city?"border-red-500":""}`,placeholder:"Angers"}),N.city&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Code postal *"}),s.jsx("input",{type:"text",value:y.deliveryAddress.postalCode,onChange:$=>S("address.postalCode",$.target.value),className:`form-input ${N.postalCode?"border-red-500":""}`,placeholder:"49000"}),N.postalCode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.postalCode})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informations de contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Tlphone *"}),s.jsx("input",{type:"tel",value:y.phone,onChange:$=>S("phone",$.target.value),className:`form-input ${N.phone?"border-red-500":""}`,placeholder:"06 12 34 56 78"}),N.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.phone})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"form-label",children:"Notes pour le livreur (optionnel)"}),s.jsx("textarea",{value:y.notes,onChange:$=>S("notes",$.target.value),className:"form-textarea",rows:3,placeholder:"Instructions spciales, code d'accs, etc."})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Mode de paiement"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:y.paymentMethod==="card",onChange:$=>S("paymentMethod",$.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9z"})}),s.jsx("span",{className:"font-medium",children:"Carte bancaire"})]})]}),s.jsxs("label",{className:"flex items-center p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:y.paymentMethod==="cash",onChange:$=>S("paymentMethod",$.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm5 3a1 1 0 000 2h2a1 1 0 100-2H9z"})}),s.jsx("span",{className:"font-medium",children:"Paiement  la livraison"})]})]})]})]})})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"card sticky top-6",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Rcapitulatif de commande"}),s.jsx("div",{className:"space-y-3 mb-6",children:a.map($=>s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:$.product.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[$.quantity,"  ",$.unitPrice.toFixed(2),""]})]}),s.jsxs("div",{className:"text-sm font-medium",children:[$.totalPrice.toFixed(2),""]})]},$.id))}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Sous-total"}),s.jsxs("span",{className:"font-medium",children:[c.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Frais de livraison"}),s.jsxs("span",{className:"font-medium",children:[h.toFixed(2),""]})]}),s.jsx("div",{className:"border-t border-gray-200 pt-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[T.toFixed(2),""]})]})})]}),s.jsx("button",{onClick:R,disabled:w,className:"btn-primary w-full",children:w?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Traitement..."]}):"Confirmer la commande"}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Paiement scuris"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Vos donnes sont protges et chiffres"})]})]})})]})})})]})]})},u2=()=>{const r=mt(),{orders:i,loading:a,error:c}=Ae(_=>_.order),{isAuthenticated:h}=Ae(_=>_.auth);D.useEffect(()=>{h&&r(fo())},[r,h]);const p=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=_=>{switch(_){case"pending":return"En attente";case"confirmed":return"Confirme";case"preparing":return"En prparation";case"delivered":return"Livre";case"cancelled":return"Annule";default:return _}},w=async _=>{if(confirm("tes-vous sr de vouloir annuler cette commande ?"))try{await r(yg(_)).unwrap()}catch(N){console.error("Erreur lors de l'annulation:",N)}},y=_=>_.status==="pending"||_.status==="confirmed";return h?a?s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mes commandes"})}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((_,N)=>s.jsx("div",{className:"card animate-pulse",children:s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},N))})]}):c?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-gray-600 mb-6",children:c}),s.jsx("button",{onClick:()=>r(fo()),className:"btn-primary",children:"Ressayer"})]}):i.length===0?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aucune commande"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Vous n'avez pas encore pass de commande"}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(ht,{to:"/products",className:"btn-primary",children:"Voir les produits"}),s.jsx(ht,{to:"/commerces",className:"btn-secondary",children:"Dcouvrir les commerces"})]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Mes commandes (",i.length,")"]}),s.jsx("p",{className:"text-gray-600",children:"Suivez l'tat de vos commandes et grez vos livraisons"})]}),s.jsx("div",{className:"space-y-6",children:i.map(_=>{var N,C,I,W,O;return s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Commande #",_.id]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Passe le ",new Date(_.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p(_.status)}`,children:g(_.status)}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[_.grandTotal?Number(_.grandTotal).toFixed(2):"0.00",""]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[_.items?_.items.reduce((T,k)=>T+(k.quantity||0),0):0," article",(((N=_.items)==null?void 0:N.length)||0)>1?"s":""]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Articles commands"}),s.jsx("div",{className:"space-y-3",children:(_.items||[]).map((T,k)=>{var S,R,$,K;return s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:(S=T.product)!=null&&S.imageUrl?s.jsx("img",{src:T.product.imageUrl,alt:((R=T.product)==null?void 0:R.name)||"Produit",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900",children:(($=T.product)==null?void 0:$.name)||"Produit inconnu"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[T.quantity||0,"  ",T.unitPrice?Number(T.unitPrice).toFixed(2):"0.00",""]}),((K=T.product)==null?void 0:K.commerce)&&s.jsx("p",{className:"text-sm text-gray-500",children:T.product.commerce.name})]})]}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[T.totalPrice?Number(T.totalPrice).toFixed(2):"0.00",""]})]},k)})})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Adresse de livraison"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:((C=_.deliveryAddress)==null?void 0:C.street)||"Adresse non renseigne"}),s.jsxs("p",{children:[((I=_.deliveryAddress)==null?void 0:I.postalCode)||""," ",((W=_.deliveryAddress)==null?void 0:W.city)||""]}),s.jsx("p",{children:((O=_.deliveryAddress)==null?void 0:O.country)||""})]}),_.phone&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Tlphone :"})," ",_.phone]}),_.notes&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Notes :"})," ",_.notes]})]}),s.jsx("div",{className:"border-t border-gray-100 pt-4 mb-6",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Sous-total"}),s.jsxs("span",{children:[_.totalAmount?Number(_.totalAmount).toFixed(2):"0.00",""]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Frais de livraison"}),s.jsxs("span",{children:[_.deliveryFee?Number(_.deliveryFee).toFixed(2):"0.00",""]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:[_.grandTotal?Number(_.grandTotal).toFixed(2):"0.00",""]})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 pt-4",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(ht,{to:`/orders/${_.id}`,className:"btn-secondary",children:"Voir les dtails"}),_.status==="delivered"&&s.jsx("button",{className:"btn-secondary",children:"Renouveler la commande"})]}),y(_)&&s.jsx("button",{onClick:()=>w(_.id),className:"text-red-600 hover:text-red-800 text-sm font-medium transition-colors",children:"Annuler la commande"})]})]})},_.id)})}),i.length>=10&&s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-4 py-2 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:"Prcdent"}),s.jsx("button",{className:"px-4 py-2 text-sm bg-emerald-600 text-white rounded-lg",children:"1"}),s.jsx("button",{className:"px-4 py-2 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:"Suivant"})]})})]}):s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("svg",{className:"w-24 h-24 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Connectez-vous pour voir vos commandes"}),s.jsx(ht,{to:"/auth",className:"btn-primary",children:"Se connecter"})]})},d2=()=>{var h;const{user:r,isAuthenticated:i}=Ae(p=>p.auth),[a,c]=D.useState(!1);return!i||!r?s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Accs non autoris"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Vous devez tre connect pour accder  votre profil"}),s.jsx("a",{href:"/auth",className:"btn-primary",children:"Se connecter"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center",children:r.avatar?s.jsx("img",{src:r.avatar,alt:r.name,className:"w-24 h-24 rounded-full object-cover"}):s.jsx("span",{className:"text-3xl font-bold text-emerald-600",children:((h=r.name)==null?void 0:h[0])||r.email[0].toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.name||"Utilisateur"}),s.jsx("p",{className:"text-gray-600 mb-2",children:r.email}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r.role==="itinerant"?"bg-blue-100 text-blue-800":r.role==="sedentary"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.role==="itinerant"?"Commerant itinrant":r.role==="sedentary"?"Commerant sdentaire":"Client"}),r.isVerified&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Compte vrifi"]})]})]}),s.jsx("button",{onClick:()=>c(!a),className:"btn-secondary",children:a?"Annuler":"Modifier"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations personnelles"}),a?s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Nom complet"}),s.jsx("input",{type:"text",defaultValue:r.name||"",className:"form-input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Tlphone"}),s.jsx("input",{type:"tel",defaultValue:r.phone||"",className:"form-input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",defaultValue:r.email,className:"form-input",disabled:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"L'email ne peut pas tre modifi"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"submit",className:"btn-primary",children:"Sauvegarder"}),s.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Annuler"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nom complet"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.name||"Non renseign"})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tlphone"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.phone||"Non renseign"})]})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.email})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Type de compte"}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.role==="itinerant"?"Commerant itinrant":r.role==="sedentary"?"Commerant sdentaire":"Client"})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("a",{href:"/orders",className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),s.jsx("span",{className:"text-gray-900",children:"Mes commandes"})]})}),(r.role==="itinerant"||r.role==="sedentary")&&s.jsx("a",{href:"/dashboard",className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("span",{className:"text-gray-900",children:"Mon commerce"})]})}),s.jsx("a",{href:"/favorites",className:"block w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsx("span",{className:"text-gray-900",children:"Mes favoris"})]})})]})]})}),(r.role==="itinerant"||r.role==="sedentary")&&s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Commandes ce mois"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"12"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Chiffre d'affaires"}),s.jsx("span",{className:"text-lg font-bold text-emerald-600",children:"385.50"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Note moyenne"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"4.8"}),s.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]})})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scurit"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),s.jsx("span",{className:"text-gray-900",children:"Changer mot de passe"})]})}),s.jsx("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-gray-900",children:"Vrification deux facteurs"})]})})]})]})})]})]})]})},h2=()=>{const r=mt(),i=gs(),{loading:a,error:c}=Ae(N=>N.auth),[h,p]=D.useState(!0),[g,w]=D.useState({email:"",password:"",name:"",role:"others",confirmPassword:""}),y=N=>{w({...g,[N.target.name]:N.target.value})},_=async N=>{if(N.preventDefault(),!h&&g.password!==g.confirmPassword){window.addNotification&&window.addNotification({type:"error",title:"Erreur",message:"Les mots de passe ne correspondent pas"});return}try{h?await r(jc({email:g.email,password:g.password})).unwrap():await r(Nc({email:g.email,password:g.password,role:g.role,name:g.name})).unwrap(),i("/"),window.addNotification&&window.addNotification({type:"success",title:"Succs",message:h?"Connexion russie":"Inscription russie"})}catch{}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mx-auto h-12 w-12 bg-emerald-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:h?"Connectez-vous":"Crez votre compte"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:h?s.jsxs(s.Fragment,{children:["Pas encore de compte ?"," ",s.jsx("button",{onClick:()=>p(!1),className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Inscrivez-vous"})]}):s.jsxs(s.Fragment,{children:["Dj un compte ?"," ",s.jsx("button",{onClick:()=>p(!0),className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Connectez-vous"})]})})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erreur d'authentification"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:c})]})]})}),s.jsxs("div",{className:"space-y-4",children:[!h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"form-label",children:"Nom complet"}),s.jsx("input",{id:"name",name:"name",type:"text",required:!h,value:g.name,onChange:y,className:"form-input",placeholder:"Votre nom complet"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"form-label",children:"Adresse email"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:g.email,onChange:y,className:"form-input",placeholder:"votre@email.com"})]}),!h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"form-label",children:"Type de compte"}),s.jsxs("select",{id:"role",name:"role",required:!h,value:g.role,onChange:y,className:"form-input",children:[s.jsx("option",{value:"others",children:"Client"}),s.jsx("option",{value:"itinerant",children:"Commerant itinrant"}),s.jsx("option",{value:"sedentary",children:"Commerant sdentaire"})]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[g.role==="itinerant"&&"Vendeur mobile qui se dplace",g.role==="sedentary"&&"Commerce avec adresse fixe",g.role==="others"&&"Acheteur de produits"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Mot de passe"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:h?"current-password":"new-password",required:!0,value:g.password,onChange:y,className:"form-input",placeholder:""})]}),!h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmer le mot de passe"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!h,value:g.confirmPassword,onChange:y,className:"form-input",placeholder:""})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full",children:a?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h?"Connexion...":"Inscription..."]}):s.jsx(s.Fragment,{children:h?"Se connecter":"S'inscrire"})})}),!h&&s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("p",{children:["En crant un compte, vous acceptez nos"," ",s.jsx("a",{href:"/terms",className:"text-emerald-600 hover:text-emerald-500",children:"conditions d'utilisation"})," ","et notre"," ",s.jsx("a",{href:"/privacy",className:"text-emerald-600 hover:text-emerald-500",children:"politique de confidentialit"}),"."]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Ou"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("a",{href:"/",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Continuer sans compte"})})]})]})})},f2=()=>{const{user:r}=Ae(w=>w.auth),[i,a]=D.useState(!1),[c,h]=D.useState("interests"),p=(r==null?void 0:r.statut_type)==="itinerant"||(r==null?void 0:r.statut_type)==="sedentary",g=()=>{a(!1)};return s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Manifestations d'intrt"}),s.jsx("p",{className:"text-gray-600",children:p?"Grez vos manifestations d'intrt et notifiez vos clients de la disponibilit de vos produits":"Manifestez votre intrt pour des produits et recevez des notifications quand ils sont disponibles"})]}),p&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>h("interests"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="interests"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Mes manifestations"}),s.jsx("button",{onClick:()=>h("merchant"),className:`py-2 px-1 border-b-2 font-medium text-sm ${c==="merchant"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Dashboard marchand"})]})})}),s.jsxs("div",{className:"space-y-6",children:[(!p||c==="interests")&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:()=>a(!0),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:" Nouvelle manifestation d'intrt"})}),s.jsx(s2,{onCreateClick:()=>a(!0),showCreateButton:!1})]}),p&&c==="merchant"&&s.jsx(o2,{})]}),s.jsx(Ia,{isOpen:i,onClose:()=>a(!1),title:"Nouvelle manifestation d'intrt",size:"md",children:s.jsx(Zg,{onSuccess:g,onCancel:()=>a(!1)})})]})},m2=()=>s.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center px-4",children:s.jsx(tt,{className:"max-w-md w-full",children:s.jsxs(tt.Body,{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-6",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Accs Non Autoris"}),s.jsx("p",{className:"text-slate-600 mb-8",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(tn,{as:ht,to:"/",className:"w-full",children:"Retour  l'accueil"}),s.jsx(tn,{variant:"secondary",as:ht,to:"/auth",className:"w-full",children:"Se connecter avec un autre compte"})]})]})})}),p2=({products:r,orders:i,commerce:a})=>{const c=r.length,h=r.filter(k=>k.isAvailable&&k.stock>0).length,p=r.filter(k=>k.stock===0).length,g=i.length,w=i.filter(k=>new Date(k.createdAt).toDateString()===new Date().toDateString()).length;i.filter(k=>{const S=new Date(k.createdAt),R=new Date,$=new Date(R.getTime()-10080*60*1e3);return S>=$}).length;const y=i.filter(k=>k.status!=="cancelled").reduce((k,S)=>k+S.grandTotal,0),_=i.filter(k=>k.status!=="cancelled"&&new Date(k.createdAt).toDateString()===new Date().toDateString()).reduce((k,S)=>k+S.grandTotal,0),N=g>0?y/g:0,C=i.filter(k=>k.status==="pending").length,I=i.filter(k=>k.status==="preparing").length,W=[{title:"Produits actifs",value:h,total:c,icon:"",color:"green",trend:p>0?"warning":"positive"},{title:"Commandes aujourd'hui",value:w,total:g,icon:"",color:"blue",trend:"neutral"},{title:"Revenus aujourd'hui",value:`${_.toFixed(2)}`,total:`${y.toFixed(2)}`,icon:"",color:"yellow",trend:"positive"},{title:"Commandes en attente",value:C,total:I,icon:"",color:"orange",trend:C>0?"warning":"positive"}],O=k=>{const S={green:"bg-green-500 text-green-50",blue:"bg-blue-500 text-blue-50",yellow:"bg-yellow-500 text-yellow-50",orange:"bg-orange-500 text-orange-50"};return S[k]||S.green},T=k=>{switch(k){case"positive":return"";case"warning":return"";default:return""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:W.map((k,S)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-xl ${O(k.color)}`,children:k.icon}),s.jsx("span",{className:"text-lg",children:T(k.trend)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:k.title}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:k.value}),typeof k.total=="string"&&k.total!==k.value&&s.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",k.total]}),typeof k.total=="number"&&k.total!==k.value&&s.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",k.total]})]})]})]},S))}),a&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" Statut du commerce"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nom du commerce"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.name})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Type"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-lg",children:a.userId?"":""}),s.jsx("span",{className:"text-gray-900",children:a.userId?"Commerce itinrant":"Commerce fixe"})]})]}),a.category&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Catgorie"}),s.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full",children:a.category})]})]}),s.jsxs("div",{className:"space-y-4",children:[a.isVerified&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Commerce vrifi"})]}),a.rating&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Note moyenne"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((k,S)=>s.jsx("svg",{className:`w-4 h-4 ${S<Math.floor(a.rating||0)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},S))}),s.jsxs("span",{className:"text-sm text-gray-600",children:[a.rating.toFixed(1),"/5"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Panier moyen"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[N.toFixed(2),""]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" Actions rapides"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-green-600",children:"Ajouter un produit"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Voir les rapports"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-orange-500 hover:bg-orange-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-orange-600",children:"Commandes en attente"})]}),s.jsxs("button",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors group",children:[s.jsx("span",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-600",children:"Paramtres"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:" Activit rcente"}),i.slice(0,5).length>0?s.jsx("div",{className:"space-y-3",children:i.slice(0,5).map(k=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:""})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Commande #",k.id]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleDateString("fr-FR")})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[k.grandTotal.toFixed(2),""]}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${k.status==="delivered"?"bg-green-100 text-green-800":k.status==="preparing"?"bg-yellow-100 text-yellow-800":k.status==="pending"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:k.status})]})]},k.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("span",{className:"text-4xl mb-2 block",children:""}),s.jsx("p",{children:"Aucune commande rcente"})]})]})]})},g2=({commerce:r,products:i})=>{mt();const[a,c]=D.useState(!1),[h,p]=D.useState(!1),[g,w]=D.useState(null),[y,_]=D.useState(""),[N,C]=D.useState(""),[I,W]=D.useState("all"),[O,T]=D.useState({name:"",description:"",price:0,unit:"pice",category:"",stock:0,isAvailable:!0}),k=i.filter(X=>{const Fe=X.name.toLowerCase().includes(y.toLowerCase())||X.description.toLowerCase().includes(y.toLowerCase()),We=!N||X.category===N,De=I==="all"||I==="available"&&X.isAvailable&&X.stock>0||I==="out_of_stock"&&X.stock===0;return Fe&&We&&De}),S=[...new Set(i.map(X=>X.category))],R=X=>{const{name:Fe,value:We,type:De}=X.target;T(pt=>({...pt,[Fe]:De==="checkbox"?X.target.checked:De==="number"?parseFloat(We)||0:We}))},$=async X=>{X.preventDefault();try{g?console.log("Updating product:",g.id,O):console.log("Creating product:",O),K()}catch(Fe){console.error("Error saving product:",Fe)}},K=()=>{T({name:"",description:"",price:0,unit:"pice",category:"",stock:0,isAvailable:!0}),w(null),c(!1),p(!1)},G=X=>{w(X),T({name:X.name,description:X.description,price:X.price,unit:X.unit,category:X.category,stock:X.stock,isAvailable:X.isAvailable}),p(!0)},se=async X=>{if(confirm("tes-vous sr de vouloir supprimer ce produit ?"))try{console.log("Deleting product:",X)}catch(Fe){console.error("Error deleting product:",Fe)}},oe=async X=>{try{console.log("Toggling availability for:",X.id)}catch(Fe){console.error("Error updating product availability:",Fe)}},ne=()=>s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du produit *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:O.name,onChange:R,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Ex: Bananes plantains"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie *"}),s.jsxs("select",{id:"category",name:"category",value:O.category,onChange:R,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Slectionner une catgorie"}),s.jsx("option",{value:"Fruits",children:"Fruits"}),s.jsx("option",{value:"Lgumes",children:"Lgumes"}),s.jsx("option",{value:"pices",children:"pices"}),s.jsx("option",{value:"Poissons",children:"Poissons"}),s.jsx("option",{value:"Viandes",children:"Viandes"}),s.jsx("option",{value:"Autres",children:"Autres"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:O.description,onChange:R,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Description du produit..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",id:"price",name:"price",value:O.price,onChange:R,step:"0.01",min:"0",required:!0,className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"0.00"}),s.jsx("span",{className:"absolute right-3 top-2 text-gray-500",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),s.jsxs("select",{id:"unit",name:"unit",value:O.unit,onChange:R,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"pice",children:"pice"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"litre",children:"litre"}),s.jsx("option",{value:"paquet",children:"paquet"}),s.jsx("option",{value:"botte",children:"botte"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock *"}),s.jsx("input",{type:"number",id:"stock",name:"stock",value:O.stock,onChange:R,min:"0",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"0"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isAvailable",name:"isAvailable",checked:O.isAvailable,onChange:R,className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isAvailable",className:"ml-2 text-sm text-gray-700",children:"Produit disponible  la vente"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:g?"Mettre  jour":"Crer le produit"})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" Gestion des produits"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[i.length," produit",i.length!==1?"s":""," dans votre catalogue"]})]}),s.jsxs("button",{onClick:()=>c(!0),className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:[s.jsx("span",{className:"mr-2",children:""}),"Nouveau produit"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:y,onChange:X=>_(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),s.jsx("div",{children:s.jsxs("select",{value:N,onChange:X=>C(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Toutes les catgories"}),S.map(X=>s.jsx("option",{value:X,children:X},X))]})}),s.jsx("div",{children:s.jsxs("select",{value:I,onChange:X=>W(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"available",children:"Disponibles"}),s.jsx("option",{value:"out_of_stock",children:"Rupture de stock"})]})}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[k.length," produit",k.length!==1?"s":""," affich",k.length!==1?"s":""]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:k.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i.length===0?"Aucun produit":"Aucun rsultat"}),s.jsx("p",{className:"text-gray-600 mb-4",children:i.length===0?"Commencez par ajouter votre premier produit":"Aucun produit ne correspond  vos critres de recherche"}),i.length===0&&s.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:[s.jsx("span",{className:"mr-2",children:""}),"Ajouter un produit"]})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:k.map(X=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:X.name}),s.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:X.category}),!X.isAvailable&&s.jsx("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"Indisponible"}),X.stock===0&&s.jsx("span",{className:"inline-block px-2 py-1 bg-orange-100 text-orange-700 text-xs font-medium rounded-full",children:"Rupture de stock"}),X.stock<=5&&X.stock>0&&s.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:"Stock faible"})]}),X.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:X.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[s.jsxs("span",{className:"font-semibold text-gray-900",children:[X.price.toFixed(2)," / ",X.unit]}),s.jsxs("span",{children:["Stock: ",X.stock]}),s.jsxs("span",{children:["Ajout le ",new Date(X.createdAt).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>oe(X),className:`p-2 rounded-lg transition-colors ${X.isAvailable?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:X.isAvailable?"Dsactiver":"Activer",children:X.isAvailable?"":""}),s.jsx("button",{onClick:()=>G(X),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Modifier",children:""}),s.jsx("button",{onClick:()=>se(X.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Supprimer",children:""})]})]})},X.id))})}),s.jsx(Ia,{isOpen:a,onClose:()=>c(!1),title:" Nouveau produit",size:"lg",children:s.jsx(ne,{})}),s.jsx(Ia,{isOpen:h,onClose:()=>p(!1),title:" Modifier le produit",size:"lg",children:s.jsx(ne,{})})]})},x2=({orders:r,commerce:i})=>{mt();const[a,c]=D.useState("all"),[h,p]=D.useState(""),[g,w]=D.useState(null),y=r.filter(S=>{const R=a==="all"||S.status===a,$=S.id.toString().includes(h)||S.phone.includes(h);return R&&$}),_=S=>{const R={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200",preparing:"bg-orange-100 text-orange-800 border-orange-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"};return R[S]||R.pending},N=S=>({pending:"",confirmed:"",preparing:"",delivered:"",cancelled:""})[S]||"",C=S=>({pending:"En attente",confirmed:"Confirme",preparing:"En prparation",delivered:"Livre",cancelled:"Annule"})[S]||S,I=async(S,R)=>{try{console.log("Changing order status:",S,R)}catch($){console.error("Error updating order status:",$)}},W=S=>({pending:"confirmed",confirmed:"preparing",preparing:"delivered",delivered:null,cancelled:null})[S],O=S=>W(S)!==null,T=({order:S})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Informations de commande"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Numro:"}),s.jsxs("span",{className:"font-medium",children:["#",S.id]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date:"}),s.jsx("span",{children:new Date(S.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Statut:"}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(S.status)}`,children:[N(S.status)," ",C(S.status)]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact client"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tlphone:"}),s.jsx("span",{className:"font-medium",children:S.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Mode de paiement:"}),s.jsx("span",{className:"capitalize",children:S.paymentMethod})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Adresse de livraison"}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[s.jsx("p",{children:S.deliveryAddress.street}),s.jsxs("p",{children:[S.deliveryAddress.postalCode," ",S.deliveryAddress.city]}),s.jsx("p",{children:S.deliveryAddress.country})]})]}),S.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes du client"}),s.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg text-sm border border-yellow-200",children:S.notes})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Produits commands"}),s.jsx("div",{className:"space-y-2",children:S.items.map(R=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900",children:R.product.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[R.unitPrice.toFixed(2)," / ",R.product.unit]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["x",R.quantity]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[R.totalPrice.toFixed(2),""]})]})]},R.id))})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sous-total:"}),s.jsxs("span",{children:[S.totalAmount.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Frais de livraison:"}),s.jsxs("span",{children:[S.deliveryFee.toFixed(2),""]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:[S.grandTotal.toFixed(2),""]})]})]})})]}),k={pending:r.filter(S=>S.status==="pending").length,confirmed:r.filter(S=>S.status==="confirmed").length,preparing:r.filter(S=>S.status==="preparing").length,delivered:r.filter(S=>S.status==="delivered").length,cancelled:r.filter(S=>S.status==="cancelled").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(k).map(([S,R])=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[s.jsx("div",{className:"text-2xl mb-1",children:N(S)}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:R}),s.jsx("div",{className:"text-xs text-gray-600",children:C(S)})]},S))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" Gestion des commandes"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[r.length," commande",r.length!==1?"s":""," au total"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Rechercher par numro ou tlphone...",value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),s.jsx("div",{children:s.jsxs("select",{value:a,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"confirmed",children:"Confirmes"}),s.jsx("option",{value:"preparing",children:"En prparation"}),s.jsx("option",{value:"delivered",children:"Livres"}),s.jsx("option",{value:"cancelled",children:"Annules"})]})}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[y.length," commande",y.length!==1?"s":""," affich",y.length!==1?"es":"e"]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r.length===0?"Aucune commande":"Aucun rsultat"}),s.jsx("p",{className:"text-gray-600",children:r.length===0?"Vous n'avez pas encore reu de commandes":"Aucune commande ne correspond  vos critres de recherche"})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:y.map(S=>s.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Commande #",S.id]}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${_(S.status)}`,children:[N(S.status)," ",C(S.status)]}),S.paymentMethod==="cash"&&s.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:" Paiement cash"})]}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{children:[" ",S.phone]}),s.jsxs("span",{children:[" ",new Date(S.createdAt).toLocaleDateString("fr-FR")]}),s.jsxs("span",{className:"font-semibold text-gray-900",children:[S.grandTotal.toFixed(2),""]}),s.jsxs("span",{children:[S.items.length," article",S.items.length!==1?"s":""]})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[" ",S.deliveryAddress.street,", ",S.deliveryAddress.city]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[O(S.status)&&s.jsxs("button",{onClick:()=>I(S.id,W(S.status)),className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-lg hover:bg-green-200 transition-colors",children:[" ",C(W(S.status))]}),S.status==="pending"&&s.jsx("button",{onClick:()=>I(S.id,"cancelled"),className:"px-3 py-1 bg-red-100 text-red-700 text-sm font-medium rounded-lg hover:bg-red-200 transition-colors",children:" Annuler"}),s.jsx("button",{onClick:()=>w((g==null?void 0:g.id)===S.id?null:S),className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-lg hover:bg-blue-200 transition-colors",children:(g==null?void 0:g.id)===S.id?" Masquer":" Dtails"})]})]}),(g==null?void 0:g.id)===S.id&&s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx(T,{order:S})})]},S.id))})})]})},v2=({commerce:r,user:i})=>{mt();const[a,c]=D.useState(!1),[h,p]=D.useState("info"),[g,w]=D.useState({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",adress1:(r==null?void 0:r.adress1)||"",ville:(r==null?void 0:r.ville)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||"",category:(r==null?void 0:r.category)||""}),y=C=>{const{name:I,value:W}=C.target;w(O=>({...O,[I]:W}))},_=async C=>{C.preventDefault();try{console.log("Updating commerce:",g),c(!1)}catch(I){console.error("Error updating commerce:",I)}},N=()=>{w({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",adress1:(r==null?void 0:r.adress1)||"",ville:(r==null?void 0:r.ville)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||"",category:(r==null?void 0:r.category)||""}),c(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-2xl",children:(i==null?void 0:i.role)==="itinerant"?"":""}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.name)||"Mon commerce"}),s.jsxs("p",{className:"text-gray-600",children:["Commerce ",(i==null?void 0:i.role)==="itinerant"?"itinrant":"sdentaire"]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[(r==null?void 0:r.isVerified)&&s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-100 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Vrifi"})]}),(i==null?void 0:i.role)==="itinerant"&&s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 rounded-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"En ligne"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"info",label:" Informations",icon:""},{id:"settings",label:" Paramtres",icon:""},{id:"hours",label:" Horaires",icon:""}].map(C=>s.jsx("button",{onClick:()=>p(C.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${h===C.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:C.label},C.id))})}),s.jsxs("div",{className:"p-6",children:[h==="info"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Informations du commerce"}),a?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{onClick:_,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Sauvegarder"})]}):s.jsx("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:" Modifier"})]}),a?s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du commerce *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:g.name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Catgorie"}),s.jsxs("select",{id:"category",name:"category",value:g.category,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Slectionner une catgorie"}),s.jsx("option",{value:"Fruits et lgumes",children:"Fruits et lgumes"}),s.jsx("option",{value:"picerie",children:"picerie"}),s.jsx("option",{value:"Boucherie",children:"Boucherie"}),s.jsx("option",{value:"Poissonnerie",children:"Poissonnerie"}),s.jsx("option",{value:"Boulangerie",children:"Boulangerie"}),s.jsx("option",{value:"Restauration",children:"Restauration"}),s.jsx("option",{value:"Autres",children:"Autres"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:g.description,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Dcrivez votre commerce, vos spcialits..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"adress1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),s.jsx("input",{type:"text",id:"adress1",name:"adress1",value:g.adress1,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ville",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),s.jsx("input",{type:"text",id:"ville",name:"ville",value:g.ville,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:g.phone,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:g.email,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nom du commerce"}),s.jsx("p",{className:"text-lg text-gray-900",children:(r==null?void 0:r.name)||"Non renseign"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Catgorie"}),s.jsx("p",{className:"text-lg text-gray-900",children:r!=null&&r.category?s.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 rounded-full",children:r.category}):"Non renseigne"})]})]}),(r==null?void 0:r.description)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Adresse"}),s.jsx("p",{className:"text-gray-900",children:(r==null?void 0:r.adress1)||"Non renseigne"}),(r==null?void 0:r.ville)&&s.jsx("p",{className:"text-gray-600",children:r.ville})]}),s.jsxs("div",{className:"space-y-4",children:[(r==null?void 0:r.phone)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tlphone"}),s.jsx("p",{className:"text-gray-900",children:r.phone})]}),(r==null?void 0:r.email)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:r.email})]})]})]})]})]}),h==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Paramtres"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications de nouvelles commandes"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Visibilit du commerce"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Afficher mon commerce sur la carte"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]}),(i==null?void 0:i.role)==="itinerant"&&s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Suivi GPS"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Partager ma position en temps rel"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Accepter les nouveaux clients"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Autoriser de nouveaux clients  commander"})]}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:!0})]})]})]}),h==="hours"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Horaires d'ouverture"}),s.jsx("div",{className:"space-y-4",children:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"].map(C=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"w-20",children:s.jsx("span",{className:"font-medium text-gray-900",children:C})}),s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",defaultChecked:C!=="Dimanche"}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Ouverture"}),s.jsx("input",{type:"time",defaultValue:"08:00",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Fermeture"}),s.jsx("input",{type:"time",defaultValue:"18:00",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]},C))}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx("button",{className:"w-full md:w-auto px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700",children:"Sauvegarder les horaires"})})]})]})]})]})},y2=()=>{const r=mt(),{user:i}=Ae(_=>_.auth),{products:a}=Ae(_=>_.product),{orders:c}=Ae(_=>_.order),{currentCommerce:h}=Ae(_=>_.commerce),[p,g]=D.useState("overview"),w=(i==null?void 0:i.role)==="itinerant"||(i==null?void 0:i.role)==="sedentary";if(D.useEffect(()=>{i&&w&&(r(fo()),i.id&&r(Pa(i.id)))},[i,w,r]),D.useEffect(()=>{h&&r(Ea(h.id))},[h,r]),!w)return s.jsx("div",{className:"max-w-2xl mx-auto text-center py-16",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[s.jsx("svg",{className:"w-12 h-12 text-yellow-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Accs rserv aux vendeurs"}),s.jsx("p",{className:"text-gray-600",children:"Ce tableau de bord est rserv aux commerants itinrants et sdentaires."})]})});const y=[{id:"overview",label:" Vue d'ensemble",icon:""},{id:"products",label:" Mes produits",icon:""},{id:"orders",label:" Commandes",icon:""},{id:"profile",label:" Mon commerce",icon:""}];return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[(i==null?void 0:i.role)==="itinerant"?"":""," Dashboard Vendeur"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez votre activit commerciale en temps rel"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[(i==null?void 0:i.role)==="itinerant"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"En ligne"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Ventes aujourd'hui"}),s.jsx("div",{className:"text-xl font-bold text-green-600",children:(c==null?void 0:c.filter(_=>new Date(_.createdAt).toDateString()===new Date().toDateString()).length)||0})]})]})]})}),s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(_=>s.jsx("button",{onClick:()=>g(_.id),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${p===_.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:_.label},_.id))})}),s.jsxs("div",{className:"space-y-6",children:[p==="overview"&&s.jsx(p2,{products:a||[],orders:c||[],commerce:h}),p==="products"&&s.jsx(g2,{commerce:h,products:a||[]}),p==="orders"&&s.jsx(x2,{orders:c||[],commerce:h}),p==="profile"&&s.jsx(v2,{commerce:h,user:i})]})]})};function _2(){const r=mt();return D.useEffect(()=>{r(kc())},[r]),s.jsxs(s.Fragment,{children:[s.jsx(Lw,{children:s.jsxs(tv,{children:[s.jsx(en,{path:"/",element:null}),s.jsx(en,{path:"/commerces",element:s.jsx(zw,{})}),s.jsx(en,{path:"/commerces/:id",element:s.jsx(Aw,{})}),s.jsx(en,{path:"/products",element:s.jsx(Ow,{})}),s.jsx(en,{path:"/products/:id",element:s.jsx(a2,{})}),s.jsx(en,{path:"/cart",element:s.jsx(l2,{})}),s.jsx(en,{path:"/checkout",element:s.jsx(c2,{})}),s.jsx(en,{path:"/orders",element:s.jsx(u2,{})}),s.jsx(en,{path:"/profile",element:s.jsx(d2,{})}),s.jsx(en,{path:"/auth",element:s.jsx(h2,{})}),s.jsx(en,{path:"/interests",element:s.jsx(f2,{})}),s.jsx(en,{path:"/dashboard",element:s.jsx(y2,{})}),s.jsx(en,{path:"/unauthorized",element:s.jsx(m2,{})})]})}),s.jsx(Mw,{}),s.jsx(Rw,{})]})}W0.createRoot(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(rx,{store:u1,children:s.jsx(lv,{children:s.jsx(_2,{})})})}));
